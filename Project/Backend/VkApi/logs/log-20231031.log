2023-10-31 15:16:22.304 [INF] App server is starting.
2023-10-31 15:16:49.846 [INF] LogErrorHandlerMiddleware.Invoke
2023-10-31 15:16:49.850 [INF] HeartBeat
2023-10-31 15:16:49.851 [INF] LogRequestLoggingMiddleware.Invoke
2023-10-31 15:16:52.326 [FTL] Path=/finalCase/Users/2 || Method=PUT || Exception=The instance of entity type 'User' cannot be tracked because another instance with the same key value for {'Id'} is already being tracked. When attaching existing entities, ensure that only one entity instance with a given key value is attached. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see the conflicting key values.
2023-10-31 15:16:52.435 [ERR] An unhandled exception has occurred while executing the request.
System.ObjectDisposedException: Cannot access a disposed object.
Object name: 'The stream with Id df1b6942-ffab-4715-816d-315e451ef391 and Tag  is disposed.'.
   at Microsoft.IO.RecyclableMemoryStream.ThrowDisposedException() in /_/src/RecyclableMemoryStream.cs:line 1453
   at Microsoft.IO.RecyclableMemoryStream.Write(Byte[] buffer, Int32 offset, Int32 count) in /_/src/RecyclableMemoryStream.cs:line 997
   at System.IO.MemoryStream.WriteAsync(ReadOnlyMemory`1 buffer, CancellationToken cancellationToken)
--- End of stack trace from previous location ---
   at System.IO.Pipelines.StreamPipeWriter.FlushAsyncInternal(Boolean writeToStream, ReadOnlyMemory`1 data, CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at System.Threading.Tasks.ValueTask`1.GetTaskForValueTaskSource(IValueTaskSource`1 t)
--- End of stack trace from previous location ---
   at VkApi.Middleware.ErrorHandlerMiddleware.Invoke(HttpContext context) in C:\Vakifbank_Bootcamp\FinalCase\VkApi\Middleware\ErrorHandlerMiddleware.cs:line 33
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2023-10-31 15:16:52.487 [ERR] An exception was thrown attempting to display the error page.
System.ObjectDisposedException: Cannot access a disposed object.
Object name: 'The stream with Id df1b6942-ffab-4715-816d-315e451ef391 and Tag  is disposed.'.
   at Microsoft.IO.RecyclableMemoryStream.ThrowDisposedException() in /_/src/RecyclableMemoryStream.cs:line 1453
   at Microsoft.IO.RecyclableMemoryStream.Write(Byte[] buffer, Int32 offset, Int32 count) in /_/src/RecyclableMemoryStream.cs:line 997
   at System.IO.MemoryStream.WriteAsync(ReadOnlyMemory`1 buffer, CancellationToken cancellationToken)
--- End of stack trace from previous location ---
   at System.IO.Pipelines.StreamPipeWriter.FlushAsyncInternal(Boolean writeToStream, ReadOnlyMemory`1 data, CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at System.Threading.Tasks.ValueTask`1.GetTaskForValueTaskSource(IValueTaskSource`1 t)
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.DisplayExceptionContent(ErrorContext errorContext)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2023-10-31 15:16:52.494 [ERR] Connection ID "18086456105130524682", Request ID "8000000b-0000-fb00-b63f-84710c7967bb": An unhandled exception was thrown by the application.
System.ObjectDisposedException: Cannot access a disposed object.
Object name: 'The stream with Id df1b6942-ffab-4715-816d-315e451ef391 and Tag  is disposed.'.
   at Microsoft.IO.RecyclableMemoryStream.ThrowDisposedException() in /_/src/RecyclableMemoryStream.cs:line 1453
   at Microsoft.IO.RecyclableMemoryStream.Write(Byte[] buffer, Int32 offset, Int32 count) in /_/src/RecyclableMemoryStream.cs:line 997
   at System.IO.MemoryStream.WriteAsync(ReadOnlyMemory`1 buffer, CancellationToken cancellationToken)
--- End of stack trace from previous location ---
   at System.IO.Pipelines.StreamPipeWriter.FlushAsyncInternal(Boolean writeToStream, ReadOnlyMemory`1 data, CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at System.Threading.Tasks.ValueTask`1.GetTaskForValueTaskSource(IValueTaskSource`1 t)
--- End of stack trace from previous location ---
   at VkApi.Middleware.ErrorHandlerMiddleware.Invoke(HttpContext context) in C:\Vakifbank_Bootcamp\FinalCase\VkApi\Middleware\ErrorHandlerMiddleware.cs:line 33
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware.InvokeAsync(HttpContext context)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContextOfT`1.ProcessRequestAsync()
2023-10-31 15:19:20.822 [INF] App server is starting.
2023-10-31 15:19:33.570 [INF] LogErrorHandlerMiddleware.Invoke
2023-10-31 15:19:33.575 [INF] HeartBeat
2023-10-31 15:19:33.576 [INF] LogRequestLoggingMiddleware.Invoke
2023-10-31 15:19:35.830 [INF] -------------Request-Begin------------
2023-10-31 15:19:35.830 [INF] Http Request Information: 
Schema:https 
Host: localhost:44346 
Path: /finalCase/Users/2 
QueryString:  
Request Body: {
  "userNumber": 0,
  "userName": "dfggdfg",
  "userEmail": "string",
  "userPassword": "string",
  "userRole": "string",
  "userBalance": 0,
  "userProfitMargin": 0
}
2023-10-31 15:19:35.830 [INF] 

2023-10-31 15:19:35.830 [INF] Http Response Information: 
Schema:https 
Host: localhost:44346 
Path: /finalCase/Users/2 
QueryString:  
StatusCode: 200 
Response Body: {"success":true,"message":null}
2023-10-31 15:19:35.830 [INF] -------------Request-End------------
2023-10-31 15:24:00.512 [INF] App server is starting.
2023-10-31 15:24:08.862 [INF] LogErrorHandlerMiddleware.Invoke
2023-10-31 15:24:08.865 [INF] HeartBeat
2023-10-31 15:24:08.868 [INF] LogRequestLoggingMiddleware.Invoke
2023-10-31 15:24:11.073 [INF] -------------Request-Begin------------
2023-10-31 15:24:11.073 [INF] Http Request Information: 
Schema:https 
Host: localhost:44346 
Path: /finalCase/Users/2 
QueryString:  
Request Body: 
2023-10-31 15:24:11.073 [INF] 

2023-10-31 15:24:11.073 [INF] Http Response Information: 
Schema:https 
Host: localhost:44346 
Path: /finalCase/Users/2 
QueryString:  
StatusCode: 200 
Response Body: {"success":true,"message":null}
2023-10-31 15:24:11.074 [INF] -------------Request-End------------
2023-10-31 15:24:14.454 [INF] LogErrorHandlerMiddleware.Invoke
2023-10-31 15:24:14.454 [INF] HeartBeat
2023-10-31 15:24:14.455 [INF] LogRequestLoggingMiddleware.Invoke
2023-10-31 15:24:14.534 [INF] -------------Request-Begin------------
2023-10-31 15:24:14.534 [INF] Http Request Information: 
Schema:https 
Host: localhost:44346 
Path: /finalCase/Users/3 
QueryString:  
Request Body: 
2023-10-31 15:24:14.534 [INF] 

2023-10-31 15:24:14.534 [INF] Http Response Information: 
Schema:https 
Host: localhost:44346 
Path: /finalCase/Users/3 
QueryString:  
StatusCode: 200 
Response Body: {"success":true,"message":null}
2023-10-31 15:24:14.534 [INF] -------------Request-End------------
2023-10-31 15:24:23.535 [INF] LogErrorHandlerMiddleware.Invoke
2023-10-31 15:24:23.535 [INF] HeartBeat
2023-10-31 15:24:23.535 [INF] LogRequestLoggingMiddleware.Invoke
2023-10-31 15:24:23.597 [INF] -------------Request-Begin------------
2023-10-31 15:24:23.597 [INF] Http Request Information: 
Schema:https 
Host: localhost:44346 
Path: /finalCase/Users 
QueryString:  
Request Body: 
2023-10-31 15:24:23.597 [INF] 

2023-10-31 15:24:23.597 [INF] Http Response Information: 
Schema:https 
Host: localhost:44346 
Path: /finalCase/Users 
QueryString:  
StatusCode: 200 
Response Body: {"success":true,"message":"Success","response":[]}
2023-10-31 15:24:23.597 [INF] -------------Request-End------------
2023-10-31 15:24:38.394 [INF] LogErrorHandlerMiddleware.Invoke
2023-10-31 15:24:38.395 [INF] HeartBeat
2023-10-31 15:24:38.395 [INF] LogRequestLoggingMiddleware.Invoke
2023-10-31 15:24:38.486 [INF] -------------Request-Begin------------
2023-10-31 15:24:38.486 [INF] Http Request Information: 
Schema:https 
Host: localhost:44346 
Path: /finalCase/Users 
QueryString:  
Request Body: {
  "userNumber": 100001,
  "userName": "string",
  "userEmail": "string",
  "userPassword": "string",
  "userRole": "string",
  "userBalance": 0,
  "userProfitMargin": 0
}
2023-10-31 15:24:38.486 [INF] 

2023-10-31 15:24:38.487 [INF] Http Response Information: 
Schema:https 
Host: localhost:44346 
Path: /finalCase/Users 
QueryString:  
StatusCode: 400 
Response Body: {"type":"https://tools.ietf.org/html/rfc7231#section-6.5.1","title":"One or more validation errors occurred.","status":400,"traceId":"00-5f0f22f531620d6e509c6b4a5a11d72b-6a900c14a2bcc7ea-00","errors":{"UserRole":["UserRole must be 'Admin' or 'Dealer'."],"UserBalance":["UserBalance is required."],"UserProfitMargin":["UserProfitMargin is required."]}}
2023-10-31 15:24:38.487 [INF] -------------Request-End------------
2023-10-31 15:25:15.093 [INF] LogErrorHandlerMiddleware.Invoke
2023-10-31 15:25:15.113 [INF] HeartBeat
2023-10-31 15:25:15.115 [INF] LogRequestLoggingMiddleware.Invoke
2023-10-31 15:25:15.221 [INF] -------------Request-Begin------------
2023-10-31 15:25:15.221 [INF] Http Request Information: 
Schema:https 
Host: localhost:44346 
Path: /finalCase/Users 
QueryString:  
Request Body: {
  "userNumber": 100001,
  "userName": "test",
  "userEmail": "test@test.com",
  "userPassword": "test",
  "userRole": "Admin",
  "userBalance": 500,
  "userProfitMargin": 10
}
2023-10-31 15:25:15.221 [INF] 

2023-10-31 15:25:15.221 [INF] Http Response Information: 
Schema:https 
Host: localhost:44346 
Path: /finalCase/Users 
QueryString:  
StatusCode: 200 
Response Body: {"success":true,"message":"Success","response":{"userNumber":100001,"userName":"test","userEmail":"test@test.com","userPassword":"098f6bcd4621d373cade4e832627b4f6","userPasswordRetryCount":0,"userRole":"Admin","userBalance":500,"userProfitMargin":10,"addresses":[],"orders":[]}}
2023-10-31 15:25:15.221 [INF] -------------Request-End------------
2023-10-31 15:25:47.938 [INF] LogErrorHandlerMiddleware.Invoke
2023-10-31 15:25:47.941 [INF] HeartBeat
2023-10-31 15:25:47.941 [INF] LogRequestLoggingMiddleware.Invoke
2023-10-31 15:25:47.968 [INF] -------------Request-Begin------------
2023-10-31 15:25:47.968 [INF] Http Request Information: 
Schema:https 
Host: localhost:44346 
Path: /finalCase/Users 
QueryString:  
Request Body: 
2023-10-31 15:25:47.968 [INF] 

2023-10-31 15:25:47.968 [INF] Http Response Information: 
Schema:https 
Host: localhost:44346 
Path: /finalCase/Users 
QueryString:  
StatusCode: 200 
Response Body: {"success":true,"message":"Success","response":[{"userNumber":100001,"userName":"test","userEmail":"test@test.com","userPassword":"098f6bcd4621d373cade4e832627b4f6","userPasswordRetryCount":0,"userRole":"Admin","userBalance":500,"userProfitMargin":10,"addresses":[],"orders":[]}]}
2023-10-31 15:25:47.968 [INF] -------------Request-End------------
2023-10-31 15:26:01.316 [INF] LogErrorHandlerMiddleware.Invoke
2023-10-31 15:26:01.317 [INF] HeartBeat
2023-10-31 15:26:01.317 [INF] LogRequestLoggingMiddleware.Invoke
2023-10-31 15:26:01.408 [INF] -------------Request-Begin------------
2023-10-31 15:26:01.408 [INF] Http Request Information: 
Schema:https 
Host: localhost:44346 
Path: /finalCase/Users/6 
QueryString:  
Request Body: 
2023-10-31 15:26:01.408 [INF] 

2023-10-31 15:26:01.408 [INF] Http Response Information: 
Schema:https 
Host: localhost:44346 
Path: /finalCase/Users/6 
QueryString:  
StatusCode: 200 
Response Body: {"success":true,"message":"Success","response":{"userNumber":100001,"userName":"test","userEmail":"test@test.com","userPassword":"098f6bcd4621d373cade4e832627b4f6","userPasswordRetryCount":0,"userRole":"Admin","userBalance":500,"userProfitMargin":10,"addresses":[],"orders":[]}}
2023-10-31 15:26:01.408 [INF] -------------Request-End------------
2023-10-31 15:26:50.113 [INF] LogErrorHandlerMiddleware.Invoke
2023-10-31 15:26:50.113 [INF] HeartBeat
2023-10-31 15:26:50.113 [INF] LogRequestLoggingMiddleware.Invoke
2023-10-31 15:26:50.199 [INF] -------------Request-Begin------------
2023-10-31 15:26:50.199 [INF] Http Request Information: 
Schema:https 
Host: localhost:44346 
Path: /finalCase/Users/6 
QueryString:  
Request Body: {
  "userNumber": 0,
  "userName": "test",
  "userEmail": "testtt@gmail.com",
  "userPassword": "string",
  "userRole": "string",
  "userBalance": 0,
  "userProfitMargin": 0
}
2023-10-31 15:26:50.199 [INF] 

2023-10-31 15:26:50.199 [INF] Http Response Information: 
Schema:https 
Host: localhost:44346 
Path: /finalCase/Users/6 
QueryString:  
StatusCode: 200 
Response Body: {"success":true,"message":null}
2023-10-31 15:26:50.199 [INF] -------------Request-End------------
2023-10-31 15:28:36.117 [INF] App server is starting.
2023-10-31 15:29:05.595 [INF] LogErrorHandlerMiddleware.Invoke
2023-10-31 15:29:05.600 [INF] HeartBeat
2023-10-31 15:29:05.602 [INF] LogRequestLoggingMiddleware.Invoke
2023-10-31 15:29:05.867 [INF] -------------Request-Begin------------
2023-10-31 15:29:05.867 [INF] Http Request Information: 
Schema:https 
Host: localhost:44346 
Path: /finalCase/Users 
QueryString:  
Request Body: {
  "userNumber": 0,
  "userName": "murat",
  "userEmail": "murat@gmail.com",
  "userPassword": "murat",
  "userRole": "Admin",
  "userBalance": 500,
  "userProfitMargin": 15
}
2023-10-31 15:29:05.867 [INF] 

2023-10-31 15:29:05.868 [INF] Http Response Information: 
Schema:https 
Host: localhost:44346 
Path: /finalCase/Users 
QueryString:  
StatusCode: 400 
Response Body: {"type":"https://tools.ietf.org/html/rfc7231#section-6.5.1","title":"One or more validation errors occurred.","status":400,"traceId":"00-e6ddda59ba73bedab91b3289837d2ccf-b05b6c8b095f540c-00","errors":{"UserNumber":["UserNumber is required.","UserNumber must be a 6-digit number."]}}
2023-10-31 15:29:05.868 [INF] -------------Request-End------------
2023-10-31 15:29:20.293 [INF] LogErrorHandlerMiddleware.Invoke
2023-10-31 15:29:20.293 [INF] HeartBeat
2023-10-31 15:29:20.293 [INF] LogRequestLoggingMiddleware.Invoke
2023-10-31 15:29:21.946 [ERR] An exception occurred in the database while saving changes for context type 'Vk.Data.Context.VkDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert duplicate key row in object 'dbo.User' with unique index 'IX_User_UserNumber'. The duplicate key value is (100001).
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.Read()
   at Microsoft.EntityFrameworkCore.Storage.RelationalDataReader.Read()
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSet(Int32 startCommandIndex, RelationalDataReader reader)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.Consume(RelationalDataReader reader)
ClientConnectionId:d21ff7d6-cacb-4a73-ba25-301161bd2edc
Error Number:2601,State:1,Class:14
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.Consume(RelationalDataReader reader)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(IEnumerable`1 commandBatches, IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChanges(IList`1 entries)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(IList`1 entriesToSave)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(StateManager stateManager, Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.<>c.<SaveChanges>b__107_0(DbContext _, ValueTuple`2 t)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert duplicate key row in object 'dbo.User' with unique index 'IX_User_UserNumber'. The duplicate key value is (100001).
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.Read()
   at Microsoft.EntityFrameworkCore.Storage.RelationalDataReader.Read()
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSet(Int32 startCommandIndex, RelationalDataReader reader)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.Consume(RelationalDataReader reader)
ClientConnectionId:d21ff7d6-cacb-4a73-ba25-301161bd2edc
Error Number:2601,State:1,Class:14
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.Consume(RelationalDataReader reader)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(IEnumerable`1 commandBatches, IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChanges(IList`1 entries)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(IList`1 entriesToSave)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(StateManager stateManager, Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.<>c.<SaveChanges>b__107_0(DbContext _, ValueTuple`2 t)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)
2023-10-31 15:29:22.070 [ERR] CompleteTransaction
2023-10-31 15:29:22.090 [INF] -------------Request-Begin------------
2023-10-31 15:29:22.090 [INF] Http Request Information: 
Schema:https 
Host: localhost:44346 
Path: /finalCase/Users 
QueryString:  
Request Body: {
  "userNumber": 100001,
  "userName": "murat",
  "userEmail": "murat@gmail.com",
  "userPassword": "murat",
  "userRole": "Admin",
  "userBalance": 500,
  "userProfitMargin": 15
}
2023-10-31 15:29:22.091 [INF] 

2023-10-31 15:29:22.091 [INF] Http Response Information: 
Schema:https 
Host: localhost:44346 
Path: /finalCase/Users 
QueryString:  
StatusCode: 200 
Response Body: {"success":true,"message":"Success","response":{"userNumber":100001,"userName":"murat","userEmail":"murat@gmail.com","userPassword":"5f311cc69460666eecc3e7289d14c2e8","userPasswordRetryCount":0,"userRole":"Admin","userBalance":500,"userProfitMargin":15,"addresses":[],"orders":[]}}
2023-10-31 15:29:22.091 [INF] -------------Request-End------------
2023-10-31 15:29:47.839 [INF] LogErrorHandlerMiddleware.Invoke
2023-10-31 15:29:47.840 [INF] HeartBeat
2023-10-31 15:29:47.840 [INF] LogRequestLoggingMiddleware.Invoke
2023-10-31 15:29:48.125 [INF] -------------Request-Begin------------
2023-10-31 15:29:48.135 [INF] Http Request Information: 
Schema:https 
Host: localhost:44346 
Path: /finalCase/Users 
QueryString:  
Request Body: 
2023-10-31 15:29:48.137 [INF] 

2023-10-31 15:29:48.137 [INF] Http Response Information: 
Schema:https 
Host: localhost:44346 
Path: /finalCase/Users 
QueryString:  
StatusCode: 200 
Response Body: {"success":true,"message":"Success","response":[{"userNumber":100001,"userName":"test","userEmail":"testtt@gmail.com","userPassword":"string","userPasswordRetryCount":0,"userRole":"string","userBalance":500,"userProfitMargin":10,"addresses":[],"orders":[]}]}
2023-10-31 15:29:48.139 [INF] -------------Request-End------------
2023-10-31 15:30:25.065 [INF] LogErrorHandlerMiddleware.Invoke
2023-10-31 15:30:25.066 [INF] HeartBeat
2023-10-31 15:30:25.067 [INF] LogRequestLoggingMiddleware.Invoke
2023-10-31 15:30:25.159 [INF] -------------Request-Begin------------
2023-10-31 15:30:25.159 [INF] Http Request Information: 
Schema:https 
Host: localhost:44346 
Path: /finalCase/Users 
QueryString:  
Request Body: {
  "userNumber": 100005,
  "userName": "murat",
  "userEmail": "murat@gmail.com",
  "userPassword": "murat",
  "userRole": "Admin",
  "userBalance": 500,
  "userProfitMargin": 15
}
2023-10-31 15:30:25.159 [INF] 

2023-10-31 15:30:25.159 [INF] Http Response Information: 
Schema:https 
Host: localhost:44346 
Path: /finalCase/Users 
QueryString:  
StatusCode: 200 
Response Body: {"success":true,"message":"Success","response":{"userNumber":100005,"userName":"murat","userEmail":"murat@gmail.com","userPassword":"5f311cc69460666eecc3e7289d14c2e8","userPasswordRetryCount":0,"userRole":"Admin","userBalance":500,"userProfitMargin":15,"addresses":[],"orders":[]}}
2023-10-31 15:30:25.159 [INF] -------------Request-End------------
2023-10-31 15:30:51.814 [INF] LogErrorHandlerMiddleware.Invoke
2023-10-31 15:30:51.818 [INF] HeartBeat
2023-10-31 15:30:51.818 [INF] LogRequestLoggingMiddleware.Invoke
2023-10-31 15:30:52.048 [ERR] An exception occurred in the database while saving changes for context type 'Vk.Data.Context.VkDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert the value NULL into column 'UserRole', table 'finalCase.dbo.User'; column does not allow nulls. UPDATE fails.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.Read()
   at Microsoft.EntityFrameworkCore.Storage.RelationalDataReader.Read()
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetWithRowsAffectedOnly(Int32 commandIndex, RelationalDataReader reader)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.Consume(RelationalDataReader reader)
ClientConnectionId:d21ff7d6-cacb-4a73-ba25-301161bd2edc
Error Number:515,State:2,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.Consume(RelationalDataReader reader)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(IEnumerable`1 commandBatches, IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChanges(IList`1 entries)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(IList`1 entriesToSave)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(StateManager stateManager, Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.<>c.<SaveChanges>b__107_0(DbContext _, ValueTuple`2 t)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert the value NULL into column 'UserRole', table 'finalCase.dbo.User'; column does not allow nulls. UPDATE fails.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.Read()
   at Microsoft.EntityFrameworkCore.Storage.RelationalDataReader.Read()
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetWithRowsAffectedOnly(Int32 commandIndex, RelationalDataReader reader)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.Consume(RelationalDataReader reader)
ClientConnectionId:d21ff7d6-cacb-4a73-ba25-301161bd2edc
Error Number:515,State:2,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.Consume(RelationalDataReader reader)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(IEnumerable`1 commandBatches, IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChanges(IList`1 entries)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(IList`1 entriesToSave)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(StateManager stateManager, Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.<>c.<SaveChanges>b__107_0(DbContext _, ValueTuple`2 t)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)
2023-10-31 15:30:52.112 [ERR] CompleteTransaction
2023-10-31 15:30:52.122 [INF] -------------Request-Begin------------
2023-10-31 15:30:52.122 [INF] Http Request Information: 
Schema:https 
Host: localhost:44346 
Path: /finalCase/Users/8 
QueryString:  
Request Body: {
  "userName": "muratdal",
  "userEmail": "string",
  "userPassword": "string",
  "userBalance": 0,
  "userProfitMargin": 0
}
2023-10-31 15:30:52.122 [INF] 

2023-10-31 15:30:52.122 [INF] Http Response Information: 
Schema:https 
Host: localhost:44346 
Path: /finalCase/Users/8 
QueryString:  
StatusCode: 200 
Response Body: {"success":true,"message":null}
2023-10-31 15:30:52.122 [INF] -------------Request-End------------
2023-10-31 15:31:03.645 [INF] LogErrorHandlerMiddleware.Invoke
2023-10-31 15:31:03.645 [INF] HeartBeat
2023-10-31 15:31:03.645 [INF] LogRequestLoggingMiddleware.Invoke
2023-10-31 15:31:03.668 [ERR] An exception occurred in the database while saving changes for context type 'Vk.Data.Context.VkDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert the value NULL into column 'UserRole', table 'finalCase.dbo.User'; column does not allow nulls. UPDATE fails.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.Read()
   at Microsoft.EntityFrameworkCore.Storage.RelationalDataReader.Read()
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetWithRowsAffectedOnly(Int32 commandIndex, RelationalDataReader reader)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.Consume(RelationalDataReader reader)
ClientConnectionId:d21ff7d6-cacb-4a73-ba25-301161bd2edc
Error Number:515,State:2,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.Consume(RelationalDataReader reader)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(IEnumerable`1 commandBatches, IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChanges(IList`1 entries)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(IList`1 entriesToSave)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(StateManager stateManager, Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.<>c.<SaveChanges>b__107_0(DbContext _, ValueTuple`2 t)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert the value NULL into column 'UserRole', table 'finalCase.dbo.User'; column does not allow nulls. UPDATE fails.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.Read()
   at Microsoft.EntityFrameworkCore.Storage.RelationalDataReader.Read()
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetWithRowsAffectedOnly(Int32 commandIndex, RelationalDataReader reader)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.Consume(RelationalDataReader reader)
ClientConnectionId:d21ff7d6-cacb-4a73-ba25-301161bd2edc
Error Number:515,State:2,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.Consume(RelationalDataReader reader)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(IEnumerable`1 commandBatches, IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChanges(IList`1 entries)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(IList`1 entriesToSave)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(StateManager stateManager, Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.<>c.<SaveChanges>b__107_0(DbContext _, ValueTuple`2 t)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)
2023-10-31 15:31:03.710 [ERR] CompleteTransaction
2023-10-31 15:31:03.711 [INF] -------------Request-Begin------------
2023-10-31 15:31:03.711 [INF] Http Request Information: 
Schema:https 
Host: localhost:44346 
Path: /finalCase/Users/8 
QueryString:  
Request Body: {
  "userName": "muratdal",
  "userEmail": "string",
  "userPassword": "string",
  "userBalance": 0,
  "userProfitMargin": 0
}
2023-10-31 15:31:03.711 [INF] 

2023-10-31 15:31:03.711 [INF] Http Response Information: 
Schema:https 
Host: localhost:44346 
Path: /finalCase/Users/8 
QueryString:  
StatusCode: 200 
Response Body: {"success":true,"message":null}
2023-10-31 15:31:03.711 [INF] -------------Request-End------------
2023-10-31 15:39:39.650 [INF] LogErrorHandlerMiddleware.Invoke
2023-10-31 15:39:39.653 [INF] HeartBeat
2023-10-31 15:39:39.653 [INF] LogRequestLoggingMiddleware.Invoke
2023-10-31 15:39:39.688 [ERR] An exception occurred in the database while saving changes for context type 'Vk.Data.Context.VkDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert the value NULL into column 'UserRole', table 'finalCase.dbo.User'; column does not allow nulls. UPDATE fails.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.Read()
   at Microsoft.EntityFrameworkCore.Storage.RelationalDataReader.Read()
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetWithRowsAffectedOnly(Int32 commandIndex, RelationalDataReader reader)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.Consume(RelationalDataReader reader)
ClientConnectionId:6f4f2cab-2bd5-49b1-b583-8a4fee86854d
Error Number:515,State:2,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.Consume(RelationalDataReader reader)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(IEnumerable`1 commandBatches, IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChanges(IList`1 entries)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(IList`1 entriesToSave)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(StateManager stateManager, Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.<>c.<SaveChanges>b__107_0(DbContext _, ValueTuple`2 t)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert the value NULL into column 'UserRole', table 'finalCase.dbo.User'; column does not allow nulls. UPDATE fails.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.Read()
   at Microsoft.EntityFrameworkCore.Storage.RelationalDataReader.Read()
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetWithRowsAffectedOnly(Int32 commandIndex, RelationalDataReader reader)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.Consume(RelationalDataReader reader)
ClientConnectionId:6f4f2cab-2bd5-49b1-b583-8a4fee86854d
Error Number:515,State:2,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.Consume(RelationalDataReader reader)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(IEnumerable`1 commandBatches, IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChanges(IList`1 entries)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(IList`1 entriesToSave)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(StateManager stateManager, Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.<>c.<SaveChanges>b__107_0(DbContext _, ValueTuple`2 t)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)
2023-10-31 15:39:39.736 [ERR] CompleteTransaction
2023-10-31 15:39:39.737 [INF] -------------Request-Begin------------
2023-10-31 15:39:39.737 [INF] Http Request Information: 
Schema:https 
Host: localhost:44346 
Path: /finalCase/Users/8 
QueryString:  
Request Body: {
  "userName": "muratdal",
  "userEmail": "string",
  "userPassword": "string",
  "userBalance": 0,
  "userProfitMargin": 0
}
2023-10-31 15:39:39.737 [INF] 

2023-10-31 15:39:39.737 [INF] Http Response Information: 
Schema:https 
Host: localhost:44346 
Path: /finalCase/Users/8 
QueryString:  
StatusCode: 200 
Response Body: {"success":true,"message":null}
2023-10-31 15:39:39.737 [INF] -------------Request-End------------
2023-10-31 15:39:50.979 [INF] LogErrorHandlerMiddleware.Invoke
2023-10-31 15:39:50.979 [INF] HeartBeat
2023-10-31 15:39:50.979 [INF] LogRequestLoggingMiddleware.Invoke
2023-10-31 15:39:51.001 [ERR] An exception occurred in the database while saving changes for context type 'Vk.Data.Context.VkDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert the value NULL into column 'UserRole', table 'finalCase.dbo.User'; column does not allow nulls. UPDATE fails.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.Read()
   at Microsoft.EntityFrameworkCore.Storage.RelationalDataReader.Read()
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetWithRowsAffectedOnly(Int32 commandIndex, RelationalDataReader reader)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.Consume(RelationalDataReader reader)
ClientConnectionId:6f4f2cab-2bd5-49b1-b583-8a4fee86854d
Error Number:515,State:2,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.Consume(RelationalDataReader reader)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(IEnumerable`1 commandBatches, IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChanges(IList`1 entries)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(IList`1 entriesToSave)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(StateManager stateManager, Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.<>c.<SaveChanges>b__107_0(DbContext _, ValueTuple`2 t)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert the value NULL into column 'UserRole', table 'finalCase.dbo.User'; column does not allow nulls. UPDATE fails.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.Read()
   at Microsoft.EntityFrameworkCore.Storage.RelationalDataReader.Read()
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetWithRowsAffectedOnly(Int32 commandIndex, RelationalDataReader reader)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.Consume(RelationalDataReader reader)
ClientConnectionId:6f4f2cab-2bd5-49b1-b583-8a4fee86854d
Error Number:515,State:2,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.Consume(RelationalDataReader reader)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(IEnumerable`1 commandBatches, IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChanges(IList`1 entries)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(IList`1 entriesToSave)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(StateManager stateManager, Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.<>c.<SaveChanges>b__107_0(DbContext _, ValueTuple`2 t)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)
2023-10-31 15:39:51.044 [ERR] CompleteTransaction
2023-10-31 15:39:51.045 [INF] -------------Request-Begin------------
2023-10-31 15:39:51.045 [INF] Http Request Information: 
Schema:https 
Host: localhost:44346 
Path: /finalCase/Users/8 
QueryString:  
Request Body: {
  "userName": "muratdal",
  "userEmail": "sdfsd",
  "userPassword": "stsdfsdfring",
  "userBalance": 0,
  "userProfitMargin": 0
}
2023-10-31 15:39:51.045 [INF] 

2023-10-31 15:39:51.045 [INF] Http Response Information: 
Schema:https 
Host: localhost:44346 
Path: /finalCase/Users/8 
QueryString:  
StatusCode: 200 
Response Body: {"success":true,"message":null}
2023-10-31 15:39:51.045 [INF] -------------Request-End------------
2023-10-31 15:40:00.262 [INF] LogErrorHandlerMiddleware.Invoke
2023-10-31 15:40:00.262 [INF] HeartBeat
2023-10-31 15:40:00.262 [INF] LogRequestLoggingMiddleware.Invoke
2023-10-31 15:41:20.422 [INF] App server is starting.
2023-10-31 15:41:59.172 [INF] LogErrorHandlerMiddleware.Invoke
2023-10-31 15:41:59.175 [INF] HeartBeat
2023-10-31 15:41:59.177 [INF] LogRequestLoggingMiddleware.Invoke
2023-10-31 15:42:01.446 [INF] -------------Request-Begin------------
2023-10-31 15:42:01.446 [INF] Http Request Information: 
Schema:https 
Host: localhost:44346 
Path: /finalCase/Users/8 
QueryString:  
Request Body: {
  "userNumber": 0,
  "userName": "dfgdfg",
  "userEmail": "string",
  "userPassword": "string",
  "userRole": "string",
  "userBalance": 0,
  "userProfitMargin": 0,
  "insertDate": "2023-10-31T12:41:25.665Z"
}
2023-10-31 15:42:01.446 [INF] 

2023-10-31 15:42:01.446 [INF] Http Response Information: 
Schema:https 
Host: localhost:44346 
Path: /finalCase/Users/8 
QueryString:  
StatusCode: 200 
Response Body: {"success":true,"message":null}
2023-10-31 15:42:01.446 [INF] -------------Request-End------------
2023-10-31 15:43:07.684 [INF] App server is starting.
2023-10-31 15:43:18.475 [INF] LogErrorHandlerMiddleware.Invoke
2023-10-31 15:43:18.479 [INF] HeartBeat
2023-10-31 15:43:18.481 [INF] LogRequestLoggingMiddleware.Invoke
2023-10-31 15:43:20.775 [INF] -------------Request-Begin------------
2023-10-31 15:43:20.775 [INF] Http Request Information: 
Schema:https 
Host: localhost:44346 
Path: /finalCase/Users/8 
QueryString:  
Request Body: {
  "userNumber": 0,
  "userName": "merhaba",
  "userEmail": "string",
  "userPassword": "string",
  "userRole": "string",
  "userBalance": 0,
  "userProfitMargin": 0
}
2023-10-31 15:43:20.775 [INF] 

2023-10-31 15:43:20.776 [INF] Http Response Information: 
Schema:https 
Host: localhost:44346 
Path: /finalCase/Users/8 
QueryString:  
StatusCode: 200 
Response Body: {"success":true,"message":null}
2023-10-31 15:43:20.776 [INF] -------------Request-End------------
2023-10-31 15:47:43.071 [INF] App server is starting.
2023-10-31 15:48:03.118 [INF] LogErrorHandlerMiddleware.Invoke
2023-10-31 15:48:03.122 [INF] HeartBeat
2023-10-31 15:48:03.124 [INF] LogRequestLoggingMiddleware.Invoke
2023-10-31 15:48:05.343 [INF] -------------Request-Begin------------
2023-10-31 15:48:05.344 [INF] Http Request Information: 
Schema:https 
Host: localhost:44346 
Path: /finalCase/Users/8 
QueryString:  
Request Body: {
  "userNumber": 0,
  "userName": "string",
  "userEmail": "dfgdfgfg",
  "userPassword": "string",
  "userRole": "string",
  "userBalance": 0,
  "userProfitMargin": 0
}
2023-10-31 15:48:05.344 [INF] 

2023-10-31 15:48:05.345 [INF] Http Response Information: 
Schema:https 
Host: localhost:44346 
Path: /finalCase/Users/8 
QueryString:  
StatusCode: 200 
Response Body: {"success":true,"message":null}
2023-10-31 15:48:05.345 [INF] -------------Request-End------------
2023-10-31 15:48:20.674 [INF] LogErrorHandlerMiddleware.Invoke
2023-10-31 15:48:20.675 [INF] HeartBeat
2023-10-31 15:48:20.675 [INF] LogRequestLoggingMiddleware.Invoke
2023-10-31 15:48:20.767 [INF] -------------Request-Begin------------
2023-10-31 15:48:20.768 [INF] Http Request Information: 
Schema:https 
Host: localhost:44346 
Path: /finalCase/Users/8 
QueryString:  
Request Body: {
  "userNumber": 0,
  "userName": "dsgfsdgdfg",
  "userEmail": "dfgdfgfg",
  "userPassword": "string",
  "userRole": "string",
  "userBalance": 0,
  "userProfitMargin": 0
}
2023-10-31 15:48:20.768 [INF] 

2023-10-31 15:48:20.768 [INF] Http Response Information: 
Schema:https 
Host: localhost:44346 
Path: /finalCase/Users/8 
QueryString:  
StatusCode: 200 
Response Body: {"success":true,"message":null}
2023-10-31 15:48:20.768 [INF] -------------Request-End------------
2023-10-31 15:50:17.426 [INF] App server is starting.
2023-10-31 15:50:41.491 [INF] LogErrorHandlerMiddleware.Invoke
2023-10-31 15:50:41.495 [INF] HeartBeat
2023-10-31 15:50:41.497 [INF] LogRequestLoggingMiddleware.Invoke
2023-10-31 15:50:43.819 [ERR] An exception occurred in the database while saving changes for context type 'Vk.Data.Context.VkDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert duplicate key row in object 'dbo.User' with unique index 'IX_User_UserEmail'. The duplicate key value is (string).
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.Read()
   at Microsoft.EntityFrameworkCore.Storage.RelationalDataReader.Read()
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetWithRowsAffectedOnly(Int32 commandIndex, RelationalDataReader reader)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.Consume(RelationalDataReader reader)
ClientConnectionId:44af36e8-beee-4619-bade-e3fe50d90b47
Error Number:2601,State:1,Class:14
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.Consume(RelationalDataReader reader)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(IEnumerable`1 commandBatches, IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChanges(IList`1 entries)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(IList`1 entriesToSave)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(StateManager stateManager, Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.<>c.<SaveChanges>b__107_0(DbContext _, ValueTuple`2 t)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert duplicate key row in object 'dbo.User' with unique index 'IX_User_UserEmail'. The duplicate key value is (string).
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.Read()
   at Microsoft.EntityFrameworkCore.Storage.RelationalDataReader.Read()
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetWithRowsAffectedOnly(Int32 commandIndex, RelationalDataReader reader)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.Consume(RelationalDataReader reader)
ClientConnectionId:44af36e8-beee-4619-bade-e3fe50d90b47
Error Number:2601,State:1,Class:14
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.Consume(RelationalDataReader reader)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(IEnumerable`1 commandBatches, IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChanges(IList`1 entries)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(IList`1 entriesToSave)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(StateManager stateManager, Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.<>c.<SaveChanges>b__107_0(DbContext _, ValueTuple`2 t)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)
2023-10-31 15:50:43.904 [ERR] CompleteTransaction
2023-10-31 15:50:43.929 [INF] -------------Request-Begin------------
2023-10-31 15:50:43.929 [INF] Http Request Information: 
Schema:https 
Host: localhost:44346 
Path: /finalCase/Users/6 
QueryString:  
Request Body: {
  "userNumber": 0,
  "userName": "merhababen",
  "userEmail": "string",
  "userPassword": "string",
  "userRole": "string",
  "userBalance": 0,
  "userProfitMargin": 0
}
2023-10-31 15:50:43.930 [INF] 

2023-10-31 15:50:43.930 [INF] Http Response Information: 
Schema:https 
Host: localhost:44346 
Path: /finalCase/Users/6 
QueryString:  
StatusCode: 200 
Response Body: {"success":true,"message":null}
2023-10-31 15:50:43.930 [INF] -------------Request-End------------
2023-10-31 15:55:11.384 [INF] App server is starting.
2023-10-31 15:55:25.616 [INF] LogErrorHandlerMiddleware.Invoke
2023-10-31 15:55:25.622 [INF] HeartBeat
2023-10-31 15:55:25.624 [INF] LogRequestLoggingMiddleware.Invoke
2023-10-31 15:55:27.833 [INF] -------------Request-Begin------------
2023-10-31 15:55:27.833 [INF] Http Request Information: 
Schema:https 
Host: localhost:44346 
Path: /finalCase/Users/6 
QueryString:  
Request Body: {
  "userNumber": 0,
  "userName": "selam",
  "userEmail": "string",
  "userPassword": "string",
  "userRole": "string",
  "userBalance": 0,
  "userProfitMargin": 0
}
2023-10-31 15:55:27.833 [INF] 

2023-10-31 15:55:27.833 [INF] Http Response Information: 
Schema:https 
Host: localhost:44346 
Path: /finalCase/Users/6 
QueryString:  
StatusCode: 200 
Response Body: {"success":true,"message":null}
2023-10-31 15:55:27.833 [INF] -------------Request-End------------
2023-10-31 15:57:49.633 [INF] App server is starting.
2023-10-31 15:58:28.596 [INF] LogErrorHandlerMiddleware.Invoke
2023-10-31 15:58:28.600 [INF] HeartBeat
2023-10-31 15:58:28.601 [INF] LogRequestLoggingMiddleware.Invoke
2023-10-31 15:58:30.513 [INF] -------------Request-Begin------------
2023-10-31 15:58:30.513 [INF] Http Request Information: 
Schema:https 
Host: localhost:44346 
Path: /finalCase/Users 
QueryString:  
Request Body: {
  "userNumber": 100010,
  "userName": "batuhan",
  "userEmail": "batuhan@yahoo.com",
  "userPassword": "batuhan",
  "userRole": "Admin",
  "userBalance": 500,
  "userProfitMargin": 10
}
2023-10-31 15:58:30.513 [INF] 

2023-10-31 15:58:30.514 [INF] Http Response Information: 
Schema:https 
Host: localhost:44346 
Path: /finalCase/Users 
QueryString:  
StatusCode: 200 
Response Body: {"success":true,"message":"Success","response":{"userNumber":100010,"userName":"batuhan","userEmail":"batuhan@yahoo.com","userPassword":"758634cabdc68f2050ce11900f51e379","userPasswordRetryCount":0,"userRole":"Admin","userBalance":500,"userProfitMargin":10,"addresses":[],"orders":[]}}
2023-10-31 15:58:30.514 [INF] -------------Request-End------------
2023-10-31 15:58:55.084 [INF] LogErrorHandlerMiddleware.Invoke
2023-10-31 15:58:55.085 [INF] HeartBeat
2023-10-31 15:58:55.085 [INF] LogRequestLoggingMiddleware.Invoke
2023-10-31 15:58:55.605 [INF] -------------Request-Begin------------
2023-10-31 15:58:55.605 [INF] Http Request Information: 
Schema:https 
Host: localhost:44346 
Path: /finalCase/Users/9 
QueryString:  
Request Body: {
  "userNumber": 0,
  "userName": "murat",
  "userEmail": "string",
  "userPassword": "string",
  "userRole": "string",
  "userBalance": 0,
  "userProfitMargin": 0,
  "insertDate": "2023-10-31T12:58:48.788Z"
}
2023-10-31 15:58:55.605 [INF] 

2023-10-31 15:58:55.605 [INF] Http Response Information: 
Schema:https 
Host: localhost:44346 
Path: /finalCase/Users/9 
QueryString:  
StatusCode: 200 
Response Body: {"success":true,"message":null}
2023-10-31 15:58:55.605 [INF] -------------Request-End------------
2023-10-31 16:00:00.481 [INF] App server is starting.
2023-10-31 16:02:08.739 [INF] App server is starting.
2023-10-31 16:03:12.803 [INF] LogErrorHandlerMiddleware.Invoke
2023-10-31 16:03:12.808 [INF] HeartBeat
2023-10-31 16:03:12.810 [INF] LogRequestLoggingMiddleware.Invoke
2023-10-31 16:03:15.139 [INF] -------------Request-Begin------------
2023-10-31 16:03:15.140 [INF] Http Request Information: 
Schema:https 
Host: localhost:44346 
Path: /finalCase/Users/9 
QueryString:  
Request Body: {
  "userNumber": 0,
  "userName": "muratdal",
  "userEmail": "string",
  "userPassword": "string",
  "userRole": "string",
  "userBalance": 0,
  "userProfitMargin": 0
}
2023-10-31 16:03:15.141 [INF] 

2023-10-31 16:03:15.141 [INF] Http Response Information: 
Schema:https 
Host: localhost:44346 
Path: /finalCase/Users/9 
QueryString:  
StatusCode: 200 
Response Body: {"success":true,"message":null}
2023-10-31 16:03:15.142 [INF] -------------Request-End------------
2023-10-31 16:04:00.578 [INF] LogErrorHandlerMiddleware.Invoke
2023-10-31 16:04:00.578 [INF] HeartBeat
2023-10-31 16:04:00.578 [INF] LogRequestLoggingMiddleware.Invoke
2023-10-31 16:04:00.859 [INF] -------------Request-Begin------------
2023-10-31 16:04:00.859 [INF] Http Request Information: 
Schema:https 
Host: localhost:44346 
Path: /finalCase/Users 
QueryString:  
Request Body: {
  "userNumber": 100004,
  "userName": "cagri",
  "userEmail": "cagri@gmail.com",
  "userPassword": "cagri",
  "userRole": "Dealer",
  "userBalance": 1000,
  "userProfitMargin": 14
}
2023-10-31 16:04:00.859 [INF] 

2023-10-31 16:04:00.859 [INF] Http Response Information: 
Schema:https 
Host: localhost:44346 
Path: /finalCase/Users 
QueryString:  
StatusCode: 200 
Response Body: {"success":true,"message":"Success","response":{"userNumber":100004,"userName":"cagri","userEmail":"cagri@gmail.com","userPassword":"c598dd0c30f01f92accca618e1ddf0f1","userPasswordRetryCount":0,"userRole":"Dealer","userBalance":1000,"userProfitMargin":14,"addresses":[],"orders":[]}}
2023-10-31 16:04:00.859 [INF] -------------Request-End------------
2023-10-31 16:07:17.103 [INF] App server is starting.
2023-10-31 16:07:43.202 [INF] LogErrorHandlerMiddleware.Invoke
2023-10-31 16:07:43.205 [INF] HeartBeat
2023-10-31 16:07:43.207 [INF] LogRequestLoggingMiddleware.Invoke
2023-10-31 16:07:45.259 [INF] -------------Request-Begin------------
2023-10-31 16:07:45.259 [INF] Http Request Information: 
Schema:https 
Host: localhost:44346 
Path: /finalCase/Users 
QueryString:  
Request Body: {
  "userNumber": 111111,
  "userName": "dfgdf",
  "userEmail": "dfg",
  "userPassword": "dfg",
  "userRole": "Admin",
  "userBalance": 4500,
  "userProfitMargin": 14
}
2023-10-31 16:07:45.259 [INF] 

2023-10-31 16:07:45.260 [INF] Http Response Information: 
Schema:https 
Host: localhost:44346 
Path: /finalCase/Users 
QueryString:  
StatusCode: 200 
Response Body: {"success":true,"message":"Success","response":{"userNumber":111111,"userName":"dfgdf","userEmail":"dfg","userPassword":"38d7355701b6f3760ee49852904319c1","userPasswordRetryCount":0,"userRole":"Admin","userBalance":4500,"userProfitMargin":14,"addresses":[],"orders":[]}}
2023-10-31 16:07:45.260 [INF] -------------Request-End------------
2023-10-31 16:08:18.445 [INF] LogErrorHandlerMiddleware.Invoke
2023-10-31 16:08:18.446 [INF] HeartBeat
2023-10-31 16:08:18.446 [INF] LogRequestLoggingMiddleware.Invoke
2023-10-31 16:08:18.518 [INF] -------------Request-Begin------------
2023-10-31 16:08:18.518 [INF] Http Request Information: 
Schema:https 
Host: localhost:44346 
Path: /finalCase/Users/11 
QueryString:  
Request Body: {
  "userNumber": 0,
  "userName": "",
  "userEmail": "string",
  "userPassword": "string",
  "userRole": "string",
  "userBalance": 425422,
  "userProfitMargin": 0
2023-10-31 16:08:18.518 [INF] 

2023-10-31 16:08:18.518 [INF] Http Response Information: 
Schema:https 
Host: localhost:44346 
Path: /finalCase/Users/11 
QueryString:  
StatusCode: 400 
Response Body: {"type":"https://tools.ietf.org/html/rfc7231#section-6.5.1","title":"One or more validation errors occurred.","status":400,"traceId":"00-b00f2361f53babfa9a03ed1e9f26ea84-cb1e6e4cb5b8ac23-00","errors":{"request":["The request field is required."],"$.userProfitMargin":["'0' is an invalid end of a number. Expected a delimiter. Path: $.userProfitMargin | LineNumber: 7 | BytePositionInLine: 23."]}
2023-10-31 16:08:18.518 [INF] -------------Request-End------------
2023-10-31 16:08:32.084 [INF] LogErrorHandlerMiddleware.Invoke
2023-10-31 16:08:32.084 [INF] HeartBeat
2023-10-31 16:08:32.085 [INF] LogRequestLoggingMiddleware.Invoke
2023-10-31 16:08:32.095 [INF] -------------Request-Begin------------
2023-10-31 16:08:32.095 [INF] Http Request Information: 
Schema:https 
Host: localhost:44346 
Path: /finalCase/Users/11 
QueryString:  
Request Body: {
  "userNumber": 0,
  "userName": "",
  "userEmail": "string",
  "userPassword": "string",
  "userRole": "string",
  "userBalance": 4252,
  "userProfitMargin": 0
2023-10-31 16:08:32.096 [INF] 

2023-10-31 16:08:32.096 [INF] Http Response Information: 
Schema:https 
Host: localhost:44346 
Path: /finalCase/Users/11 
QueryString:  
StatusCode: 400 
Response Body: {"type":"https://tools.ietf.org/html/rfc7231#section-6.5.1","title":"One or more validation errors occurred.","status":400,"traceId":"00-cbc1633740806c2b34976e463da6b2cd-1c194175afaba17c-00","errors":{"request":["The request field is required."],"$.userProfitMargin":["'0' is an invalid end of a number. Expected a delimiter. Path: $.userProfitMargin | LineNumber: 7 | BytePositionInLine: 23."]}
2023-10-31 16:08:32.096 [INF] -------------Request-End------------
2023-10-31 16:08:52.165 [INF] LogErrorHandlerMiddleware.Invoke
2023-10-31 16:08:52.166 [INF] HeartBeat
2023-10-31 16:08:52.166 [INF] LogRequestLoggingMiddleware.Invoke
2023-10-31 16:08:52.169 [INF] -------------Request-Begin------------
2023-10-31 16:08:52.169 [INF] Http Request Information: 
Schema:https 
Host: localhost:44346 
Path: /finalCase/Users/11 
QueryString:  
Request Body: {
  "userNumber": 0,
  "userName": "string",
  "userEmail": "string",
  "userPassword": "string",
  "userRole": "string",
  "userBalance": 4252,
  "userProfitMargin": 0
2023-10-31 16:08:52.169 [INF] 

2023-10-31 16:08:52.169 [INF] Http Response Information: 
Schema:https 
Host: localhost:44346 
Path: /finalCase/Users/11 
QueryString:  
StatusCode: 400 
Response Body: {"type":"https://tools.ietf.org/html/rfc7231#section-6.5.1","title":"One or more validation errors occurred.","status":400,"traceId":"00-408cc12a8b673a76d94d6de7dbd7c74d-cb7f737ed579b6c3-00","errors":{"request":["The request field is required."],"$.userProfitMargin":["'0' is an invalid end of a number. Expected a delimiter. Path: $.userProfitMargin | LineNumber: 7 | BytePositionInLine: 23."]}
2023-10-31 16:08:52.170 [INF] -------------Request-End------------
2023-10-31 16:38:48.074 [INF] App server is starting.
2023-10-31 16:38:59.757 [INF] LogErrorHandlerMiddleware.Invoke
2023-10-31 16:38:59.765 [INF] HeartBeat
2023-10-31 16:38:59.768 [INF] LogRequestLoggingMiddleware.Invoke
2023-10-31 16:39:02.607 [INF] -------------Request-Begin------------
2023-10-31 16:39:02.607 [INF] Http Request Information: 
Schema:https 
Host: localhost:44346 
Path: /finalCase/Users 
QueryString:  
Request Body: 
2023-10-31 16:39:02.607 [INF] 

2023-10-31 16:39:02.608 [INF] Http Response Information: 
Schema:https 
Host: localhost:44346 
Path: /finalCase/Users 
QueryString:  
StatusCode: 200 
Response Body: {"success":true,"message":"Success","response":[{"userNumber":100001,"userName":"selam","userEmail":"testtt@gmail.com","userPassword":"string","userPasswordRetryCount":0,"userRole":"string","userBalance":500,"userProfitMargin":10,"addresses":[],"orders":[]},{"userNumber":100005,"userName":"merhaba","userEmail":"string","userPassword":"string","userPasswordRetryCount":0,"userRole":"string","userBalance":500,"userProfitMargin":15,"addresses":[],"orders":[]},{"userNumber":100010,"userName":"muratdal","userEmail":"batuhan@yahoo.com","userPassword":"758634cabdc68f2050ce11900f51e379","userPasswordRetryCount":0,"userRole":"Admin","userBalance":500,"userProfitMargin":10,"addresses":[],"orders":[]},{"userNumber":100004,"userName":"cagri","userEmail":"cagri@gmail.com","userPassword":"c598dd0c30f01f92accca618e1ddf0f1","userPasswordRetryCount":0,"userRole":"Dealer","userBalance":1000,"userProfitMargin":14,"addresses":[],"orders":[]},{"userNumber":111111,"userName":"dfgdf","userEmail":"dfg","userPassword":"38d7355701b6f3760ee49852904319c1","userPasswordRetryCount":0,"userRole":"Admin","userBalance":4500,"userProfitMargin":14,"addresses":[],"orders":[]}]}
2023-10-31 16:39:02.609 [INF] -------------Request-End------------
2023-10-31 16:40:42.864 [INF] App server is starting.
2023-10-31 16:41:14.119 [INF] LogErrorHandlerMiddleware.Invoke
2023-10-31 16:41:14.128 [INF] HeartBeat
2023-10-31 16:41:14.132 [INF] LogRequestLoggingMiddleware.Invoke
2023-10-31 16:41:17.051 [INF] -------------Request-Begin------------
2023-10-31 16:41:17.051 [INF] Http Request Information: 
Schema:https 
Host: localhost:44346 
Path: /finalCase/Users 
QueryString:  
Request Body: {
  "userNumber": 222222,
  "userName": "dfgd",
  "userEmail": "dfgdf",
  "userPassword": "dfgdf",
  "userRole": "Admin",
  "userBalance": 500,
  "userProfitMargin": 10
}
2023-10-31 16:41:17.051 [INF] 

2023-10-31 16:41:17.051 [INF] Http Response Information: 
Schema:https 
Host: localhost:44346 
Path: /finalCase/Users 
QueryString:  
StatusCode: 200 
Response Body: {"success":true,"message":"Success","response":{"userNumber":222222,"userName":"dfgd","userEmail":"dfgdf","userPassword":"89f25685515117d9ef631697df123bf9","userPasswordRetryCount":0,"userRole":"Admin","userBalance":500,"userProfitMargin":10,"addresses":[],"orders":[]}}
2023-10-31 16:41:17.052 [INF] -------------Request-End------------
2023-10-31 16:44:17.588 [INF] App server is starting.
2023-10-31 16:44:53.371 [INF] LogErrorHandlerMiddleware.Invoke
2023-10-31 16:44:53.382 [INF] HeartBeat
2023-10-31 16:44:53.385 [INF] LogRequestLoggingMiddleware.Invoke
2023-10-31 16:44:56.302 [INF] -------------Request-Begin------------
2023-10-31 16:44:56.302 [INF] Http Request Information: 
Schema:https 
Host: localhost:44346 
Path: /finalCase/Users 
QueryString:  
Request Body: {
  "userNumber": 457241,
  "userName": "sdfsd",
  "userEmail": "sdfsd",
  "userPassword": "sdfsf",
  "userRole": "Admin",
  "userBalance": 41,
  "userProfitMargin": 41
}
2023-10-31 16:44:56.302 [INF] 

2023-10-31 16:44:56.302 [INF] Http Response Information: 
Schema:https 
Host: localhost:44346 
Path: /finalCase/Users 
QueryString:  
StatusCode: 200 
Response Body: {"success":true,"message":"Success","response":{"userNumber":457241,"userName":"sdfsd","userEmail":"sdfsd","userPassword":"667a4af374347aaebc6d04d8572fbb85","userPasswordRetryCount":0,"userRole":"Admin","userBalance":41,"userProfitMargin":41,"addresses":[],"orders":[]}}
2023-10-31 16:44:56.303 [INF] -------------Request-End------------
2023-10-31 16:46:12.866 [INF] LogErrorHandlerMiddleware.Invoke
2023-10-31 16:46:12.867 [INF] HeartBeat
2023-10-31 16:46:12.868 [INF] LogRequestLoggingMiddleware.Invoke
2023-10-31 16:46:12.983 [INF] -------------Request-Begin------------
2023-10-31 16:46:12.983 [INF] Http Request Information: 
Schema:https 
Host: localhost:44346 
Path: /finalCase/Users 
QueryString:  
Request Body: {
  "userNumber": 100001,
  "userName": "test",
  "userEmail": "test@gmail.com",
  "userPassword": "test",
  "userRole": "Admin",
  "userBalance": 500,
  "userProfitMargin": 10
}
2023-10-31 16:46:12.983 [INF] 

2023-10-31 16:46:12.983 [INF] Http Response Information: 
Schema:https 
Host: localhost:44346 
Path: /finalCase/Users 
QueryString:  
StatusCode: 200 
Response Body: {"success":true,"message":"Success","response":{"userNumber":100001,"userName":"test","userEmail":"test@gmail.com","userPassword":"098f6bcd4621d373cade4e832627b4f6","userPasswordRetryCount":0,"userRole":"Admin","userBalance":500,"userProfitMargin":10,"addresses":[],"orders":[]}}
2023-10-31 16:46:12.983 [INF] -------------Request-End------------
2023-10-31 16:46:34.773 [INF] LogErrorHandlerMiddleware.Invoke
2023-10-31 16:46:34.807 [INF] HeartBeat
2023-10-31 16:46:34.808 [INF] LogRequestLoggingMiddleware.Invoke
2023-10-31 16:46:35.464 [INF] -------------Request-Begin------------
2023-10-31 16:46:35.464 [INF] Http Request Information: 
Schema:https 
Host: localhost:44346 
Path: /finalCase/Users/14 
QueryString:  
Request Body: {
  "userNumber": 0,
  "userName": "string",
  "userEmail": "string",
  "userPassword": "string",
  "userRole": "string",
  "userBalance": 0,
  "userProfitMargin": 0
}
2023-10-31 16:46:35.464 [INF] 

2023-10-31 16:46:35.465 [INF] Http Response Information: 
Schema:https 
Host: localhost:44346 
Path: /finalCase/Users/14 
QueryString:  
StatusCode: 200 
Response Body: {"success":true,"message":null}
2023-10-31 16:46:35.465 [INF] -------------Request-End------------
2023-10-31 16:46:49.112 [INF] LogErrorHandlerMiddleware.Invoke
2023-10-31 16:46:49.113 [INF] HeartBeat
2023-10-31 16:46:49.113 [INF] LogRequestLoggingMiddleware.Invoke
2023-10-31 16:46:49.175 [INF] -------------Request-Begin------------
2023-10-31 16:46:49.175 [INF] Http Request Information: 
Schema:https 
Host: localhost:44346 
Path: /finalCase/Users/14 
QueryString:  
Request Body: {
  "userNumber": 0,
  "userName": "murat",
  "userEmail": "string",
  "userPassword": "string",
  "userRole": "string",
  "userBalance": 0,
  "userProfitMargin": 0
}
2023-10-31 16:46:49.175 [INF] 

2023-10-31 16:46:49.175 [INF] Http Response Information: 
Schema:https 
Host: localhost:44346 
Path: /finalCase/Users/14 
QueryString:  
StatusCode: 200 
Response Body: {"success":true,"message":null}
2023-10-31 16:46:49.175 [INF] -------------Request-End------------
2023-10-31 16:47:02.722 [INF] LogErrorHandlerMiddleware.Invoke
2023-10-31 16:47:02.722 [INF] HeartBeat
2023-10-31 16:47:02.722 [INF] LogRequestLoggingMiddleware.Invoke
2023-10-31 16:47:02.753 [INF] -------------Request-Begin------------
2023-10-31 16:47:02.753 [INF] Http Request Information: 
Schema:https 
Host: localhost:44346 
Path: /finalCase/Users/14 
QueryString:  
Request Body: {
  "userNumber": 0,
  "userName": "murat",
  "userEmail": "string",
  "userPassword": "string",
  "userRole": "string",
  "userBalance": 400,
  "userProfitMargin": 0
}
2023-10-31 16:47:02.753 [INF] 

2023-10-31 16:47:02.753 [INF] Http Response Information: 
Schema:https 
Host: localhost:44346 
Path: /finalCase/Users/14 
QueryString:  
StatusCode: 200 
Response Body: {"success":true,"message":null}
2023-10-31 16:47:02.753 [INF] -------------Request-End------------
2023-10-31 16:47:12.148 [INF] LogErrorHandlerMiddleware.Invoke
2023-10-31 16:47:12.148 [INF] HeartBeat
2023-10-31 16:47:12.148 [INF] LogRequestLoggingMiddleware.Invoke
2023-10-31 16:47:12.168 [INF] -------------Request-Begin------------
2023-10-31 16:47:12.169 [INF] Http Request Information: 
Schema:https 
Host: localhost:44346 
Path: /finalCase/Users/14 
QueryString:  
Request Body: {
  "userNumber": 0,
  "userName": "murat",
  "userEmail": "string",
  "userPassword": "string",
  "userRole": "string",
  "userBalance": 400,
  "userProfitMargin": 17
}
2023-10-31 16:47:12.169 [INF] 

2023-10-31 16:47:12.169 [INF] Http Response Information: 
Schema:https 
Host: localhost:44346 
Path: /finalCase/Users/14 
QueryString:  
StatusCode: 200 
Response Body: {"success":true,"message":null}
2023-10-31 16:47:12.169 [INF] -------------Request-End------------
2023-10-31 16:47:24.482 [INF] LogErrorHandlerMiddleware.Invoke
2023-10-31 16:47:24.482 [INF] HeartBeat
2023-10-31 16:47:24.482 [INF] LogRequestLoggingMiddleware.Invoke
2023-10-31 16:47:24.512 [INF] -------------Request-Begin------------
2023-10-31 16:47:24.512 [INF] Http Request Information: 
Schema:https 
Host: localhost:44346 
Path: /finalCase/Users/14 
QueryString:  
Request Body: {
  "userNumber": 100002,
  "userName": "murat",
  "userEmail": "string",
  "userPassword": "string",
  "userRole": "string",
  "userBalance": 400,
  "userProfitMargin": 17
}
2023-10-31 16:47:24.512 [INF] 

2023-10-31 16:47:24.512 [INF] Http Response Information: 
Schema:https 
Host: localhost:44346 
Path: /finalCase/Users/14 
QueryString:  
StatusCode: 200 
Response Body: {"success":true,"message":null}
2023-10-31 16:47:24.512 [INF] -------------Request-End------------
2023-10-31 16:47:36.177 [INF] LogErrorHandlerMiddleware.Invoke
2023-10-31 16:47:36.177 [INF] HeartBeat
2023-10-31 16:47:36.177 [INF] LogRequestLoggingMiddleware.Invoke
2023-10-31 16:47:36.199 [INF] -------------Request-Begin------------
2023-10-31 16:47:36.199 [INF] Http Request Information: 
Schema:https 
Host: localhost:44346 
Path: /finalCase/Users/14 
QueryString:  
Request Body: {
  "userNumber": 0,
  "userName": "test",
  "userEmail": "string",
  "userPassword": "string",
  "userRole": "string",
  "userBalance": 0,
  "userProfitMargin": 0
}
2023-10-31 16:47:36.199 [INF] 

2023-10-31 16:47:36.199 [INF] Http Response Information: 
Schema:https 
Host: localhost:44346 
Path: /finalCase/Users/14 
QueryString:  
StatusCode: 200 
Response Body: {"success":true,"message":null}
2023-10-31 16:47:36.199 [INF] -------------Request-End------------
2023-10-31 16:47:58.886 [INF] LogErrorHandlerMiddleware.Invoke
2023-10-31 16:47:58.886 [INF] HeartBeat
2023-10-31 16:47:58.886 [INF] LogRequestLoggingMiddleware.Invoke
2023-10-31 16:47:58.898 [INF] -------------Request-Begin------------
2023-10-31 16:47:58.899 [INF] Http Request Information: 
Schema:https 
Host: localhost:44346 
Path: /finalCase/Users/14 
QueryString:  
Request Body: {
  "userNumber": 100001,
  "userName": "string",
  "userEmail": "string",
  "userPassword": "string",
  "userRole": "string",
  "userBalance": 0,
  "userProfitMargin": 0
}
2023-10-31 16:47:58.899 [INF] 

2023-10-31 16:47:58.899 [INF] Http Response Information: 
Schema:https 
Host: localhost:44346 
Path: /finalCase/Users/14 
QueryString:  
StatusCode: 200 
Response Body: {"success":true,"message":null}
2023-10-31 16:47:58.899 [INF] -------------Request-End------------
2023-10-31 16:50:54.351 [INF] App server is starting.
2023-10-31 16:51:18.984 [INF] App server is starting.
2023-10-31 16:51:32.671 [INF] LogErrorHandlerMiddleware.Invoke
2023-10-31 16:51:32.675 [INF] HeartBeat
2023-10-31 16:51:32.676 [INF] LogRequestLoggingMiddleware.Invoke
2023-10-31 16:51:32.965 [INF] -------------Request-Begin------------
2023-10-31 16:51:32.966 [INF] Http Request Information: 
Schema:https 
Host: localhost:44346 
Path: /finalCase/Users/14 
QueryString:  
Request Body: {
  "userNumber": 0,
  "userName": "sdfsdf",
  "userEmail": "string",
  "userPassword": "string",
  "userRole": "string",
  "userBalance": 0,
  "userProfitMargin": 0
}
2023-10-31 16:51:32.966 [INF] 

2023-10-31 16:51:32.967 [INF] Http Response Information: 
Schema:https 
Host: localhost:44346 
Path: /finalCase/Users/14 
QueryString:  
StatusCode: 400 
Response Body: {"type":"https://tools.ietf.org/html/rfc7231#section-6.5.1","title":"One or more validation errors occurred.","status":400,"traceId":"00-d80f57c577accc1999ffdcacc33e3c30-80928532085e08c8-00","errors":{"UserRole":["UserRole must be 'Admin' or 'Dealer'."],"UserNumber":["UserNumber is required.","UserNumber must be a 6-digit number."],"UserBalance":["UserBalance is required."],"UserProfitMargin":["UserProfitMargin is required."]}}
2023-10-31 16:51:32.967 [INF] -------------Request-End------------
2023-10-31 17:01:35.514 [INF] App server is starting.
2023-10-31 17:01:46.058 [INF] LogErrorHandlerMiddleware.Invoke
2023-10-31 17:01:46.063 [INF] HeartBeat
2023-10-31 17:01:46.065 [INF] LogRequestLoggingMiddleware.Invoke
2023-10-31 17:01:48.356 [ERR] An exception occurred in the database while saving changes for context type 'Vk.Data.Context.VkDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateConcurrencyException: The database operation was expected to affect 1 row(s), but actually affected 0 row(s); data may have been modified or deleted since entities were loaded. See http://go.microsoft.com/fwlink/?LinkId=527962 for information on understanding and handling optimistic concurrency exceptions.
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ThrowAggregateUpdateConcurrencyException(RelationalDataReader reader, Int32 commandIndex, Int32 expectedRowsAffected, Int32 rowsAffected)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetWithRowsAffectedOnly(Int32 commandIndex, RelationalDataReader reader)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.Consume(RelationalDataReader reader)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(IEnumerable`1 commandBatches, IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChanges(IList`1 entries)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(IList`1 entriesToSave)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(StateManager stateManager, Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.<>c.<SaveChanges>b__107_0(DbContext _, ValueTuple`2 t)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)
Microsoft.EntityFrameworkCore.DbUpdateConcurrencyException: The database operation was expected to affect 1 row(s), but actually affected 0 row(s); data may have been modified or deleted since entities were loaded. See http://go.microsoft.com/fwlink/?LinkId=527962 for information on understanding and handling optimistic concurrency exceptions.
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ThrowAggregateUpdateConcurrencyException(RelationalDataReader reader, Int32 commandIndex, Int32 expectedRowsAffected, Int32 rowsAffected)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetWithRowsAffectedOnly(Int32 commandIndex, RelationalDataReader reader)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.Consume(RelationalDataReader reader)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(IEnumerable`1 commandBatches, IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChanges(IList`1 entries)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(IList`1 entriesToSave)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(StateManager stateManager, Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.<>c.<SaveChanges>b__107_0(DbContext _, ValueTuple`2 t)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)
2023-10-31 17:01:48.433 [ERR] CompleteTransaction
2023-10-31 17:01:48.462 [INF] -------------Request-Begin------------
2023-10-31 17:01:48.462 [INF] Http Request Information: 
Schema:https 
Host: localhost:44346 
Path: /finalCase/Users/14 
QueryString:  
Request Body: {
  "userNumber": 0,
  "userName": "sdfsdf",
  "userEmail": "string",
  "userPassword": "string",
  "userRole": "string",
  "userBalance": 0,
  "userProfitMargin": 0
}
2023-10-31 17:01:48.463 [INF] 

2023-10-31 17:01:48.463 [INF] Http Response Information: 
Schema:https 
Host: localhost:44346 
Path: /finalCase/Users/14 
QueryString:  
StatusCode: 200 
Response Body: {"success":true,"message":null}
2023-10-31 17:01:48.463 [INF] -------------Request-End------------
2023-10-31 17:11:23.128 [INF] App server is starting.
2023-10-31 17:11:55.916 [INF] LogErrorHandlerMiddleware.Invoke
2023-10-31 17:11:55.920 [INF] HeartBeat
2023-10-31 17:11:55.923 [INF] LogRequestLoggingMiddleware.Invoke
2023-10-31 17:11:57.829 [ERR] Failed executing DbCommand (42ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (DbType = Double), @p5='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [dbo].[Product] ([InsertDate], [ProductImage], [ProductInformation], [ProductName], [ProductPrice], [ProductQuantity])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2023-10-31 17:11:57.873 [ERR] An exception occurred in the database while saving changes for context type 'Vk.Data.Context.VkDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'ProductImage'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at Microsoft.Data.SqlClient.SqlDataReader.get_MetaData()
   at Microsoft.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString, Boolean isInternal, Boolean forDescribeParameterEncryption, Boolean shouldCacheForAlwaysEncrypted)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean isAsync, Int32 timeout, Task& task, Boolean asyncWrite, Boolean inRetry, SqlDataReader ds, Boolean describeParameterEncryptionRequest)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean& usedCache, Boolean asyncWrite, Boolean inRetry, String method)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, String method)
   at Microsoft.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.SqlClient.SqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
ClientConnectionId:3975e09d-721d-4404-8ca0-0d2c3b30d5f3
Error Number:207,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(IEnumerable`1 commandBatches, IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChanges(IList`1 entries)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(IList`1 entriesToSave)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(StateManager stateManager, Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.<>c.<SaveChanges>b__107_0(DbContext _, ValueTuple`2 t)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'ProductImage'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at Microsoft.Data.SqlClient.SqlDataReader.get_MetaData()
   at Microsoft.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString, Boolean isInternal, Boolean forDescribeParameterEncryption, Boolean shouldCacheForAlwaysEncrypted)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean isAsync, Int32 timeout, Task& task, Boolean asyncWrite, Boolean inRetry, SqlDataReader ds, Boolean describeParameterEncryptionRequest)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean& usedCache, Boolean asyncWrite, Boolean inRetry, String method)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, String method)
   at Microsoft.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.SqlClient.SqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
ClientConnectionId:3975e09d-721d-4404-8ca0-0d2c3b30d5f3
Error Number:207,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(IEnumerable`1 commandBatches, IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChanges(IList`1 entries)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(IList`1 entriesToSave)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(StateManager stateManager, Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.<>c.<SaveChanges>b__107_0(DbContext _, ValueTuple`2 t)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)
2023-10-31 17:11:58.000 [ERR] CompleteTransaction
2023-10-31 17:11:58.032 [INF] -------------Request-Begin------------
2023-10-31 17:11:58.033 [INF] Http Request Information: 
Schema:https 
Host: localhost:44346 
Path: /finalCase/Products 
QueryString:  
Request Body: {
  "productName": "test",
  "productImage": "test",
  "productQuantity": 5,
  "productPrice": 140,
  "productInformation": "test"
}
2023-10-31 17:11:58.033 [INF] 

2023-10-31 17:11:58.034 [INF] Http Response Information: 
Schema:https 
Host: localhost:44346 
Path: /finalCase/Products 
QueryString:  
StatusCode: 200 
Response Body: {"success":true,"message":"Success","response":{"productName":"test","productImage":"test","productQuantity":5,"productPrice":140,"productInformation":"test"}}
2023-10-31 17:11:58.034 [INF] -------------Request-End------------
2023-10-31 17:12:04.950 [INF] LogErrorHandlerMiddleware.Invoke
2023-10-31 17:12:04.951 [INF] HeartBeat
2023-10-31 17:12:04.951 [INF] LogRequestLoggingMiddleware.Invoke
2023-10-31 17:12:05.039 [ERR] Failed executing DbCommand (1ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (DbType = Double), @p5='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [dbo].[Product] ([InsertDate], [ProductImage], [ProductInformation], [ProductName], [ProductPrice], [ProductQuantity])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2023-10-31 17:12:05.042 [ERR] An exception occurred in the database while saving changes for context type 'Vk.Data.Context.VkDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'ProductImage'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at Microsoft.Data.SqlClient.SqlDataReader.get_MetaData()
   at Microsoft.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString, Boolean isInternal, Boolean forDescribeParameterEncryption, Boolean shouldCacheForAlwaysEncrypted)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean isAsync, Int32 timeout, Task& task, Boolean asyncWrite, Boolean inRetry, SqlDataReader ds, Boolean describeParameterEncryptionRequest)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean& usedCache, Boolean asyncWrite, Boolean inRetry, String method)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, String method)
   at Microsoft.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.SqlClient.SqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
ClientConnectionId:3975e09d-721d-4404-8ca0-0d2c3b30d5f3
Error Number:207,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(IEnumerable`1 commandBatches, IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChanges(IList`1 entries)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(IList`1 entriesToSave)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(StateManager stateManager, Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.<>c.<SaveChanges>b__107_0(DbContext _, ValueTuple`2 t)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'ProductImage'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at Microsoft.Data.SqlClient.SqlDataReader.get_MetaData()
   at Microsoft.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString, Boolean isInternal, Boolean forDescribeParameterEncryption, Boolean shouldCacheForAlwaysEncrypted)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean isAsync, Int32 timeout, Task& task, Boolean asyncWrite, Boolean inRetry, SqlDataReader ds, Boolean describeParameterEncryptionRequest)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean& usedCache, Boolean asyncWrite, Boolean inRetry, String method)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, String method)
   at Microsoft.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.SqlClient.SqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
ClientConnectionId:3975e09d-721d-4404-8ca0-0d2c3b30d5f3
Error Number:207,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(IEnumerable`1 commandBatches, IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChanges(IList`1 entries)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(IList`1 entriesToSave)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(StateManager stateManager, Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.<>c.<SaveChanges>b__107_0(DbContext _, ValueTuple`2 t)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)
2023-10-31 17:12:05.090 [ERR] CompleteTransaction
2023-10-31 17:12:05.093 [INF] -------------Request-Begin------------
2023-10-31 17:12:05.093 [INF] Http Request Information: 
Schema:https 
Host: localhost:44346 
Path: /finalCase/Products 
QueryString:  
Request Body: {
  "productName": "test2",
  "productImage": "test2",
  "productQuantity": 5,
  "productPrice": 140,
  "productInformation": "test2"
}
2023-10-31 17:12:05.093 [INF] 

2023-10-31 17:12:05.094 [INF] Http Response Information: 
Schema:https 
Host: localhost:44346 
Path: /finalCase/Products 
QueryString:  
StatusCode: 200 
Response Body: {"success":true,"message":"Success","response":{"productName":"test2","productImage":"test2","productQuantity":5,"productPrice":140,"productInformation":"test2"}}
2023-10-31 17:12:05.094 [INF] -------------Request-End------------
2023-10-31 17:12:24.424 [INF] LogErrorHandlerMiddleware.Invoke
2023-10-31 17:12:24.424 [INF] HeartBeat
2023-10-31 17:12:24.424 [INF] LogRequestLoggingMiddleware.Invoke
2023-10-31 17:12:24.656 [ERR] Failed executing DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[InsertDate], [p].[ProductImage], [p].[ProductInformation], [p].[ProductName], [p].[ProductPrice], [p].[ProductQuantity]
FROM [dbo].[Product] AS [p]
2023-10-31 17:12:24.660 [ERR] An exception occurred while iterating over the results of a query for context type 'Vk.Data.Context.VkDbContext'.
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'ProductImage'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at Microsoft.Data.SqlClient.SqlDataReader.get_MetaData()
   at Microsoft.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString, Boolean isInternal, Boolean forDescribeParameterEncryption, Boolean shouldCacheForAlwaysEncrypted)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean isAsync, Int32 timeout, Task& task, Boolean asyncWrite, Boolean inRetry, SqlDataReader ds, Boolean describeParameterEncryptionRequest)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean& usedCache, Boolean asyncWrite, Boolean inRetry, String method)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, String method)
   at Microsoft.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.SqlClient.SqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.InitializeReader(Enumerator enumerator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.<>c.<MoveNext>b__21_0(DbContext _, Enumerator enumerator)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.MoveNext()
ClientConnectionId:3975e09d-721d-4404-8ca0-0d2c3b30d5f3
Error Number:207,State:1,Class:16
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'ProductImage'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at Microsoft.Data.SqlClient.SqlDataReader.get_MetaData()
   at Microsoft.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString, Boolean isInternal, Boolean forDescribeParameterEncryption, Boolean shouldCacheForAlwaysEncrypted)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean isAsync, Int32 timeout, Task& task, Boolean asyncWrite, Boolean inRetry, SqlDataReader ds, Boolean describeParameterEncryptionRequest)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean& usedCache, Boolean asyncWrite, Boolean inRetry, String method)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, String method)
   at Microsoft.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.SqlClient.SqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.InitializeReader(Enumerator enumerator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.<>c.<MoveNext>b__21_0(DbContext _, Enumerator enumerator)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.MoveNext()
ClientConnectionId:3975e09d-721d-4404-8ca0-0d2c3b30d5f3
Error Number:207,State:1,Class:16
2023-10-31 17:12:24.824 [FTL] Path=/finalCase/Products || Method=GET || Exception=Invalid column name 'ProductImage'.
2023-10-31 17:12:24.852 [ERR] An unhandled exception has occurred while executing the request.
System.ObjectDisposedException: Cannot access a disposed object.
Object name: 'The stream with Id a0666f4a-d2e4-40f3-a1c0-23be42c5c157 and Tag  is disposed.'.
   at Microsoft.IO.RecyclableMemoryStream.ThrowDisposedException() in /_/src/RecyclableMemoryStream.cs:line 1453
   at Microsoft.IO.RecyclableMemoryStream.Write(Byte[] buffer, Int32 offset, Int32 count) in /_/src/RecyclableMemoryStream.cs:line 997
   at System.IO.MemoryStream.WriteAsync(ReadOnlyMemory`1 buffer, CancellationToken cancellationToken)
--- End of stack trace from previous location ---
   at System.IO.Pipelines.StreamPipeWriter.FlushAsyncInternal(Boolean writeToStream, ReadOnlyMemory`1 data, CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at System.Threading.Tasks.ValueTask`1.GetTaskForValueTaskSource(IValueTaskSource`1 t)
--- End of stack trace from previous location ---
   at VkApi.Middleware.ErrorHandlerMiddleware.Invoke(HttpContext context) in C:\Vakifbank_Bootcamp\FinalCase\VkApi\Middleware\ErrorHandlerMiddleware.cs:line 33
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2023-10-31 17:12:24.902 [ERR] An exception was thrown attempting to display the error page.
System.ObjectDisposedException: Cannot access a disposed object.
Object name: 'The stream with Id a0666f4a-d2e4-40f3-a1c0-23be42c5c157 and Tag  is disposed.'.
   at Microsoft.IO.RecyclableMemoryStream.ThrowDisposedException() in /_/src/RecyclableMemoryStream.cs:line 1453
   at Microsoft.IO.RecyclableMemoryStream.Write(Byte[] buffer, Int32 offset, Int32 count) in /_/src/RecyclableMemoryStream.cs:line 997
   at System.IO.MemoryStream.WriteAsync(ReadOnlyMemory`1 buffer, CancellationToken cancellationToken)
--- End of stack trace from previous location ---
   at System.IO.Pipelines.StreamPipeWriter.FlushAsyncInternal(Boolean writeToStream, ReadOnlyMemory`1 data, CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at System.Threading.Tasks.ValueTask`1.GetTaskForValueTaskSource(IValueTaskSource`1 t)
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.DisplayExceptionContent(ErrorContext errorContext)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2023-10-31 17:12:24.908 [ERR] Connection ID "18014398511092596760", Request ID "80000019-0000-fa00-b63f-84710c7967bb": An unhandled exception was thrown by the application.
System.ObjectDisposedException: Cannot access a disposed object.
Object name: 'The stream with Id a0666f4a-d2e4-40f3-a1c0-23be42c5c157 and Tag  is disposed.'.
   at Microsoft.IO.RecyclableMemoryStream.ThrowDisposedException() in /_/src/RecyclableMemoryStream.cs:line 1453
   at Microsoft.IO.RecyclableMemoryStream.Write(Byte[] buffer, Int32 offset, Int32 count) in /_/src/RecyclableMemoryStream.cs:line 997
   at System.IO.MemoryStream.WriteAsync(ReadOnlyMemory`1 buffer, CancellationToken cancellationToken)
--- End of stack trace from previous location ---
   at System.IO.Pipelines.StreamPipeWriter.FlushAsyncInternal(Boolean writeToStream, ReadOnlyMemory`1 data, CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at System.Threading.Tasks.ValueTask`1.GetTaskForValueTaskSource(IValueTaskSource`1 t)
--- End of stack trace from previous location ---
   at VkApi.Middleware.ErrorHandlerMiddleware.Invoke(HttpContext context) in C:\Vakifbank_Bootcamp\FinalCase\VkApi\Middleware\ErrorHandlerMiddleware.cs:line 33
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware.InvokeAsync(HttpContext context)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContextOfT`1.ProcessRequestAsync()
2023-10-31 17:13:27.866 [INF] LogErrorHandlerMiddleware.Invoke
2023-10-31 17:13:27.868 [INF] HeartBeat
2023-10-31 17:13:27.868 [INF] LogRequestLoggingMiddleware.Invoke
2023-10-31 17:13:27.898 [INF] -------------Request-Begin------------
2023-10-31 17:13:27.898 [INF] Http Request Information: 
Schema:https 
Host: localhost:44346 
Path: /finalCase/Orders 
QueryString:  
Request Body: {
  "userId": 14,
  "orderStatus": "test",
  "orderPaymentMethod": "test",
  "orderAmount": 140
}
2023-10-31 17:13:27.898 [INF] 

2023-10-31 17:13:27.898 [INF] Http Response Information: 
Schema:https 
Host: localhost:44346 
Path: /finalCase/Orders 
QueryString:  
StatusCode: 400 
Response Body: {"type":"https://tools.ietf.org/html/rfc7231#section-6.5.1","title":"One or more validation errors occurred.","status":400,"traceId":"00-0515a837aaa821803436b9fa91150845-dc89c4cdf1878ec7-00","errors":{"OrderStatus":["OrderStatus must be 'Waiting', 'Processing', or 'Completed'."],"OrderPaymentMethod":["OrderStatus must be 'EFT', 'Money Transfer', 'Credit Card' or 'Open Account'."]}}
2023-10-31 17:13:27.898 [INF] -------------Request-End------------
2023-10-31 17:13:40.920 [INF] LogErrorHandlerMiddleware.Invoke
2023-10-31 17:13:40.920 [INF] HeartBeat
2023-10-31 17:13:40.920 [INF] LogRequestLoggingMiddleware.Invoke
2023-10-31 17:13:40.999 [ERR] An exception occurred in the database while saving changes for context type 'Vk.Data.Context.VkDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert the value NULL into column 'OrderImage', table 'finalCase.dbo.Order'; column does not allow nulls. INSERT fails.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.Read()
   at Microsoft.EntityFrameworkCore.Storage.RelationalDataReader.Read()
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSet(Int32 startCommandIndex, RelationalDataReader reader)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.Consume(RelationalDataReader reader)
ClientConnectionId:3975e09d-721d-4404-8ca0-0d2c3b30d5f3
Error Number:515,State:2,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.Consume(RelationalDataReader reader)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(IEnumerable`1 commandBatches, IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChanges(IList`1 entries)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(IList`1 entriesToSave)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(StateManager stateManager, Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.<>c.<SaveChanges>b__107_0(DbContext _, ValueTuple`2 t)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert the value NULL into column 'OrderImage', table 'finalCase.dbo.Order'; column does not allow nulls. INSERT fails.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.Read()
   at Microsoft.EntityFrameworkCore.Storage.RelationalDataReader.Read()
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSet(Int32 startCommandIndex, RelationalDataReader reader)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.Consume(RelationalDataReader reader)
ClientConnectionId:3975e09d-721d-4404-8ca0-0d2c3b30d5f3
Error Number:515,State:2,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.Consume(RelationalDataReader reader)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(IEnumerable`1 commandBatches, IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChanges(IList`1 entries)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(IList`1 entriesToSave)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(StateManager stateManager, Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.<>c.<SaveChanges>b__107_0(DbContext _, ValueTuple`2 t)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)
2023-10-31 17:13:41.049 [ERR] CompleteTransaction
2023-10-31 17:13:41.057 [INF] -------------Request-Begin------------
2023-10-31 17:13:41.057 [INF] Http Request Information: 
Schema:https 
Host: localhost:44346 
Path: /finalCase/Orders 
QueryString:  
Request Body: {
  "userId": 14,
  "orderStatus": "Waiting",
  "orderPaymentMethod": "EFT",
  "orderAmount": 140
}
2023-10-31 17:13:41.057 [INF] 

2023-10-31 17:13:41.057 [INF] Http Response Information: 
Schema:https 
Host: localhost:44346 
Path: /finalCase/Orders 
QueryString:  
StatusCode: 200 
Response Body: {"success":true,"message":"Success","response":{"userId":14,"orderStatus":"Waiting","orderPaymentMethod":"EFT","orderAmount":140}}
2023-10-31 17:13:41.057 [INF] -------------Request-End------------
2023-10-31 17:17:04.514 [INF] App server is starting.
2023-10-31 17:17:27.309 [INF] LogErrorHandlerMiddleware.Invoke
2023-10-31 17:17:27.312 [INF] HeartBeat
2023-10-31 17:17:27.314 [INF] LogRequestLoggingMiddleware.Invoke
2023-10-31 18:22:23.023 [INF] App server is starting.
2023-10-31 18:22:41.155 [INF] LogErrorHandlerMiddleware.Invoke
2023-10-31 18:22:41.160 [INF] HeartBeat
2023-10-31 18:22:41.163 [INF] LogRequestLoggingMiddleware.Invoke
2023-10-31 18:23:17.260 [INF] App server is starting.
2023-10-31 18:23:44.822 [INF] LogErrorHandlerMiddleware.Invoke
2023-10-31 18:23:44.826 [INF] HeartBeat
2023-10-31 18:23:44.828 [INF] LogRequestLoggingMiddleware.Invoke
2023-10-31 18:23:58.539 [INF] -------------Request-Begin------------
2023-10-31 18:23:58.540 [INF] Http Request Information: 
Schema:https 
Host: localhost:44346 
Path: /finalCase/Users 
QueryString:  
Request Body: {
  "userNumber": 100425,
  "userName": "dfgdfg",
  "userEmail": "dfgdfg",
  "userPassword": "dfgdfg",
  "userRole": "Admin",
  "userBalance": 40,
  "userProfitMargin": 10
}
2023-10-31 18:23:58.540 [INF] 

2023-10-31 18:23:58.541 [INF] Http Response Information: 
Schema:https 
Host: localhost:44346 
Path: /finalCase/Users 
QueryString:  
StatusCode: 200 
Response Body: {"success":true,"message":"Success","response":{"userNumber":100425,"userName":"dfgdfg","userEmail":"dfgdfg","userPassword":"8d509c28896865f8640f328f30f15721","userPasswordRetryCount":0,"userRole":"Admin","userBalance":40,"userProfitMargin":10,"addresses":[],"orders":[]}}
2023-10-31 18:23:58.541 [INF] -------------Request-End------------
2023-10-31 18:24:16.722 [INF] LogErrorHandlerMiddleware.Invoke
2023-10-31 18:24:16.723 [INF] HeartBeat
2023-10-31 18:24:16.723 [INF] LogRequestLoggingMiddleware.Invoke
2023-10-31 18:24:35.764 [INF] App server is starting.
2023-10-31 18:24:56.907 [INF] LogErrorHandlerMiddleware.Invoke
2023-10-31 18:24:56.912 [INF] HeartBeat
2023-10-31 18:24:56.914 [INF] LogRequestLoggingMiddleware.Invoke
2023-10-31 18:25:03.277 [INF] -------------Request-Begin------------
2023-10-31 18:25:03.278 [INF] Http Request Information: 
Schema:https 
Host: localhost:44346 
Path: /finalCase/Users 
QueryString:  
Request Body: {
  "userNumber": 474152,
  "userName": "dfgdf",
  "userEmail": "dfgdf",
  "userPassword": "dfgdfg",
  "userRole": "Admin",
  "userBalance": 40,
  "userProfitMargin": 47
}
2023-10-31 18:25:03.278 [INF] 

2023-10-31 18:25:03.279 [INF] Http Response Information: 
Schema:https 
Host: localhost:44346 
Path: /finalCase/Users 
QueryString:  
StatusCode: 200 
Response Body: {"success":true,"message":"Success","response":{"userNumber":474152,"userName":"dfgdf","userEmail":"dfgdf","userPassword":"8d509c28896865f8640f328f30f15721","userPasswordRetryCount":0,"userRole":"Admin","userBalance":40,"userProfitMargin":47,"addresses":[],"orders":[]}}
2023-10-31 18:25:03.279 [INF] -------------Request-End------------
2023-10-31 18:25:18.696 [INF] LogErrorHandlerMiddleware.Invoke
2023-10-31 18:25:18.696 [INF] HeartBeat
2023-10-31 18:25:18.697 [INF] LogRequestLoggingMiddleware.Invoke
2023-10-31 18:25:23.954 [ERR] Failed executing DbCommand (5ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (DbType = Double), @p5='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [dbo].[Product] ([InsertDate], [ProductImage], [ProductInformation], [ProductName], [ProductPrice], [ProductQuantity])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2023-10-31 18:25:23.997 [ERR] An exception occurred in the database while saving changes for context type 'Vk.Data.Context.VkDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'ProductImage'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at Microsoft.Data.SqlClient.SqlDataReader.get_MetaData()
   at Microsoft.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString, Boolean isInternal, Boolean forDescribeParameterEncryption, Boolean shouldCacheForAlwaysEncrypted)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean isAsync, Int32 timeout, Task& task, Boolean asyncWrite, Boolean inRetry, SqlDataReader ds, Boolean describeParameterEncryptionRequest)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean& usedCache, Boolean asyncWrite, Boolean inRetry, String method)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, String method)
   at Microsoft.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.SqlClient.SqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
ClientConnectionId:06d8cd9a-9c8f-4855-8d44-84990234a289
Error Number:207,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(IEnumerable`1 commandBatches, IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChanges(IList`1 entries)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(IList`1 entriesToSave)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(StateManager stateManager, Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.<>c.<SaveChanges>b__107_0(DbContext _, ValueTuple`2 t)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'ProductImage'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at Microsoft.Data.SqlClient.SqlDataReader.get_MetaData()
   at Microsoft.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString, Boolean isInternal, Boolean forDescribeParameterEncryption, Boolean shouldCacheForAlwaysEncrypted)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean isAsync, Int32 timeout, Task& task, Boolean asyncWrite, Boolean inRetry, SqlDataReader ds, Boolean describeParameterEncryptionRequest)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean& usedCache, Boolean asyncWrite, Boolean inRetry, String method)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, String method)
   at Microsoft.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.SqlClient.SqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
ClientConnectionId:06d8cd9a-9c8f-4855-8d44-84990234a289
Error Number:207,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(IEnumerable`1 commandBatches, IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChanges(IList`1 entries)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(IList`1 entriesToSave)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(StateManager stateManager, Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.<>c.<SaveChanges>b__107_0(DbContext _, ValueTuple`2 t)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)
2023-10-31 18:25:24.078 [ERR] CompleteTransaction
2023-10-31 18:25:28.216 [INF] -------------Request-Begin------------
2023-10-31 18:25:28.216 [INF] Http Request Information: 
Schema:https 
Host: localhost:44346 
Path: /finalCase/Products 
QueryString:  
Request Body: {
  "productName": "gfdg",
  "productImage": "dfgdfg",
  "productQuantity": 47,
  "productPrice": 47,
  "productInformation": "ghfghg"
}
2023-10-31 18:25:28.216 [INF] 

2023-10-31 18:25:28.217 [INF] Http Response Information: 
Schema:https 
Host: localhost:44346 
Path: /finalCase/Products 
QueryString:  
StatusCode: 200 
Response Body: {"success":true,"message":"Success","response":{"productName":"gfdg","productImage":"dfgdfg","productQuantity":47,"productPrice":47,"productInformation":"ghfghg"}}
2023-10-31 18:25:28.217 [INF] -------------Request-End------------
2023-10-31 18:27:07.874 [INF] App server is starting.
2023-10-31 18:27:22.319 [INF] LogErrorHandlerMiddleware.Invoke
2023-10-31 18:27:22.323 [INF] HeartBeat
2023-10-31 18:27:22.325 [INF] LogRequestLoggingMiddleware.Invoke
2023-10-31 18:27:26.016 [ERR] Failed executing DbCommand (38ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (DbType = Double), @p5='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [dbo].[Product] ([InsertDate], [ProductImage], [ProductInformation], [ProductName], [ProductPrice], [ProductQuantity])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2023-10-31 18:27:26.066 [ERR] An exception occurred in the database while saving changes for context type 'Vk.Data.Context.VkDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'ProductImage'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at Microsoft.Data.SqlClient.SqlDataReader.get_MetaData()
   at Microsoft.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString, Boolean isInternal, Boolean forDescribeParameterEncryption, Boolean shouldCacheForAlwaysEncrypted)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean isAsync, Int32 timeout, Task& task, Boolean asyncWrite, Boolean inRetry, SqlDataReader ds, Boolean describeParameterEncryptionRequest)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean& usedCache, Boolean asyncWrite, Boolean inRetry, String method)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, String method)
   at Microsoft.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.SqlClient.SqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
ClientConnectionId:670c16c8-cde3-410d-9a5e-98b52ea17ca2
Error Number:207,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(IEnumerable`1 commandBatches, IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChanges(IList`1 entries)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(IList`1 entriesToSave)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(StateManager stateManager, Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.<>c.<SaveChanges>b__107_0(DbContext _, ValueTuple`2 t)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'ProductImage'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at Microsoft.Data.SqlClient.SqlDataReader.get_MetaData()
   at Microsoft.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString, Boolean isInternal, Boolean forDescribeParameterEncryption, Boolean shouldCacheForAlwaysEncrypted)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean isAsync, Int32 timeout, Task& task, Boolean asyncWrite, Boolean inRetry, SqlDataReader ds, Boolean describeParameterEncryptionRequest)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean& usedCache, Boolean asyncWrite, Boolean inRetry, String method)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, String method)
   at Microsoft.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.SqlClient.SqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
ClientConnectionId:670c16c8-cde3-410d-9a5e-98b52ea17ca2
Error Number:207,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(IEnumerable`1 commandBatches, IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChanges(IList`1 entries)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(IList`1 entriesToSave)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(StateManager stateManager, Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.<>c.<SaveChanges>b__107_0(DbContext _, ValueTuple`2 t)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)
2023-10-31 18:27:26.148 [ERR] CompleteTransaction
2023-10-31 18:27:26.171 [INF] -------------Request-Begin------------
2023-10-31 18:27:26.171 [INF] Http Request Information: 
Schema:https 
Host: localhost:44346 
Path: /finalCase/Products 
QueryString:  
Request Body: {
  "productName": "sdfsdf",
  "productImage": "sdfsdf",
  "productQuantity": 47,
  "productPrice": 47,
  "productInformation": "stsdfsdfring"
}
2023-10-31 18:27:26.172 [INF] 

2023-10-31 18:27:26.172 [INF] Http Response Information: 
Schema:https 
Host: localhost:44346 
Path: /finalCase/Products 
QueryString:  
StatusCode: 200 
Response Body: {"success":true,"message":"Success","response":{"productName":"sdfsdf","productImage":"sdfsdf","productQuantity":47,"productPrice":47,"productInformation":"stsdfsdfring"}}
2023-10-31 18:27:26.172 [INF] -------------Request-End------------
2023-10-31 20:04:20.806 [INF] App server is starting.
2023-10-31 20:07:47.025 [INF] LogErrorHandlerMiddleware.Invoke
2023-10-31 20:07:47.029 [INF] HeartBeat
2023-10-31 20:07:47.031 [INF] LogRequestLoggingMiddleware.Invoke
2023-10-31 20:08:30.824 [INF] -------------Request-Begin------------
2023-10-31 20:08:30.825 [INF] Http Request Information: 
Schema:https 
Host: localhost:44346 
Path: /finalCase/Addresses 
QueryString:  
Request Body: {
  "userId": 14,
  "addressLine1": "test",
  "addressLine2": "test",
  "city": "test",
  "county": "test",
  "postalCode": 34000
}
2023-10-31 20:08:30.825 [INF] 

2023-10-31 20:08:30.825 [INF] Http Response Information: 
Schema:https 
Host: localhost:44346 
Path: /finalCase/Addresses 
QueryString:  
StatusCode: 200 
Response Body: {"success":true,"message":"Success","response":{"userId":14,"addressLine1":"test","addressLine2":"test","city":"test","county":"test","postalCode":34000}}
2023-10-31 20:08:30.825 [INF] -------------Request-End------------
2023-10-31 20:08:56.733 [INF] LogErrorHandlerMiddleware.Invoke
2023-10-31 20:08:56.734 [INF] HeartBeat
2023-10-31 20:08:56.734 [INF] LogRequestLoggingMiddleware.Invoke
2023-10-31 20:08:58.686 [INF] -------------Request-Begin------------
2023-10-31 20:08:58.686 [INF] Http Request Information: 
Schema:https 
Host: localhost:44346 
Path: /finalCase/Addresses 
QueryString:  
Request Body: {
  "userId": 14,
  "addressLine1": "test",
  "addressLine2": "test",
  "city": "test",
  "county": "test",
  "postalCode": 34000
}
2023-10-31 20:08:58.687 [INF] 

2023-10-31 20:08:58.687 [INF] Http Response Information: 
Schema:https 
Host: localhost:44346 
Path: /finalCase/Addresses 
QueryString:  
StatusCode: 200 
Response Body: {"success":true,"message":"Success","response":{"userId":14,"addressLine1":"test","addressLine2":"test","city":"test","county":"test","postalCode":34000}}
2023-10-31 20:08:58.687 [INF] -------------Request-End------------
2023-10-31 20:09:12.070 [INF] LogErrorHandlerMiddleware.Invoke
2023-10-31 20:09:12.070 [INF] HeartBeat
2023-10-31 20:09:12.070 [INF] LogRequestLoggingMiddleware.Invoke
2023-10-31 20:09:14.095 [ERR] An exception occurred in the database while saving changes for context type 'Vk.Data.Context.VkDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Address_User_UserId". The conflict occurred in database "finalCase", table "dbo.User", column 'Id'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.Read()
   at Microsoft.EntityFrameworkCore.Storage.RelationalDataReader.Read()
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSet(Int32 startCommandIndex, RelationalDataReader reader)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.Consume(RelationalDataReader reader)
ClientConnectionId:c4fc8bf0-2608-4746-97fc-0b1a4b2f0a3b
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.Consume(RelationalDataReader reader)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(IEnumerable`1 commandBatches, IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChanges(IList`1 entries)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(IList`1 entriesToSave)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(StateManager stateManager, Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.<>c.<SaveChanges>b__107_0(DbContext _, ValueTuple`2 t)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Address_User_UserId". The conflict occurred in database "finalCase", table "dbo.User", column 'Id'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.Read()
   at Microsoft.EntityFrameworkCore.Storage.RelationalDataReader.Read()
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSet(Int32 startCommandIndex, RelationalDataReader reader)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.Consume(RelationalDataReader reader)
ClientConnectionId:c4fc8bf0-2608-4746-97fc-0b1a4b2f0a3b
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.Consume(RelationalDataReader reader)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(IEnumerable`1 commandBatches, IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChanges(IList`1 entries)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(IList`1 entriesToSave)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(StateManager stateManager, Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.<>c.<SaveChanges>b__107_0(DbContext _, ValueTuple`2 t)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)
2023-10-31 20:09:14.161 [ERR] CompleteTransaction
2023-10-31 20:09:14.162 [INF] -------------Request-Begin------------
2023-10-31 20:09:14.162 [INF] Http Request Information: 
Schema:https 
Host: localhost:44346 
Path: /finalCase/Addresses 
QueryString:  
Request Body: {
  "userId": 34,
  "addressLine1": "test",
  "addressLine2": "test",
  "city": "test",
  "county": "test",
  "postalCode": 34000
}
2023-10-31 20:09:14.162 [INF] 

2023-10-31 20:09:14.162 [INF] Http Response Information: 
Schema:https 
Host: localhost:44346 
Path: /finalCase/Addresses 
QueryString:  
StatusCode: 200 
Response Body: {"success":true,"message":"Success","response":{"userId":34,"addressLine1":"test","addressLine2":"test","city":"test","county":"test","postalCode":34000}}
2023-10-31 20:09:14.162 [INF] -------------Request-End------------
2023-10-31 20:09:31.760 [INF] LogErrorHandlerMiddleware.Invoke
2023-10-31 20:09:31.760 [INF] HeartBeat
2023-10-31 20:09:31.760 [INF] LogRequestLoggingMiddleware.Invoke
2023-10-31 20:09:32.215 [INF] -------------Request-Begin------------
2023-10-31 20:09:32.215 [INF] Http Request Information: 
Schema:https 
Host: localhost:44346 
Path: /finalCase/Addresses 
QueryString:  
Request Body: 
2023-10-31 20:09:32.215 [INF] 

2023-10-31 20:09:32.215 [INF] Http Response Information: 
Schema:https 
Host: localhost:44346 
Path: /finalCase/Addresses 
QueryString:  
StatusCode: 200 
Response Body: {"success":true,"message":"Success","response":[{"userId":14,"addressLine1":"test","addressLine2":"test","city":"test","county":"test","postalCode":34000},{"userId":14,"addressLine1":"test","addressLine2":"test","city":"test","county":"test","postalCode":34000}]}
2023-10-31 20:09:32.215 [INF] -------------Request-End------------
2023-10-31 20:09:38.679 [INF] LogErrorHandlerMiddleware.Invoke
2023-10-31 20:09:38.679 [INF] HeartBeat
2023-10-31 20:09:38.679 [INF] LogRequestLoggingMiddleware.Invoke
2023-10-31 20:09:38.791 [INF] -------------Request-Begin------------
2023-10-31 20:09:38.791 [INF] Http Request Information: 
Schema:https 
Host: localhost:44346 
Path: /finalCase/Addresses/2 
QueryString:  
Request Body: 
2023-10-31 20:09:38.791 [INF] 

2023-10-31 20:09:38.791 [INF] Http Response Information: 
Schema:https 
Host: localhost:44346 
Path: /finalCase/Addresses/2 
QueryString:  
StatusCode: 200 
Response Body: {"success":true,"message":"Success","response":{"userId":14,"addressLine1":"test","addressLine2":"test","city":"test","county":"test","postalCode":34000}}
2023-10-31 20:09:38.791 [INF] -------------Request-End------------
2023-10-31 20:09:52.540 [INF] LogErrorHandlerMiddleware.Invoke
2023-10-31 20:09:52.540 [INF] HeartBeat
2023-10-31 20:09:52.540 [INF] LogRequestLoggingMiddleware.Invoke
2023-10-31 20:09:52.976 [FTL] Path=/finalCase/Addresses/2 || Method=PUT || Exception=Missing type map configuration or unsupported mapping.

Mapping types:
AddressUpdatedRequest -> Address
Vk.Schema.AddressUpdatedRequest -> Vk.Data.Domain.Address
2023-10-31 20:09:53.081 [ERR] An unhandled exception has occurred while executing the request.
System.ObjectDisposedException: Cannot access a disposed object.
Object name: 'The stream with Id 9e3b4de9-9f42-48b6-b9bf-e6d23aaeca8b and Tag  is disposed.'.
   at Microsoft.IO.RecyclableMemoryStream.ThrowDisposedException() in /_/src/RecyclableMemoryStream.cs:line 1453
   at Microsoft.IO.RecyclableMemoryStream.Write(Byte[] buffer, Int32 offset, Int32 count) in /_/src/RecyclableMemoryStream.cs:line 997
   at System.IO.MemoryStream.WriteAsync(ReadOnlyMemory`1 buffer, CancellationToken cancellationToken)
--- End of stack trace from previous location ---
   at System.IO.Pipelines.StreamPipeWriter.FlushAsyncInternal(Boolean writeToStream, ReadOnlyMemory`1 data, CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at System.Threading.Tasks.ValueTask`1.GetTaskForValueTaskSource(IValueTaskSource`1 t)
--- End of stack trace from previous location ---
   at VkApi.Middleware.ErrorHandlerMiddleware.Invoke(HttpContext context) in C:\Vakifbank_Bootcamp\FinalCase\VkApi\Middleware\ErrorHandlerMiddleware.cs:line 33
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2023-10-31 20:09:53.125 [ERR] An exception was thrown attempting to display the error page.
System.ObjectDisposedException: Cannot access a disposed object.
Object name: 'The stream with Id 9e3b4de9-9f42-48b6-b9bf-e6d23aaeca8b and Tag  is disposed.'.
   at Microsoft.IO.RecyclableMemoryStream.ThrowDisposedException() in /_/src/RecyclableMemoryStream.cs:line 1453
   at Microsoft.IO.RecyclableMemoryStream.Write(Byte[] buffer, Int32 offset, Int32 count) in /_/src/RecyclableMemoryStream.cs:line 997
   at System.IO.MemoryStream.WriteAsync(ReadOnlyMemory`1 buffer, CancellationToken cancellationToken)
--- End of stack trace from previous location ---
   at System.IO.Pipelines.StreamPipeWriter.FlushAsyncInternal(Boolean writeToStream, ReadOnlyMemory`1 data, CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at System.Threading.Tasks.ValueTask`1.GetTaskForValueTaskSource(IValueTaskSource`1 t)
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.DisplayExceptionContent(ErrorContext errorContext)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2023-10-31 20:09:53.132 [ERR] Connection ID "18086456105130524719", Request ID "80000030-0000-fb00-b63f-84710c7967bb": An unhandled exception was thrown by the application.
System.ObjectDisposedException: Cannot access a disposed object.
Object name: 'The stream with Id 9e3b4de9-9f42-48b6-b9bf-e6d23aaeca8b and Tag  is disposed.'.
   at Microsoft.IO.RecyclableMemoryStream.ThrowDisposedException() in /_/src/RecyclableMemoryStream.cs:line 1453
   at Microsoft.IO.RecyclableMemoryStream.Write(Byte[] buffer, Int32 offset, Int32 count) in /_/src/RecyclableMemoryStream.cs:line 997
   at System.IO.MemoryStream.WriteAsync(ReadOnlyMemory`1 buffer, CancellationToken cancellationToken)
--- End of stack trace from previous location ---
   at System.IO.Pipelines.StreamPipeWriter.FlushAsyncInternal(Boolean writeToStream, ReadOnlyMemory`1 data, CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at System.Threading.Tasks.ValueTask`1.GetTaskForValueTaskSource(IValueTaskSource`1 t)
--- End of stack trace from previous location ---
   at VkApi.Middleware.ErrorHandlerMiddleware.Invoke(HttpContext context) in C:\Vakifbank_Bootcamp\FinalCase\VkApi\Middleware\ErrorHandlerMiddleware.cs:line 33
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware.InvokeAsync(HttpContext context)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContextOfT`1.ProcessRequestAsync()
2023-10-31 20:10:06.603 [INF] LogErrorHandlerMiddleware.Invoke
2023-10-31 20:10:06.603 [INF] HeartBeat
2023-10-31 20:10:06.603 [INF] LogRequestLoggingMiddleware.Invoke
2023-10-31 20:10:06.665 [INF] -------------Request-Begin------------
2023-10-31 20:10:06.665 [INF] Http Request Information: 
Schema:https 
Host: localhost:44346 
Path: /finalCase/Addresses/2 
QueryString:  
Request Body: 
2023-10-31 20:10:06.665 [INF] 

2023-10-31 20:10:06.665 [INF] Http Response Information: 
Schema:https 
Host: localhost:44346 
Path: /finalCase/Addresses/2 
QueryString:  
StatusCode: 200 
Response Body: {"success":true,"message":null}
2023-10-31 20:10:06.665 [INF] -------------Request-End------------
2023-10-31 20:10:08.053 [INF] LogErrorHandlerMiddleware.Invoke
2023-10-31 20:10:08.053 [INF] HeartBeat
2023-10-31 20:10:08.053 [INF] LogRequestLoggingMiddleware.Invoke
2023-10-31 20:10:08.203 [FTL] Path=/finalCase/Addresses/2 || Method=DELETE || Exception=Value cannot be null. (Parameter 'entity')
2023-10-31 20:10:08.225 [ERR] An unhandled exception has occurred while executing the request.
System.ObjectDisposedException: Cannot access a disposed object.
Object name: 'The stream with Id 2200ca85-0f8e-42ea-8598-d44e52d7aa5d and Tag  is disposed.'.
   at Microsoft.IO.RecyclableMemoryStream.ThrowDisposedException() in /_/src/RecyclableMemoryStream.cs:line 1453
   at Microsoft.IO.RecyclableMemoryStream.Write(Byte[] buffer, Int32 offset, Int32 count) in /_/src/RecyclableMemoryStream.cs:line 997
   at System.IO.MemoryStream.WriteAsync(ReadOnlyMemory`1 buffer, CancellationToken cancellationToken)
--- End of stack trace from previous location ---
   at System.IO.Pipelines.StreamPipeWriter.FlushAsyncInternal(Boolean writeToStream, ReadOnlyMemory`1 data, CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at System.Threading.Tasks.ValueTask`1.GetTaskForValueTaskSource(IValueTaskSource`1 t)
--- End of stack trace from previous location ---
   at VkApi.Middleware.ErrorHandlerMiddleware.Invoke(HttpContext context) in C:\Vakifbank_Bootcamp\FinalCase\VkApi\Middleware\ErrorHandlerMiddleware.cs:line 33
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2023-10-31 20:10:08.228 [ERR] An exception was thrown attempting to display the error page.
System.ObjectDisposedException: Cannot access a disposed object.
Object name: 'The stream with Id 2200ca85-0f8e-42ea-8598-d44e52d7aa5d and Tag  is disposed.'.
   at Microsoft.IO.RecyclableMemoryStream.ThrowDisposedException() in /_/src/RecyclableMemoryStream.cs:line 1453
   at Microsoft.IO.RecyclableMemoryStream.Write(Byte[] buffer, Int32 offset, Int32 count) in /_/src/RecyclableMemoryStream.cs:line 997
   at System.IO.MemoryStream.WriteAsync(ReadOnlyMemory`1 buffer, CancellationToken cancellationToken)
--- End of stack trace from previous location ---
   at System.IO.Pipelines.StreamPipeWriter.FlushAsyncInternal(Boolean writeToStream, ReadOnlyMemory`1 data, CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at System.Threading.Tasks.ValueTask`1.GetTaskForValueTaskSource(IValueTaskSource`1 t)
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.DisplayExceptionContent(ErrorContext errorContext)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2023-10-31 20:10:08.231 [ERR] Connection ID "18086456113720459269", Request ID "80000006-0002-fb00-b63f-84710c7967bb": An unhandled exception was thrown by the application.
System.ObjectDisposedException: Cannot access a disposed object.
Object name: 'The stream with Id 2200ca85-0f8e-42ea-8598-d44e52d7aa5d and Tag  is disposed.'.
   at Microsoft.IO.RecyclableMemoryStream.ThrowDisposedException() in /_/src/RecyclableMemoryStream.cs:line 1453
   at Microsoft.IO.RecyclableMemoryStream.Write(Byte[] buffer, Int32 offset, Int32 count) in /_/src/RecyclableMemoryStream.cs:line 997
   at System.IO.MemoryStream.WriteAsync(ReadOnlyMemory`1 buffer, CancellationToken cancellationToken)
--- End of stack trace from previous location ---
   at System.IO.Pipelines.StreamPipeWriter.FlushAsyncInternal(Boolean writeToStream, ReadOnlyMemory`1 data, CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at System.Threading.Tasks.ValueTask`1.GetTaskForValueTaskSource(IValueTaskSource`1 t)
--- End of stack trace from previous location ---
   at VkApi.Middleware.ErrorHandlerMiddleware.Invoke(HttpContext context) in C:\Vakifbank_Bootcamp\FinalCase\VkApi\Middleware\ErrorHandlerMiddleware.cs:line 33
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware.InvokeAsync(HttpContext context)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContextOfT`1.ProcessRequestAsync()
2023-10-31 20:10:42.476 [INF] LogErrorHandlerMiddleware.Invoke
2023-10-31 20:10:42.477 [INF] HeartBeat
2023-10-31 20:10:42.477 [INF] LogRequestLoggingMiddleware.Invoke
2023-10-31 20:10:42.518 [INF] -------------Request-Begin------------
2023-10-31 20:10:42.518 [INF] Http Request Information: 
Schema:https 
Host: localhost:44346 
Path: /finalCase/Orders 
QueryString:  
Request Body: {
  "userId": 14,
  "orderStatus": "test",
  "orderPaymentMethod": "test",
  "orderAmount": 10
}
2023-10-31 20:10:42.518 [INF] 

2023-10-31 20:10:42.518 [INF] Http Response Information: 
Schema:https 
Host: localhost:44346 
Path: /finalCase/Orders 
QueryString:  
StatusCode: 400 
Response Body: {"type":"https://tools.ietf.org/html/rfc7231#section-6.5.1","title":"One or more validation errors occurred.","status":400,"traceId":"00-dca70e9b277acea71b1a9602a9b1a012-5f673805d781a1b8-00","errors":{"OrderStatus":["OrderStatus must be 'Waiting', 'Processing', or 'Completed'."],"OrderPaymentMethod":["OrderStatus must be 'EFT', 'Money Transfer', 'Credit Card' or 'Open Account'."]}}
2023-10-31 20:10:42.518 [INF] -------------Request-End------------
2023-10-31 20:10:54.672 [INF] LogErrorHandlerMiddleware.Invoke
2023-10-31 20:10:54.672 [INF] HeartBeat
2023-10-31 20:10:54.672 [INF] LogRequestLoggingMiddleware.Invoke
2023-10-31 20:11:58.223 [ERR] An exception occurred in the database while saving changes for context type 'Vk.Data.Context.VkDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert the value NULL into column 'OrderImage', table 'finalCase.dbo.Order'; column does not allow nulls. INSERT fails.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.Read()
   at Microsoft.EntityFrameworkCore.Storage.RelationalDataReader.Read()
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSet(Int32 startCommandIndex, RelationalDataReader reader)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.Consume(RelationalDataReader reader)
ClientConnectionId:c4fc8bf0-2608-4746-97fc-0b1a4b2f0a3b
Error Number:515,State:2,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.Consume(RelationalDataReader reader)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(IEnumerable`1 commandBatches, IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChanges(IList`1 entries)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(IList`1 entriesToSave)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(StateManager stateManager, Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.<>c.<SaveChanges>b__107_0(DbContext _, ValueTuple`2 t)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert the value NULL into column 'OrderImage', table 'finalCase.dbo.Order'; column does not allow nulls. INSERT fails.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.Read()
   at Microsoft.EntityFrameworkCore.Storage.RelationalDataReader.Read()
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSet(Int32 startCommandIndex, RelationalDataReader reader)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.Consume(RelationalDataReader reader)
ClientConnectionId:c4fc8bf0-2608-4746-97fc-0b1a4b2f0a3b
Error Number:515,State:2,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.Consume(RelationalDataReader reader)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(IEnumerable`1 commandBatches, IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChanges(IList`1 entries)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(IList`1 entriesToSave)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(StateManager stateManager, Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.<>c.<SaveChanges>b__107_0(DbContext _, ValueTuple`2 t)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)
2023-10-31 20:11:58.275 [ERR] CompleteTransaction
2023-10-31 20:11:58.283 [INF] -------------Request-Begin------------
2023-10-31 20:11:58.283 [INF] Http Request Information: 
Schema:https 
Host: localhost:44346 
Path: /finalCase/Orders 
QueryString:  
Request Body: {
  "userId": 14,
  "orderStatus": "Waiting",
  "orderPaymentMethod": "EFT",
  "orderAmount": 10
}
2023-10-31 20:11:58.283 [INF] 

2023-10-31 20:11:58.283 [INF] Http Response Information: 
Schema:https 
Host: localhost:44346 
Path: /finalCase/Orders 
QueryString:  
StatusCode: 200 
Response Body: {"success":true,"message":"Success","response":{"userId":14,"orderStatus":"Waiting","orderPaymentMethod":"EFT","orderAmount":10}}
2023-10-31 20:11:58.283 [INF] -------------Request-End------------
2023-10-31 20:12:21.078 [INF] LogErrorHandlerMiddleware.Invoke
2023-10-31 20:12:21.080 [INF] HeartBeat
2023-10-31 20:12:21.080 [INF] LogRequestLoggingMiddleware.Invoke
2023-10-31 20:12:22.322 [ERR] An exception occurred in the database while saving changes for context type 'Vk.Data.Context.VkDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert the value NULL into column 'OrderImage', table 'finalCase.dbo.Order'; column does not allow nulls. INSERT fails.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.Read()
   at Microsoft.EntityFrameworkCore.Storage.RelationalDataReader.Read()
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSet(Int32 startCommandIndex, RelationalDataReader reader)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.Consume(RelationalDataReader reader)
ClientConnectionId:c4fc8bf0-2608-4746-97fc-0b1a4b2f0a3b
Error Number:515,State:2,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.Consume(RelationalDataReader reader)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(IEnumerable`1 commandBatches, IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChanges(IList`1 entries)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(IList`1 entriesToSave)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(StateManager stateManager, Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.<>c.<SaveChanges>b__107_0(DbContext _, ValueTuple`2 t)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert the value NULL into column 'OrderImage', table 'finalCase.dbo.Order'; column does not allow nulls. INSERT fails.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.Read()
   at Microsoft.EntityFrameworkCore.Storage.RelationalDataReader.Read()
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSet(Int32 startCommandIndex, RelationalDataReader reader)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.Consume(RelationalDataReader reader)
ClientConnectionId:c4fc8bf0-2608-4746-97fc-0b1a4b2f0a3b
Error Number:515,State:2,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.Consume(RelationalDataReader reader)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(IEnumerable`1 commandBatches, IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChanges(IList`1 entries)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(IList`1 entriesToSave)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(StateManager stateManager, Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.<>c.<SaveChanges>b__107_0(DbContext _, ValueTuple`2 t)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)
2023-10-31 20:12:22.372 [ERR] CompleteTransaction
2023-10-31 20:12:22.373 [INF] -------------Request-Begin------------
2023-10-31 20:12:22.373 [INF] Http Request Information: 
Schema:https 
Host: localhost:44346 
Path: /finalCase/Orders 
QueryString:  
Request Body: {
  "userId": 14,
  "orderStatus": "Waiting",
  "orderPaymentMethod": "EFT",
  "orderAmount": 10.5
}
2023-10-31 20:12:22.373 [INF] 

2023-10-31 20:12:22.373 [INF] Http Response Information: 
Schema:https 
Host: localhost:44346 
Path: /finalCase/Orders 
QueryString:  
StatusCode: 200 
Response Body: {"success":true,"message":"Success","response":{"userId":14,"orderStatus":"Waiting","orderPaymentMethod":"EFT","orderAmount":10.5}}
2023-10-31 20:12:22.373 [INF] -------------Request-End------------
2023-10-31 20:12:54.114 [INF] LogErrorHandlerMiddleware.Invoke
2023-10-31 20:12:54.117 [INF] HeartBeat
2023-10-31 20:12:54.118 [INF] LogRequestLoggingMiddleware.Invoke
2023-10-31 20:12:54.127 [INF] -------------Request-Begin------------
2023-10-31 20:12:54.127 [INF] Http Request Information: 
Schema:https 
Host: localhost:44346 
Path: /finalCase/Orders 
QueryString:  
Request Body: {
  "userId": 14,
  "orderStatus": "Waiting",
  "orderPaymentMethod": "EFT",
  "orderAmount": 10,5
}
2023-10-31 20:12:54.127 [INF] 

2023-10-31 20:12:54.128 [INF] Http Response Information: 
Schema:https 
Host: localhost:44346 
Path: /finalCase/Orders 
QueryString:  
StatusCode: 400 
Response Body: {"type":"https://tools.ietf.org/html/rfc7231#section-6.5.1","title":"One or more validation errors occurred.","status":400,"traceId":"00-ee96f9fbfcdc08fc97bd56b2d495097c-a41aad18cbefd540-00","errors":{"$":["'5' is an invalid start of a property name. Expected a '\"'. Path: $ | LineNumber: 4 | BytePositionInLine: 20."],"request":["The request field is required."]}
2023-10-31 20:12:54.128 [INF] -------------Request-End------------
2023-10-31 20:13:02.247 [INF] LogErrorHandlerMiddleware.Invoke
2023-10-31 20:13:02.247 [INF] HeartBeat
2023-10-31 20:13:02.247 [INF] LogRequestLoggingMiddleware.Invoke
2023-10-31 20:13:03.847 [ERR] An exception occurred in the database while saving changes for context type 'Vk.Data.Context.VkDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert the value NULL into column 'OrderImage', table 'finalCase.dbo.Order'; column does not allow nulls. INSERT fails.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.Read()
   at Microsoft.EntityFrameworkCore.Storage.RelationalDataReader.Read()
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSet(Int32 startCommandIndex, RelationalDataReader reader)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.Consume(RelationalDataReader reader)
ClientConnectionId:c4fc8bf0-2608-4746-97fc-0b1a4b2f0a3b
Error Number:515,State:2,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.Consume(RelationalDataReader reader)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(IEnumerable`1 commandBatches, IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChanges(IList`1 entries)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(IList`1 entriesToSave)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(StateManager stateManager, Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.<>c.<SaveChanges>b__107_0(DbContext _, ValueTuple`2 t)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert the value NULL into column 'OrderImage', table 'finalCase.dbo.Order'; column does not allow nulls. INSERT fails.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.Read()
   at Microsoft.EntityFrameworkCore.Storage.RelationalDataReader.Read()
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSet(Int32 startCommandIndex, RelationalDataReader reader)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.Consume(RelationalDataReader reader)
ClientConnectionId:c4fc8bf0-2608-4746-97fc-0b1a4b2f0a3b
Error Number:515,State:2,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.Consume(RelationalDataReader reader)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(IEnumerable`1 commandBatches, IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChanges(IList`1 entries)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(IList`1 entriesToSave)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(StateManager stateManager, Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.<>c.<SaveChanges>b__107_0(DbContext _, ValueTuple`2 t)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)
2023-10-31 20:13:03.895 [ERR] CompleteTransaction
2023-10-31 20:13:03.896 [INF] -------------Request-Begin------------
2023-10-31 20:13:03.896 [INF] Http Request Information: 
Schema:https 
Host: localhost:44346 
Path: /finalCase/Orders 
QueryString:  
Request Body: {
  "userId": 14,
  "orderStatus": "Waiting",
  "orderPaymentMethod": "EFT",
  "orderAmount": 1075
}
2023-10-31 20:13:03.896 [INF] 

2023-10-31 20:13:03.896 [INF] Http Response Information: 
Schema:https 
Host: localhost:44346 
Path: /finalCase/Orders 
QueryString:  
StatusCode: 200 
Response Body: {"success":true,"message":"Success","response":{"userId":14,"orderStatus":"Waiting","orderPaymentMethod":"EFT","orderAmount":1075}}
2023-10-31 20:13:03.896 [INF] -------------Request-End------------
2023-10-31 20:13:26.868 [INF] App server is starting.
2023-10-31 20:14:03.109 [INF] LogErrorHandlerMiddleware.Invoke
2023-10-31 20:14:03.113 [INF] HeartBeat
2023-10-31 20:14:03.115 [INF] LogRequestLoggingMiddleware.Invoke
2023-10-31 20:14:58.590 [ERR] An exception occurred in the database while saving changes for context type 'Vk.Data.Context.VkDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert the value NULL into column 'OrderImage', table 'finalCase.dbo.Order'; column does not allow nulls. INSERT fails.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.Read()
   at Microsoft.EntityFrameworkCore.Storage.RelationalDataReader.Read()
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSet(Int32 startCommandIndex, RelationalDataReader reader)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.Consume(RelationalDataReader reader)
ClientConnectionId:30398fb5-37ed-4af6-b58f-bc5640de6786
Error Number:515,State:2,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.Consume(RelationalDataReader reader)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(IEnumerable`1 commandBatches, IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChanges(IList`1 entries)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(IList`1 entriesToSave)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(StateManager stateManager, Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.<>c.<SaveChanges>b__107_0(DbContext _, ValueTuple`2 t)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert the value NULL into column 'OrderImage', table 'finalCase.dbo.Order'; column does not allow nulls. INSERT fails.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.Read()
   at Microsoft.EntityFrameworkCore.Storage.RelationalDataReader.Read()
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSet(Int32 startCommandIndex, RelationalDataReader reader)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.Consume(RelationalDataReader reader)
ClientConnectionId:30398fb5-37ed-4af6-b58f-bc5640de6786
Error Number:515,State:2,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.Consume(RelationalDataReader reader)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(IEnumerable`1 commandBatches, IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChanges(IList`1 entries)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(IList`1 entriesToSave)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(StateManager stateManager, Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.<>c.<SaveChanges>b__107_0(DbContext _, ValueTuple`2 t)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)
2023-10-31 20:14:58.667 [ERR] CompleteTransaction
2023-10-31 20:14:58.688 [INF] -------------Request-Begin------------
2023-10-31 20:14:58.688 [INF] Http Request Information: 
Schema:https 
Host: localhost:44346 
Path: /finalCase/Orders 
QueryString:  
Request Body: {
  "userId": 15,
  "orderStatus": "Waiting",
  "orderPaymentMethod": "EFT",
  "orderAmount": 42
}
2023-10-31 20:14:58.688 [INF] 

2023-10-31 20:14:58.689 [INF] Http Response Information: 
Schema:https 
Host: localhost:44346 
Path: /finalCase/Orders 
QueryString:  
StatusCode: 200 
Response Body: {"success":true,"message":"Success","response":{"userId":15,"orderStatus":"Waiting","orderPaymentMethod":"EFT","orderAmount":42}}
2023-10-31 20:14:58.689 [INF] -------------Request-End------------
2023-10-31 20:19:23.152 [INF] App server is starting.
2023-10-31 20:20:06.165 [INF] LogErrorHandlerMiddleware.Invoke
2023-10-31 20:20:06.169 [INF] HeartBeat
2023-10-31 20:20:06.170 [INF] LogRequestLoggingMiddleware.Invoke
2023-10-31 20:20:08.157 [INF] -------------Request-Begin------------
2023-10-31 20:20:08.157 [INF] Http Request Information: 
Schema:https 
Host: localhost:44346 
Path: /finalCase/Users 
QueryString:  
Request Body: {
  "userNumber": 100001,
  "userName": "test",
  "userEmail": "test@test.com",
  "userPassword": "test",
  "userRole": "Admin",
  "userBalance": 500,
  "userProfitMargin": 10
}
2023-10-31 20:20:08.157 [INF] 

2023-10-31 20:20:08.157 [INF] Http Response Information: 
Schema:https 
Host: localhost:44346 
Path: /finalCase/Users 
QueryString:  
StatusCode: 200 
Response Body: {"success":true,"message":"Success","response":{"userNumber":100001,"userName":"test","userEmail":"test@test.com","userPassword":"098f6bcd4621d373cade4e832627b4f6","userPasswordRetryCount":0,"userRole":"Admin","userBalance":500,"userProfitMargin":10,"addresses":[],"orders":[]}}
2023-10-31 20:20:08.158 [INF] -------------Request-End------------
2023-10-31 20:20:18.263 [INF] LogErrorHandlerMiddleware.Invoke
2023-10-31 20:20:18.264 [INF] HeartBeat
2023-10-31 20:20:18.264 [INF] LogRequestLoggingMiddleware.Invoke
2023-10-31 20:20:18.382 [ERR] An exception occurred in the database while saving changes for context type 'Vk.Data.Context.VkDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert duplicate key row in object 'dbo.User' with unique index 'IX_User_UserEmail'. The duplicate key value is (test@test.com).
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.Read()
   at Microsoft.EntityFrameworkCore.Storage.RelationalDataReader.Read()
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSet(Int32 startCommandIndex, RelationalDataReader reader)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.Consume(RelationalDataReader reader)
ClientConnectionId:ce756819-f499-4a50-bfa6-18fb4d1399fa
Error Number:2601,State:1,Class:14
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.Consume(RelationalDataReader reader)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(IEnumerable`1 commandBatches, IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChanges(IList`1 entries)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(IList`1 entriesToSave)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(StateManager stateManager, Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.<>c.<SaveChanges>b__107_0(DbContext _, ValueTuple`2 t)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert duplicate key row in object 'dbo.User' with unique index 'IX_User_UserEmail'. The duplicate key value is (test@test.com).
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.Read()
   at Microsoft.EntityFrameworkCore.Storage.RelationalDataReader.Read()
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSet(Int32 startCommandIndex, RelationalDataReader reader)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.Consume(RelationalDataReader reader)
ClientConnectionId:ce756819-f499-4a50-bfa6-18fb4d1399fa
Error Number:2601,State:1,Class:14
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.Consume(RelationalDataReader reader)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(IEnumerable`1 commandBatches, IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChanges(IList`1 entries)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(IList`1 entriesToSave)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(StateManager stateManager, Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.<>c.<SaveChanges>b__107_0(DbContext _, ValueTuple`2 t)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)
2023-10-31 20:20:18.498 [ERR] CompleteTransaction
2023-10-31 20:20:18.500 [INF] -------------Request-Begin------------
2023-10-31 20:20:18.500 [INF] Http Request Information: 
Schema:https 
Host: localhost:44346 
Path: /finalCase/Users 
QueryString:  
Request Body: {
  "userNumber": 100002,
  "userName": "test",
  "userEmail": "test@test.com",
  "userPassword": "test",
  "userRole": "Admin",
  "userBalance": 500,
  "userProfitMargin": 10
}
2023-10-31 20:20:18.500 [INF] 

2023-10-31 20:20:18.500 [INF] Http Response Information: 
Schema:https 
Host: localhost:44346 
Path: /finalCase/Users 
QueryString:  
StatusCode: 200 
Response Body: {"success":true,"message":"Success","response":{"userNumber":100002,"userName":"test","userEmail":"test@test.com","userPassword":"098f6bcd4621d373cade4e832627b4f6","userPasswordRetryCount":0,"userRole":"Admin","userBalance":500,"userProfitMargin":10,"addresses":[],"orders":[]}}
2023-10-31 20:20:18.500 [INF] -------------Request-End------------
2023-10-31 20:20:23.943 [INF] LogErrorHandlerMiddleware.Invoke
2023-10-31 20:20:23.944 [INF] HeartBeat
2023-10-31 20:20:23.944 [INF] LogRequestLoggingMiddleware.Invoke
2023-10-31 20:20:24.201 [INF] -------------Request-Begin------------
2023-10-31 20:20:24.201 [INF] Http Request Information: 
Schema:https 
Host: localhost:44346 
Path: /finalCase/Users 
QueryString:  
Request Body: 
2023-10-31 20:20:24.201 [INF] 

2023-10-31 20:20:24.201 [INF] Http Response Information: 
Schema:https 
Host: localhost:44346 
Path: /finalCase/Users 
QueryString:  
StatusCode: 200 
Response Body: {"success":true,"message":"Success","response":[{"userNumber":100001,"userName":"test","userEmail":"test@test.com","userPassword":"098f6bcd4621d373cade4e832627b4f6","userPasswordRetryCount":0,"userRole":"Admin","userBalance":500,"userProfitMargin":10,"addresses":[],"orders":[]}]}
2023-10-31 20:20:24.201 [INF] -------------Request-End------------
2023-10-31 20:20:57.057 [INF] LogErrorHandlerMiddleware.Invoke
2023-10-31 20:20:57.061 [INF] HeartBeat
2023-10-31 20:20:57.063 [INF] LogRequestLoggingMiddleware.Invoke
2023-10-31 20:20:57.082 [ERR] An exception occurred in the database while saving changes for context type 'Vk.Data.Context.VkDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert duplicate key row in object 'dbo.User' with unique index 'IX_User_UserEmail'. The duplicate key value is (test@test.com).
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.Read()
   at Microsoft.EntityFrameworkCore.Storage.RelationalDataReader.Read()
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSet(Int32 startCommandIndex, RelationalDataReader reader)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.Consume(RelationalDataReader reader)
ClientConnectionId:ce756819-f499-4a50-bfa6-18fb4d1399fa
Error Number:2601,State:1,Class:14
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.Consume(RelationalDataReader reader)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(IEnumerable`1 commandBatches, IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChanges(IList`1 entries)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(IList`1 entriesToSave)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(StateManager stateManager, Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.<>c.<SaveChanges>b__107_0(DbContext _, ValueTuple`2 t)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert duplicate key row in object 'dbo.User' with unique index 'IX_User_UserEmail'. The duplicate key value is (test@test.com).
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.Read()
   at Microsoft.EntityFrameworkCore.Storage.RelationalDataReader.Read()
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSet(Int32 startCommandIndex, RelationalDataReader reader)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.Consume(RelationalDataReader reader)
ClientConnectionId:ce756819-f499-4a50-bfa6-18fb4d1399fa
Error Number:2601,State:1,Class:14
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.Consume(RelationalDataReader reader)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(IEnumerable`1 commandBatches, IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChanges(IList`1 entries)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(IList`1 entriesToSave)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(StateManager stateManager, Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.<>c.<SaveChanges>b__107_0(DbContext _, ValueTuple`2 t)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)
2023-10-31 20:20:57.130 [ERR] CompleteTransaction
2023-10-31 20:20:57.131 [INF] -------------Request-Begin------------
2023-10-31 20:20:57.132 [INF] Http Request Information: 
Schema:https 
Host: localhost:44346 
Path: /finalCase/Users 
QueryString:  
Request Body: {
  "userNumber": 100002,
  "userName": "test",
  "userEmail": "test@test.com",
  "userPassword": "test",
  "userRole": "Admin",
  "userBalance": 500,
  "userProfitMargin": 10
}
2023-10-31 20:20:57.132 [INF] 

2023-10-31 20:20:57.132 [INF] Http Response Information: 
Schema:https 
Host: localhost:44346 
Path: /finalCase/Users 
QueryString:  
StatusCode: 200 
Response Body: {"success":true,"message":"Success","response":{"userNumber":100002,"userName":"test","userEmail":"test@test.com","userPassword":"098f6bcd4621d373cade4e832627b4f6","userPasswordRetryCount":0,"userRole":"Admin","userBalance":500,"userProfitMargin":10,"addresses":[],"orders":[]}}
2023-10-31 20:20:57.132 [INF] -------------Request-End------------
2023-10-31 20:21:48.445 [INF] LogErrorHandlerMiddleware.Invoke
2023-10-31 20:21:48.472 [INF] HeartBeat
2023-10-31 20:21:48.472 [INF] LogRequestLoggingMiddleware.Invoke
2023-10-31 20:21:48.488 [INF] -------------Request-Begin------------
2023-10-31 20:21:48.488 [INF] Http Request Information: 
Schema:https 
Host: localhost:44346 
Path: /finalCase/Users 
QueryString:  
Request Body: {
  "userNumber": 100002,
  "userName": "test2",
  "userEmail": "test2@test2.com",
  "userPassword": "test2",
  "userRole": "Dealer",
  "userBalance": 600,
  "userProfitMargin": 12
}
2023-10-31 20:21:48.488 [INF] 

2023-10-31 20:21:48.488 [INF] Http Response Information: 
Schema:https 
Host: localhost:44346 
Path: /finalCase/Users 
QueryString:  
StatusCode: 200 
Response Body: {"success":true,"message":"Success","response":{"userNumber":100002,"userName":"test2","userEmail":"test2@test2.com","userPassword":"ad0234829205b9033196ba818f7a872b","userPasswordRetryCount":0,"userRole":"Dealer","userBalance":600,"userProfitMargin":12,"addresses":[],"orders":[]}}
2023-10-31 20:21:48.488 [INF] -------------Request-End------------
2023-10-31 20:22:06.502 [INF] LogErrorHandlerMiddleware.Invoke
2023-10-31 20:22:06.502 [INF] HeartBeat
2023-10-31 20:22:06.502 [INF] LogRequestLoggingMiddleware.Invoke
2023-10-31 20:22:06.508 [INF] -------------Request-Begin------------
2023-10-31 20:22:06.508 [INF] Http Request Information: 
Schema:https 
Host: localhost:44346 
Path: /finalCase/Users 
QueryString:  
Request Body: {
  "userNumber": 100003,
  "userName": "test3",
  "userEmail": "test3@test3.com",
  "userPassword": "test3",
  "userRole": "Dealer",
  "userBalance": 600,
  "userProfitMargin": 12
}
2023-10-31 20:22:06.508 [INF] 

2023-10-31 20:22:06.508 [INF] Http Response Information: 
Schema:https 
Host: localhost:44346 
Path: /finalCase/Users 
QueryString:  
StatusCode: 200 
Response Body: {"success":true,"message":"Success","response":{"userNumber":100003,"userName":"test3","userEmail":"test3@test3.com","userPassword":"8ad8757baa8564dc136c1e07507f4a98","userPasswordRetryCount":0,"userRole":"Dealer","userBalance":600,"userProfitMargin":12,"addresses":[],"orders":[]}}
2023-10-31 20:22:06.508 [INF] -------------Request-End------------
2023-10-31 20:22:15.842 [INF] LogErrorHandlerMiddleware.Invoke
2023-10-31 20:22:15.842 [INF] HeartBeat
2023-10-31 20:22:15.842 [INF] LogRequestLoggingMiddleware.Invoke
2023-10-31 20:22:15.861 [INF] -------------Request-Begin------------
2023-10-31 20:22:15.862 [INF] Http Request Information: 
Schema:https 
Host: localhost:44346 
Path: /finalCase/Users 
QueryString:  
Request Body: 
2023-10-31 20:22:15.862 [INF] 

2023-10-31 20:22:15.862 [INF] Http Response Information: 
Schema:https 
Host: localhost:44346 
Path: /finalCase/Users 
QueryString:  
StatusCode: 200 
Response Body: {"success":true,"message":"Success","response":[{"userNumber":100001,"userName":"test","userEmail":"test@test.com","userPassword":"098f6bcd4621d373cade4e832627b4f6","userPasswordRetryCount":0,"userRole":"Admin","userBalance":500,"userProfitMargin":10,"addresses":[],"orders":[]},{"userNumber":100002,"userName":"test2","userEmail":"test2@test2.com","userPassword":"ad0234829205b9033196ba818f7a872b","userPasswordRetryCount":0,"userRole":"Dealer","userBalance":600,"userProfitMargin":12,"addresses":[],"orders":[]},{"userNumber":100003,"userName":"test3","userEmail":"test3@test3.com","userPassword":"8ad8757baa8564dc136c1e07507f4a98","userPasswordRetryCount":0,"userRole":"Dealer","userBalance":600,"userProfitMargin":12,"addresses":[],"orders":[]}]}
2023-10-31 20:22:15.862 [INF] -------------Request-End------------
2023-10-31 20:22:24.519 [INF] LogErrorHandlerMiddleware.Invoke
2023-10-31 20:22:24.519 [INF] HeartBeat
2023-10-31 20:22:24.519 [INF] LogRequestLoggingMiddleware.Invoke
2023-10-31 20:22:24.710 [INF] -------------Request-Begin------------
2023-10-31 20:22:24.710 [INF] Http Request Information: 
Schema:https 
Host: localhost:44346 
Path: /finalCase/Users/3 
QueryString:  
Request Body: 
2023-10-31 20:22:24.710 [INF] 

2023-10-31 20:22:24.710 [INF] Http Response Information: 
Schema:https 
Host: localhost:44346 
Path: /finalCase/Users/3 
QueryString:  
StatusCode: 200 
Response Body: {"success":false,"message":"Record not found","response":null}
2023-10-31 20:22:24.711 [INF] -------------Request-End------------
2023-10-31 20:22:31.657 [INF] LogErrorHandlerMiddleware.Invoke
2023-10-31 20:22:31.657 [INF] HeartBeat
2023-10-31 20:22:31.657 [INF] LogRequestLoggingMiddleware.Invoke
2023-10-31 20:22:31.672 [INF] -------------Request-Begin------------
2023-10-31 20:22:31.672 [INF] Http Request Information: 
Schema:https 
Host: localhost:44346 
Path: /finalCase/Users/5 
QueryString:  
Request Body: 
2023-10-31 20:22:31.672 [INF] 

2023-10-31 20:22:31.672 [INF] Http Response Information: 
Schema:https 
Host: localhost:44346 
Path: /finalCase/Users/5 
QueryString:  
StatusCode: 200 
Response Body: {"success":true,"message":"Success","response":{"userNumber":100003,"userName":"test3","userEmail":"test3@test3.com","userPassword":"8ad8757baa8564dc136c1e07507f4a98","userPasswordRetryCount":0,"userRole":"Dealer","userBalance":600,"userProfitMargin":12,"addresses":[],"orders":[]}}
2023-10-31 20:22:31.672 [INF] -------------Request-End------------
2023-10-31 20:22:47.535 [INF] LogErrorHandlerMiddleware.Invoke
2023-10-31 20:22:47.535 [INF] HeartBeat
2023-10-31 20:22:47.535 [INF] LogRequestLoggingMiddleware.Invoke
2023-10-31 20:22:47.588 [INF] -------------Request-Begin------------
2023-10-31 20:22:47.588 [INF] Http Request Information: 
Schema:https 
Host: localhost:44346 
Path: /finalCase/Users/5 
QueryString:  
Request Body: {
  "userNumber": 0,
  "userName": "string",
  "userEmail": "string",
  "userPassword": "string",
  "userRole": "string",
  "userBalance": 742,
  "userProfitMargin": 0
}
2023-10-31 20:22:47.588 [INF] 

2023-10-31 20:22:47.588 [INF] Http Response Information: 
Schema:https 
Host: localhost:44346 
Path: /finalCase/Users/5 
QueryString:  
StatusCode: 200 
Response Body: {"success":true,"message":null}
2023-10-31 20:22:47.588 [INF] -------------Request-End------------
2023-10-31 20:23:02.435 [INF] LogErrorHandlerMiddleware.Invoke
2023-10-31 20:23:02.435 [INF] HeartBeat
2023-10-31 20:23:02.435 [INF] LogRequestLoggingMiddleware.Invoke
2023-10-31 20:23:02.451 [INF] -------------Request-Begin------------
2023-10-31 20:23:02.451 [INF] Http Request Information: 
Schema:https 
Host: localhost:44346 
Path: /finalCase/Users/5 
QueryString:  
Request Body: {
  "userNumber": 0,
  "userName": "murat",
  "userEmail": "string",
  "userPassword": "string",
  "userRole": "string",
  "userBalance": 0,
  "userProfitMargin": 0
}
2023-10-31 20:23:02.451 [INF] 

2023-10-31 20:23:02.451 [INF] Http Response Information: 
Schema:https 
Host: localhost:44346 
Path: /finalCase/Users/5 
QueryString:  
StatusCode: 200 
Response Body: {"success":true,"message":null}
2023-10-31 20:23:02.451 [INF] -------------Request-End------------
2023-10-31 20:23:11.735 [INF] LogErrorHandlerMiddleware.Invoke
2023-10-31 20:23:11.735 [INF] HeartBeat
2023-10-31 20:23:11.735 [INF] LogRequestLoggingMiddleware.Invoke
2023-10-31 20:23:11.789 [INF] -------------Request-Begin------------
2023-10-31 20:23:11.789 [INF] Http Request Information: 
Schema:https 
Host: localhost:44346 
Path: /finalCase/Users/5 
QueryString:  
Request Body: 
2023-10-31 20:23:11.789 [INF] 

2023-10-31 20:23:11.789 [INF] Http Response Information: 
Schema:https 
Host: localhost:44346 
Path: /finalCase/Users/5 
QueryString:  
StatusCode: 200 
Response Body: {"success":true,"message":null}
2023-10-31 20:23:11.789 [INF] -------------Request-End------------
2023-10-31 20:23:43.752 [INF] LogErrorHandlerMiddleware.Invoke
2023-10-31 20:23:43.752 [INF] HeartBeat
2023-10-31 20:23:43.752 [INF] LogRequestLoggingMiddleware.Invoke
2023-10-31 20:23:43.809 [INF] -------------Request-Begin------------
2023-10-31 20:23:43.809 [INF] Http Request Information: 
Schema:https 
Host: localhost:44346 
Path: /finalCase/Products 
QueryString:  
Request Body: {
  "productName": "test",
  "productImage": "test.com",
  "productQuantity": 50,
  "productPrice": 140,
  "productInformation": "test"
}
2023-10-31 20:23:43.809 [INF] 

2023-10-31 20:23:43.809 [INF] Http Response Information: 
Schema:https 
Host: localhost:44346 
Path: /finalCase/Products 
QueryString:  
StatusCode: 200 
Response Body: {"success":true,"message":"Success","response":{"productName":"test","productImage":"test.com","productQuantity":50,"productPrice":140,"productInformation":"test"}}
2023-10-31 20:23:43.809 [INF] -------------Request-End------------
2023-10-31 20:24:01.010 [INF] LogErrorHandlerMiddleware.Invoke
2023-10-31 20:24:01.010 [INF] HeartBeat
2023-10-31 20:24:01.010 [INF] LogRequestLoggingMiddleware.Invoke
2023-10-31 20:24:01.019 [INF] -------------Request-Begin------------
2023-10-31 20:24:01.019 [INF] Http Request Information: 
Schema:https 
Host: localhost:44346 
Path: /finalCase/Products 
QueryString:  
Request Body: {
  "productName": "test2",
  "productImage": "test2.com",
  "productQuantity": 50,
  "productPrice": 140,
  "productInformation": "test2"
}
2023-10-31 20:24:01.019 [INF] 

2023-10-31 20:24:01.019 [INF] Http Response Information: 
Schema:https 
Host: localhost:44346 
Path: /finalCase/Products 
QueryString:  
StatusCode: 200 
Response Body: {"success":true,"message":"Success","response":{"productName":"test2","productImage":"test2.com","productQuantity":50,"productPrice":140,"productInformation":"test2"}}
2023-10-31 20:24:01.019 [INF] -------------Request-End------------
2023-10-31 20:24:08.413 [INF] LogErrorHandlerMiddleware.Invoke
2023-10-31 20:24:08.413 [INF] HeartBeat
2023-10-31 20:24:08.413 [INF] LogRequestLoggingMiddleware.Invoke
2023-10-31 20:24:08.419 [INF] -------------Request-Begin------------
2023-10-31 20:24:08.419 [INF] Http Request Information: 
Schema:https 
Host: localhost:44346 
Path: /finalCase/Products 
QueryString:  
Request Body: {
  "productName": "test3",
  "productImage": "test3.com",
  "productQuantity": 50,
  "productPrice": 140,
  "productInformation": "test3"
}
2023-10-31 20:24:08.419 [INF] 

2023-10-31 20:24:08.419 [INF] Http Response Information: 
Schema:https 
Host: localhost:44346 
Path: /finalCase/Products 
QueryString:  
StatusCode: 200 
Response Body: {"success":true,"message":"Success","response":{"productName":"test3","productImage":"test3.com","productQuantity":50,"productPrice":140,"productInformation":"test3"}}
2023-10-31 20:24:08.419 [INF] -------------Request-End------------
2023-10-31 20:24:16.271 [INF] LogErrorHandlerMiddleware.Invoke
2023-10-31 20:24:16.271 [INF] HeartBeat
2023-10-31 20:24:16.272 [INF] LogRequestLoggingMiddleware.Invoke
2023-10-31 20:24:16.308 [INF] -------------Request-Begin------------
2023-10-31 20:24:16.308 [INF] Http Request Information: 
Schema:https 
Host: localhost:44346 
Path: /finalCase/Products 
QueryString:  
Request Body: 
2023-10-31 20:24:16.308 [INF] 

2023-10-31 20:24:16.308 [INF] Http Response Information: 
Schema:https 
Host: localhost:44346 
Path: /finalCase/Products 
QueryString:  
StatusCode: 200 
Response Body: {"success":true,"message":"Success","response":[{"productName":"test","productImage":"test.com","productQuantity":50,"productPrice":140,"productInformation":"test"},{"productName":"test2","productImage":"test2.com","productQuantity":50,"productPrice":140,"productInformation":"test2"},{"productName":"test3","productImage":"test3.com","productQuantity":50,"productPrice":140,"productInformation":"test3"}]}
2023-10-31 20:24:16.308 [INF] -------------Request-End------------
2023-10-31 20:24:25.045 [INF] LogErrorHandlerMiddleware.Invoke
2023-10-31 20:24:25.046 [INF] HeartBeat
2023-10-31 20:24:25.046 [INF] LogRequestLoggingMiddleware.Invoke
2023-10-31 20:24:25.129 [INF] -------------Request-Begin------------
2023-10-31 20:24:25.129 [INF] Http Request Information: 
Schema:https 
Host: localhost:44346 
Path: /finalCase/Products/1 
QueryString:  
Request Body: 
2023-10-31 20:24:25.129 [INF] 

2023-10-31 20:24:25.129 [INF] Http Response Information: 
Schema:https 
Host: localhost:44346 
Path: /finalCase/Products/1 
QueryString:  
StatusCode: 200 
Response Body: {"success":true,"message":"Success","response":{"productName":"test","productImage":"test.com","productQuantity":50,"productPrice":140,"productInformation":"test"}}
2023-10-31 20:24:25.129 [INF] -------------Request-End------------
2023-10-31 20:24:40.580 [INF] LogErrorHandlerMiddleware.Invoke
2023-10-31 20:24:40.580 [INF] HeartBeat
2023-10-31 20:24:40.581 [INF] LogRequestLoggingMiddleware.Invoke
2023-10-31 20:24:41.034 [FTL] Path=/finalCase/Products/3 || Method=PUT || Exception=Missing type map configuration or unsupported mapping.

Mapping types:
ProductUpdatedRequest -> Product
Vk.Schema.ProductUpdatedRequest -> Vk.Data.Domain.Product
2023-10-31 20:24:41.140 [ERR] An unhandled exception has occurred while executing the request.
System.ObjectDisposedException: Cannot access a disposed object.
Object name: 'The stream with Id 4fd3b3be-22ae-4476-96e1-ffa754cf4789 and Tag  is disposed.'.
   at Microsoft.IO.RecyclableMemoryStream.ThrowDisposedException() in /_/src/RecyclableMemoryStream.cs:line 1453
   at Microsoft.IO.RecyclableMemoryStream.Write(Byte[] buffer, Int32 offset, Int32 count) in /_/src/RecyclableMemoryStream.cs:line 997
   at System.IO.MemoryStream.WriteAsync(ReadOnlyMemory`1 buffer, CancellationToken cancellationToken)
--- End of stack trace from previous location ---
   at System.IO.Pipelines.StreamPipeWriter.FlushAsyncInternal(Boolean writeToStream, ReadOnlyMemory`1 data, CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at System.Threading.Tasks.ValueTask`1.GetTaskForValueTaskSource(IValueTaskSource`1 t)
--- End of stack trace from previous location ---
   at VkApi.Middleware.ErrorHandlerMiddleware.Invoke(HttpContext context) in C:\Vakifbank_Bootcamp\FinalCase\VkApi\Middleware\ErrorHandlerMiddleware.cs:line 33
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2023-10-31 20:24:41.175 [ERR] An exception was thrown attempting to display the error page.
System.ObjectDisposedException: Cannot access a disposed object.
Object name: 'The stream with Id 4fd3b3be-22ae-4476-96e1-ffa754cf4789 and Tag  is disposed.'.
   at Microsoft.IO.RecyclableMemoryStream.ThrowDisposedException() in /_/src/RecyclableMemoryStream.cs:line 1453
   at Microsoft.IO.RecyclableMemoryStream.Write(Byte[] buffer, Int32 offset, Int32 count) in /_/src/RecyclableMemoryStream.cs:line 997
   at System.IO.MemoryStream.WriteAsync(ReadOnlyMemory`1 buffer, CancellationToken cancellationToken)
--- End of stack trace from previous location ---
   at System.IO.Pipelines.StreamPipeWriter.FlushAsyncInternal(Boolean writeToStream, ReadOnlyMemory`1 data, CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at System.Threading.Tasks.ValueTask`1.GetTaskForValueTaskSource(IValueTaskSource`1 t)
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.DisplayExceptionContent(ErrorContext errorContext)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2023-10-31 20:24:41.182 [ERR] Connection ID "18086456118015426573", Request ID "8000000e-0003-fb00-b63f-84710c7967bb": An unhandled exception was thrown by the application.
System.ObjectDisposedException: Cannot access a disposed object.
Object name: 'The stream with Id 4fd3b3be-22ae-4476-96e1-ffa754cf4789 and Tag  is disposed.'.
   at Microsoft.IO.RecyclableMemoryStream.ThrowDisposedException() in /_/src/RecyclableMemoryStream.cs:line 1453
   at Microsoft.IO.RecyclableMemoryStream.Write(Byte[] buffer, Int32 offset, Int32 count) in /_/src/RecyclableMemoryStream.cs:line 997
   at System.IO.MemoryStream.WriteAsync(ReadOnlyMemory`1 buffer, CancellationToken cancellationToken)
--- End of stack trace from previous location ---
   at System.IO.Pipelines.StreamPipeWriter.FlushAsyncInternal(Boolean writeToStream, ReadOnlyMemory`1 data, CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at System.Threading.Tasks.ValueTask`1.GetTaskForValueTaskSource(IValueTaskSource`1 t)
--- End of stack trace from previous location ---
   at VkApi.Middleware.ErrorHandlerMiddleware.Invoke(HttpContext context) in C:\Vakifbank_Bootcamp\FinalCase\VkApi\Middleware\ErrorHandlerMiddleware.cs:line 33
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware.InvokeAsync(HttpContext context)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContextOfT`1.ProcessRequestAsync()
2023-10-31 20:24:52.713 [INF] LogErrorHandlerMiddleware.Invoke
2023-10-31 20:24:52.713 [INF] HeartBeat
2023-10-31 20:24:52.713 [INF] LogRequestLoggingMiddleware.Invoke
2023-10-31 20:24:53.093 [FTL] Path=/finalCase/Products/3 || Method=PUT || Exception=Missing type map configuration or unsupported mapping.

Mapping types:
ProductUpdatedRequest -> Product
Vk.Schema.ProductUpdatedRequest -> Vk.Data.Domain.Product
2023-10-31 20:24:53.188 [ERR] An unhandled exception has occurred while executing the request.
System.ObjectDisposedException: Cannot access a disposed object.
Object name: 'The stream with Id a6a3de82-d75a-462e-b0e4-a17ebb6cd9bd and Tag  is disposed.'.
   at Microsoft.IO.RecyclableMemoryStream.ThrowDisposedException() in /_/src/RecyclableMemoryStream.cs:line 1453
   at Microsoft.IO.RecyclableMemoryStream.Write(Byte[] buffer, Int32 offset, Int32 count) in /_/src/RecyclableMemoryStream.cs:line 997
   at System.IO.MemoryStream.WriteAsync(ReadOnlyMemory`1 buffer, CancellationToken cancellationToken)
--- End of stack trace from previous location ---
   at System.IO.Pipelines.StreamPipeWriter.FlushAsyncInternal(Boolean writeToStream, ReadOnlyMemory`1 data, CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at System.Threading.Tasks.ValueTask`1.GetTaskForValueTaskSource(IValueTaskSource`1 t)
--- End of stack trace from previous location ---
   at VkApi.Middleware.ErrorHandlerMiddleware.Invoke(HttpContext context) in C:\Vakifbank_Bootcamp\FinalCase\VkApi\Middleware\ErrorHandlerMiddleware.cs:line 33
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2023-10-31 20:24:53.192 [ERR] An exception was thrown attempting to display the error page.
System.ObjectDisposedException: Cannot access a disposed object.
Object name: 'The stream with Id a6a3de82-d75a-462e-b0e4-a17ebb6cd9bd and Tag  is disposed.'.
   at Microsoft.IO.RecyclableMemoryStream.ThrowDisposedException() in /_/src/RecyclableMemoryStream.cs:line 1453
   at Microsoft.IO.RecyclableMemoryStream.Write(Byte[] buffer, Int32 offset, Int32 count) in /_/src/RecyclableMemoryStream.cs:line 997
   at System.IO.MemoryStream.WriteAsync(ReadOnlyMemory`1 buffer, CancellationToken cancellationToken)
--- End of stack trace from previous location ---
   at System.IO.Pipelines.StreamPipeWriter.FlushAsyncInternal(Boolean writeToStream, ReadOnlyMemory`1 data, CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at System.Threading.Tasks.ValueTask`1.GetTaskForValueTaskSource(IValueTaskSource`1 t)
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.DisplayExceptionContent(ErrorContext errorContext)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2023-10-31 20:24:53.194 [ERR] Connection ID "18374686485577203759", Request ID "80000030-0001-ff00-b63f-84710c7967bb": An unhandled exception was thrown by the application.
System.ObjectDisposedException: Cannot access a disposed object.
Object name: 'The stream with Id a6a3de82-d75a-462e-b0e4-a17ebb6cd9bd and Tag  is disposed.'.
   at Microsoft.IO.RecyclableMemoryStream.ThrowDisposedException() in /_/src/RecyclableMemoryStream.cs:line 1453
   at Microsoft.IO.RecyclableMemoryStream.Write(Byte[] buffer, Int32 offset, Int32 count) in /_/src/RecyclableMemoryStream.cs:line 997
   at System.IO.MemoryStream.WriteAsync(ReadOnlyMemory`1 buffer, CancellationToken cancellationToken)
--- End of stack trace from previous location ---
   at System.IO.Pipelines.StreamPipeWriter.FlushAsyncInternal(Boolean writeToStream, ReadOnlyMemory`1 data, CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at System.Threading.Tasks.ValueTask`1.GetTaskForValueTaskSource(IValueTaskSource`1 t)
--- End of stack trace from previous location ---
   at VkApi.Middleware.ErrorHandlerMiddleware.Invoke(HttpContext context) in C:\Vakifbank_Bootcamp\FinalCase\VkApi\Middleware\ErrorHandlerMiddleware.cs:line 33
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware.InvokeAsync(HttpContext context)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContextOfT`1.ProcessRequestAsync()
2023-10-31 20:25:05.257 [INF] LogErrorHandlerMiddleware.Invoke
2023-10-31 20:25:05.258 [INF] HeartBeat
2023-10-31 20:25:05.258 [INF] LogRequestLoggingMiddleware.Invoke
2023-10-31 20:25:05.282 [INF] -------------Request-Begin------------
2023-10-31 20:25:05.282 [INF] Http Request Information: 
Schema:https 
Host: localhost:44346 
Path: /finalCase/Products/3 
QueryString:  
Request Body: 
2023-10-31 20:25:05.282 [INF] 

2023-10-31 20:25:05.282 [INF] Http Response Information: 
Schema:https 
Host: localhost:44346 
Path: /finalCase/Products/3 
QueryString:  
StatusCode: 200 
Response Body: {"success":true,"message":null}
2023-10-31 20:25:05.282 [INF] -------------Request-End------------
2023-10-31 20:26:25.688 [INF] LogErrorHandlerMiddleware.Invoke
2023-10-31 20:26:25.688 [INF] HeartBeat
2023-10-31 20:26:25.688 [INF] LogRequestLoggingMiddleware.Invoke
2023-10-31 20:26:25.718 [INF] -------------Request-Begin------------
2023-10-31 20:26:25.718 [INF] Http Request Information: 
Schema:https 
Host: localhost:44346 
Path: /finalCase/Orders 
QueryString:  
Request Body: {
  "userId": 1,
  "orderStatus": "test",
  "orderPaymentMethod": "test",
  "orderAmount": 150
}
2023-10-31 20:26:25.718 [INF] 

2023-10-31 20:26:25.718 [INF] Http Response Information: 
Schema:https 
Host: localhost:44346 
Path: /finalCase/Orders 
QueryString:  
StatusCode: 400 
Response Body: {"type":"https://tools.ietf.org/html/rfc7231#section-6.5.1","title":"One or more validation errors occurred.","status":400,"traceId":"00-a7da836280594cbeba9170ab58342702-f7046a3bf104848c-00","errors":{"OrderStatus":["OrderStatus must be 'Waiting', 'Processing', or 'Completed'."],"OrderPaymentMethod":["OrderStatus must be 'EFT', 'Money Transfer', 'Credit Card' or 'Open Account'."]}}
2023-10-31 20:26:25.718 [INF] -------------Request-End------------
2023-10-31 20:26:39.087 [INF] LogErrorHandlerMiddleware.Invoke
2023-10-31 20:26:39.087 [INF] HeartBeat
2023-10-31 20:26:39.087 [INF] LogRequestLoggingMiddleware.Invoke
2023-10-31 20:26:39.132 [INF] -------------Request-Begin------------
2023-10-31 20:26:39.132 [INF] Http Request Information: 
Schema:https 
Host: localhost:44346 
Path: /finalCase/Orders 
QueryString:  
Request Body: {
  "userId": 1,
  "orderStatus": "Waiting",
  "orderPaymentMethod": "Credit Card",
  "orderAmount": 150
}
2023-10-31 20:26:39.132 [INF] 

2023-10-31 20:26:39.132 [INF] Http Response Information: 
Schema:https 
Host: localhost:44346 
Path: /finalCase/Orders 
QueryString:  
StatusCode: 200 
Response Body: {"success":true,"message":"Success","response":{"userId":1,"orderStatus":"Waiting","orderPaymentMethod":"Credit Card","orderAmount":150}}
2023-10-31 20:26:39.132 [INF] -------------Request-End------------
2023-10-31 20:26:56.258 [INF] LogErrorHandlerMiddleware.Invoke
2023-10-31 20:26:56.258 [INF] HeartBeat
2023-10-31 20:26:56.258 [INF] LogRequestLoggingMiddleware.Invoke
2023-10-31 20:26:56.268 [ERR] An exception occurred in the database while saving changes for context type 'Vk.Data.Context.VkDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Order_User_UserId". The conflict occurred in database "finalCase", table "dbo.User", column 'Id'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.Read()
   at Microsoft.EntityFrameworkCore.Storage.RelationalDataReader.Read()
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSet(Int32 startCommandIndex, RelationalDataReader reader)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.Consume(RelationalDataReader reader)
ClientConnectionId:ce756819-f499-4a50-bfa6-18fb4d1399fa
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.Consume(RelationalDataReader reader)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(IEnumerable`1 commandBatches, IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChanges(IList`1 entries)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(IList`1 entriesToSave)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(StateManager stateManager, Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.<>c.<SaveChanges>b__107_0(DbContext _, ValueTuple`2 t)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Order_User_UserId". The conflict occurred in database "finalCase", table "dbo.User", column 'Id'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.Read()
   at Microsoft.EntityFrameworkCore.Storage.RelationalDataReader.Read()
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSet(Int32 startCommandIndex, RelationalDataReader reader)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.Consume(RelationalDataReader reader)
ClientConnectionId:ce756819-f499-4a50-bfa6-18fb4d1399fa
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.Consume(RelationalDataReader reader)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(IEnumerable`1 commandBatches, IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChanges(IList`1 entries)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(IList`1 entriesToSave)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(StateManager stateManager, Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.<>c.<SaveChanges>b__107_0(DbContext _, ValueTuple`2 t)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)
2023-10-31 20:26:56.333 [ERR] CompleteTransaction
2023-10-31 20:26:56.334 [INF] -------------Request-Begin------------
2023-10-31 20:26:56.334 [INF] Http Request Information: 
Schema:https 
Host: localhost:44346 
Path: /finalCase/Orders 
QueryString:  
Request Body: {
  "userId": 2,
  "orderStatus": "Waiting",
  "orderPaymentMethod": "Credit Card",
  "orderAmount": 15
}
2023-10-31 20:26:56.334 [INF] 

2023-10-31 20:26:56.334 [INF] Http Response Information: 
Schema:https 
Host: localhost:44346 
Path: /finalCase/Orders 
QueryString:  
StatusCode: 200 
Response Body: {"success":true,"message":"Success","response":{"userId":2,"orderStatus":"Waiting","orderPaymentMethod":"Credit Card","orderAmount":15}}
2023-10-31 20:26:56.334 [INF] -------------Request-End------------
2023-10-31 20:27:03.652 [INF] LogErrorHandlerMiddleware.Invoke
2023-10-31 20:27:03.652 [INF] HeartBeat
2023-10-31 20:27:03.652 [INF] LogRequestLoggingMiddleware.Invoke
2023-10-31 20:27:03.662 [ERR] An exception occurred in the database while saving changes for context type 'Vk.Data.Context.VkDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Order_User_UserId". The conflict occurred in database "finalCase", table "dbo.User", column 'Id'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.Read()
   at Microsoft.EntityFrameworkCore.Storage.RelationalDataReader.Read()
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSet(Int32 startCommandIndex, RelationalDataReader reader)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.Consume(RelationalDataReader reader)
ClientConnectionId:ce756819-f499-4a50-bfa6-18fb4d1399fa
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.Consume(RelationalDataReader reader)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(IEnumerable`1 commandBatches, IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChanges(IList`1 entries)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(IList`1 entriesToSave)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(StateManager stateManager, Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.<>c.<SaveChanges>b__107_0(DbContext _, ValueTuple`2 t)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Order_User_UserId". The conflict occurred in database "finalCase", table "dbo.User", column 'Id'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.Read()
   at Microsoft.EntityFrameworkCore.Storage.RelationalDataReader.Read()
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSet(Int32 startCommandIndex, RelationalDataReader reader)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.Consume(RelationalDataReader reader)
ClientConnectionId:ce756819-f499-4a50-bfa6-18fb4d1399fa
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.Consume(RelationalDataReader reader)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(IEnumerable`1 commandBatches, IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChanges(IList`1 entries)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(IList`1 entriesToSave)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(StateManager stateManager, Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.<>c.<SaveChanges>b__107_0(DbContext _, ValueTuple`2 t)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)
2023-10-31 20:27:03.716 [ERR] CompleteTransaction
2023-10-31 20:27:03.716 [INF] -------------Request-Begin------------
2023-10-31 20:27:03.717 [INF] Http Request Information: 
Schema:https 
Host: localhost:44346 
Path: /finalCase/Orders 
QueryString:  
Request Body: {
  "userId": 3,
  "orderStatus": "Waiting",
  "orderPaymentMethod": "Credit Card",
  "orderAmount": 1541
}
2023-10-31 20:27:03.717 [INF] 

2023-10-31 20:27:03.717 [INF] Http Response Information: 
Schema:https 
Host: localhost:44346 
Path: /finalCase/Orders 
QueryString:  
StatusCode: 200 
Response Body: {"success":true,"message":"Success","response":{"userId":3,"orderStatus":"Waiting","orderPaymentMethod":"Credit Card","orderAmount":1541}}
2023-10-31 20:27:03.717 [INF] -------------Request-End------------
2023-10-31 20:27:40.948 [INF] LogErrorHandlerMiddleware.Invoke
2023-10-31 20:27:40.948 [INF] HeartBeat
2023-10-31 20:27:40.948 [INF] LogRequestLoggingMiddleware.Invoke
2023-10-31 20:27:40.950 [INF] -------------Request-Begin------------
2023-10-31 20:27:40.950 [INF] Http Request Information: 
Schema:https 
Host: localhost:44346 
Path: /finalCase/Orders 
QueryString:  
Request Body: {
  "userId": 2,
  "orderStatus": "Waiting",
  "orderPaymentMethod": "Credit Card",
  "orderAmount": 0
}
2023-10-31 20:27:40.950 [INF] 

2023-10-31 20:27:40.950 [INF] Http Response Information: 
Schema:https 
Host: localhost:44346 
Path: /finalCase/Orders 
QueryString:  
StatusCode: 400 
Response Body: {"type":"https://tools.ietf.org/html/rfc7231#section-6.5.1","title":"One or more validation errors occurred.","status":400,"traceId":"00-fe626968fbf97cd5b99e846e28ab93df-c6a26650844236cd-00","errors":{"OrderAmount":["OrderAmount is required.","OrderAmount must be greater than 0."]}}
2023-10-31 20:27:40.950 [INF] -------------Request-End------------
2023-10-31 20:27:49.690 [INF] LogErrorHandlerMiddleware.Invoke
2023-10-31 20:27:49.690 [INF] HeartBeat
2023-10-31 20:27:49.690 [INF] LogRequestLoggingMiddleware.Invoke
2023-10-31 20:27:49.707 [ERR] An exception occurred in the database while saving changes for context type 'Vk.Data.Context.VkDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Order_User_UserId". The conflict occurred in database "finalCase", table "dbo.User", column 'Id'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.Read()
   at Microsoft.EntityFrameworkCore.Storage.RelationalDataReader.Read()
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSet(Int32 startCommandIndex, RelationalDataReader reader)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.Consume(RelationalDataReader reader)
ClientConnectionId:ce756819-f499-4a50-bfa6-18fb4d1399fa
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.Consume(RelationalDataReader reader)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(IEnumerable`1 commandBatches, IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChanges(IList`1 entries)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(IList`1 entriesToSave)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(StateManager stateManager, Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.<>c.<SaveChanges>b__107_0(DbContext _, ValueTuple`2 t)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Order_User_UserId". The conflict occurred in database "finalCase", table "dbo.User", column 'Id'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.Read()
   at Microsoft.EntityFrameworkCore.Storage.RelationalDataReader.Read()
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSet(Int32 startCommandIndex, RelationalDataReader reader)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.Consume(RelationalDataReader reader)
ClientConnectionId:ce756819-f499-4a50-bfa6-18fb4d1399fa
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.Consume(RelationalDataReader reader)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(IEnumerable`1 commandBatches, IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChanges(IList`1 entries)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(IList`1 entriesToSave)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(StateManager stateManager, Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.<>c.<SaveChanges>b__107_0(DbContext _, ValueTuple`2 t)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)
2023-10-31 20:27:49.773 [ERR] CompleteTransaction
2023-10-31 20:27:49.774 [INF] -------------Request-Begin------------
2023-10-31 20:27:49.774 [INF] Http Request Information: 
Schema:https 
Host: localhost:44346 
Path: /finalCase/Orders 
QueryString:  
Request Body: {
  "userId": 2,
  "orderStatus": "Waiting",
  "orderPaymentMethod": "Credit Card",
  "orderAmount": 450
}
2023-10-31 20:27:49.774 [INF] 

2023-10-31 20:27:49.774 [INF] Http Response Information: 
Schema:https 
Host: localhost:44346 
Path: /finalCase/Orders 
QueryString:  
StatusCode: 200 
Response Body: {"success":true,"message":"Success","response":{"userId":2,"orderStatus":"Waiting","orderPaymentMethod":"Credit Card","orderAmount":450}}
2023-10-31 20:27:49.774 [INF] -------------Request-End------------
2023-10-31 20:28:14.999 [INF] LogErrorHandlerMiddleware.Invoke
2023-10-31 20:28:14.999 [INF] HeartBeat
2023-10-31 20:28:14.999 [INF] LogRequestLoggingMiddleware.Invoke
2023-10-31 20:28:15.127 [INF] -------------Request-Begin------------
2023-10-31 20:28:15.127 [INF] Http Request Information: 
Schema:https 
Host: localhost:44346 
Path: /finalCase/Orders 
QueryString:  
Request Body: 
2023-10-31 20:28:15.127 [INF] 

2023-10-31 20:28:15.127 [INF] Http Response Information: 
Schema:https 
Host: localhost:44346 
Path: /finalCase/Orders 
QueryString:  
StatusCode: 200 
Response Body: {"success":true,"message":"Success","response":[{"userId":1,"orderStatus":"Waiting","orderPaymentMethod":"Credit Card","orderAmount":150}]}
2023-10-31 20:28:15.127 [INF] -------------Request-End------------
2023-10-31 20:28:26.440 [INF] LogErrorHandlerMiddleware.Invoke
2023-10-31 20:28:26.440 [INF] HeartBeat
2023-10-31 20:28:26.440 [INF] LogRequestLoggingMiddleware.Invoke
2023-10-31 20:28:26.464 [INF] -------------Request-Begin------------
2023-10-31 20:28:26.464 [INF] Http Request Information: 
Schema:https 
Host: localhost:44346 
Path: /finalCase/Orders/1 
QueryString:  
Request Body: 
2023-10-31 20:28:26.464 [INF] 

2023-10-31 20:28:26.464 [INF] Http Response Information: 
Schema:https 
Host: localhost:44346 
Path: /finalCase/Orders/1 
QueryString:  
StatusCode: 200 
Response Body: {"success":true,"message":"Success","response":{"userId":1,"orderStatus":"Waiting","orderPaymentMethod":"Credit Card","orderAmount":150}}
2023-10-31 20:28:26.464 [INF] -------------Request-End------------
2023-10-31 20:28:38.948 [INF] LogErrorHandlerMiddleware.Invoke
2023-10-31 20:28:38.948 [INF] HeartBeat
2023-10-31 20:28:38.949 [INF] LogRequestLoggingMiddleware.Invoke
2023-10-31 20:28:39.365 [FTL] Path=/finalCase/Orders/1 || Method=PUT || Exception=Missing type map configuration or unsupported mapping.

Mapping types:
OrderUpdatedRequest -> Order
Vk.Schema.OrderUpdatedRequest -> Vk.Data.Domain.Order
2023-10-31 20:28:39.483 [ERR] An unhandled exception has occurred while executing the request.
System.ObjectDisposedException: Cannot access a disposed object.
Object name: 'The stream with Id 3af046cc-e738-462c-a15a-e8eb0586ea23 and Tag  is disposed.'.
   at Microsoft.IO.RecyclableMemoryStream.ThrowDisposedException() in /_/src/RecyclableMemoryStream.cs:line 1453
   at Microsoft.IO.RecyclableMemoryStream.Write(Byte[] buffer, Int32 offset, Int32 count) in /_/src/RecyclableMemoryStream.cs:line 997
   at System.IO.MemoryStream.WriteAsync(ReadOnlyMemory`1 buffer, CancellationToken cancellationToken)
--- End of stack trace from previous location ---
   at System.IO.Pipelines.StreamPipeWriter.FlushAsyncInternal(Boolean writeToStream, ReadOnlyMemory`1 data, CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at System.Threading.Tasks.ValueTask`1.GetTaskForValueTaskSource(IValueTaskSource`1 t)
--- End of stack trace from previous location ---
   at VkApi.Middleware.ErrorHandlerMiddleware.Invoke(HttpContext context) in C:\Vakifbank_Bootcamp\FinalCase\VkApi\Middleware\ErrorHandlerMiddleware.cs:line 33
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2023-10-31 20:28:39.486 [ERR] An exception was thrown attempting to display the error page.
System.ObjectDisposedException: Cannot access a disposed object.
Object name: 'The stream with Id 3af046cc-e738-462c-a15a-e8eb0586ea23 and Tag  is disposed.'.
   at Microsoft.IO.RecyclableMemoryStream.ThrowDisposedException() in /_/src/RecyclableMemoryStream.cs:line 1453
   at Microsoft.IO.RecyclableMemoryStream.Write(Byte[] buffer, Int32 offset, Int32 count) in /_/src/RecyclableMemoryStream.cs:line 997
   at System.IO.MemoryStream.WriteAsync(ReadOnlyMemory`1 buffer, CancellationToken cancellationToken)
--- End of stack trace from previous location ---
   at System.IO.Pipelines.StreamPipeWriter.FlushAsyncInternal(Boolean writeToStream, ReadOnlyMemory`1 data, CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at System.Threading.Tasks.ValueTask`1.GetTaskForValueTaskSource(IValueTaskSource`1 t)
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.DisplayExceptionContent(ErrorContext errorContext)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2023-10-31 20:28:39.487 [ERR] Connection ID "18374686489872171075", Request ID "80000044-0002-ff00-b63f-84710c7967bb": An unhandled exception was thrown by the application.
System.ObjectDisposedException: Cannot access a disposed object.
Object name: 'The stream with Id 3af046cc-e738-462c-a15a-e8eb0586ea23 and Tag  is disposed.'.
   at Microsoft.IO.RecyclableMemoryStream.ThrowDisposedException() in /_/src/RecyclableMemoryStream.cs:line 1453
   at Microsoft.IO.RecyclableMemoryStream.Write(Byte[] buffer, Int32 offset, Int32 count) in /_/src/RecyclableMemoryStream.cs:line 997
   at System.IO.MemoryStream.WriteAsync(ReadOnlyMemory`1 buffer, CancellationToken cancellationToken)
--- End of stack trace from previous location ---
   at System.IO.Pipelines.StreamPipeWriter.FlushAsyncInternal(Boolean writeToStream, ReadOnlyMemory`1 data, CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at System.Threading.Tasks.ValueTask`1.GetTaskForValueTaskSource(IValueTaskSource`1 t)
--- End of stack trace from previous location ---
   at VkApi.Middleware.ErrorHandlerMiddleware.Invoke(HttpContext context) in C:\Vakifbank_Bootcamp\FinalCase\VkApi\Middleware\ErrorHandlerMiddleware.cs:line 33
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware.InvokeAsync(HttpContext context)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContextOfT`1.ProcessRequestAsync()
2023-10-31 20:29:13.425 [INF] LogErrorHandlerMiddleware.Invoke
2023-10-31 20:29:13.426 [INF] HeartBeat
2023-10-31 20:29:13.426 [INF] LogRequestLoggingMiddleware.Invoke
2023-10-31 20:29:13.463 [INF] -------------Request-Begin------------
2023-10-31 20:29:13.464 [INF] Http Request Information: 
Schema:https 
Host: localhost:44346 
Path: /finalCase/Orders/1 
QueryString:  
Request Body: 
2023-10-31 20:29:13.464 [INF] 

2023-10-31 20:29:13.464 [INF] Http Response Information: 
Schema:https 
Host: localhost:44346 
Path: /finalCase/Orders/1 
QueryString:  
StatusCode: 200 
Response Body: {"success":true,"message":null}
2023-10-31 20:29:13.464 [INF] -------------Request-End------------
2023-10-31 20:29:36.081 [INF] LogErrorHandlerMiddleware.Invoke
2023-10-31 20:29:36.082 [INF] HeartBeat
2023-10-31 20:29:36.082 [INF] LogRequestLoggingMiddleware.Invoke
2023-10-31 20:29:36.138 [INF] -------------Request-Begin------------
2023-10-31 20:29:36.138 [INF] Http Request Information: 
Schema:https 
Host: localhost:44346 
Path: /finalCase/Addresses 
QueryString:  
Request Body: {
  "userId": 1,
  "addressLine1": "test",
  "addressLine2": "test",
  "city": "test",
  "county": "test",
  "postalCode": 34
}
2023-10-31 20:29:36.139 [INF] 

2023-10-31 20:29:36.139 [INF] Http Response Information: 
Schema:https 
Host: localhost:44346 
Path: /finalCase/Addresses 
QueryString:  
StatusCode: 200 
Response Body: {"success":true,"message":"Success","response":{"userId":1,"addressLine1":"test","addressLine2":"test","city":"test","county":"test","postalCode":34}}
2023-10-31 20:29:36.139 [INF] -------------Request-End------------
2023-10-31 20:29:57.054 [INF] LogErrorHandlerMiddleware.Invoke
2023-10-31 20:29:57.054 [INF] HeartBeat
2023-10-31 20:29:57.054 [INF] LogRequestLoggingMiddleware.Invoke
2023-10-31 20:29:57.064 [ERR] An exception occurred in the database while saving changes for context type 'Vk.Data.Context.VkDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Address_User_UserId". The conflict occurred in database "finalCase", table "dbo.User", column 'Id'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.Read()
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSet(Int32 startCommandIndex, RelationalDataReader reader)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.Consume(RelationalDataReader reader)
ClientConnectionId:ce756819-f499-4a50-bfa6-18fb4d1399fa
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.Consume(RelationalDataReader reader)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(IEnumerable`1 commandBatches, IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChanges(IList`1 entries)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(IList`1 entriesToSave)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(StateManager stateManager, Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.<>c.<SaveChanges>b__107_0(DbContext _, ValueTuple`2 t)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Address_User_UserId". The conflict occurred in database "finalCase", table "dbo.User", column 'Id'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.Read()
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSet(Int32 startCommandIndex, RelationalDataReader reader)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.Consume(RelationalDataReader reader)
ClientConnectionId:ce756819-f499-4a50-bfa6-18fb4d1399fa
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.Consume(RelationalDataReader reader)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(IEnumerable`1 commandBatches, IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChanges(IList`1 entries)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(IList`1 entriesToSave)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(StateManager stateManager, Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.<>c.<SaveChanges>b__107_0(DbContext _, ValueTuple`2 t)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)
2023-10-31 20:29:57.129 [ERR] CompleteTransaction
2023-10-31 20:29:57.130 [INF] -------------Request-Begin------------
2023-10-31 20:29:57.130 [INF] Http Request Information: 
Schema:https 
Host: localhost:44346 
Path: /finalCase/Addresses 
QueryString:  
Request Body: {
  "userId": 2,
  "addressLine1": "test2",
  "addressLine2": "test2",
  "city": "test2",
  "county": "test2",
  "postalCode": 81
}
2023-10-31 20:29:57.130 [INF] 

2023-10-31 20:29:57.130 [INF] Http Response Information: 
Schema:https 
Host: localhost:44346 
Path: /finalCase/Addresses 
QueryString:  
StatusCode: 200 
Response Body: {"success":true,"message":"Success","response":{"userId":2,"addressLine1":"test2","addressLine2":"test2","city":"test2","county":"test2","postalCode":81}}
2023-10-31 20:29:57.130 [INF] -------------Request-End------------
2023-10-31 20:30:30.892 [INF] LogErrorHandlerMiddleware.Invoke
2023-10-31 20:30:30.893 [INF] HeartBeat
2023-10-31 20:30:30.893 [INF] LogRequestLoggingMiddleware.Invoke
2023-10-31 20:30:30.926 [INF] -------------Request-Begin------------
2023-10-31 20:30:30.926 [INF] Http Request Information: 
Schema:https 
Host: localhost:44346 
Path: /finalCase/Addresses/1 
QueryString:  
Request Body: 
2023-10-31 20:30:30.926 [INF] 

2023-10-31 20:30:30.926 [INF] Http Response Information: 
Schema:https 
Host: localhost:44346 
Path: /finalCase/Addresses/1 
QueryString:  
StatusCode: 200 
Response Body: {"success":true,"message":"Success","response":{"userId":1,"addressLine1":"test","addressLine2":"test","city":"test","county":"test","postalCode":34}}
2023-10-31 20:30:30.927 [INF] -------------Request-End------------
2023-10-31 20:30:38.079 [INF] LogErrorHandlerMiddleware.Invoke
2023-10-31 20:30:38.079 [INF] HeartBeat
2023-10-31 20:30:38.079 [INF] LogRequestLoggingMiddleware.Invoke
2023-10-31 20:30:38.493 [FTL] Path=/finalCase/Addresses/1 || Method=PUT || Exception=Missing type map configuration or unsupported mapping.

Mapping types:
AddressUpdatedRequest -> Address
Vk.Schema.AddressUpdatedRequest -> Vk.Data.Domain.Address
2023-10-31 20:30:38.608 [ERR] An unhandled exception has occurred while executing the request.
System.ObjectDisposedException: Cannot access a disposed object.
Object name: 'The stream with Id 88c5914b-d05d-48d4-bd57-3f9e949f1693 and Tag  is disposed.'.
   at Microsoft.IO.RecyclableMemoryStream.ThrowDisposedException() in /_/src/RecyclableMemoryStream.cs:line 1453
   at Microsoft.IO.RecyclableMemoryStream.Write(Byte[] buffer, Int32 offset, Int32 count) in /_/src/RecyclableMemoryStream.cs:line 997
   at System.IO.MemoryStream.WriteAsync(ReadOnlyMemory`1 buffer, CancellationToken cancellationToken)
--- End of stack trace from previous location ---
   at System.IO.Pipelines.StreamPipeWriter.FlushAsyncInternal(Boolean writeToStream, ReadOnlyMemory`1 data, CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at System.Threading.Tasks.ValueTask`1.GetTaskForValueTaskSource(IValueTaskSource`1 t)
--- End of stack trace from previous location ---
   at VkApi.Middleware.ErrorHandlerMiddleware.Invoke(HttpContext context) in C:\Vakifbank_Bootcamp\FinalCase\VkApi\Middleware\ErrorHandlerMiddleware.cs:line 33
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2023-10-31 20:30:38.611 [ERR] An exception was thrown attempting to display the error page.
System.ObjectDisposedException: Cannot access a disposed object.
Object name: 'The stream with Id 88c5914b-d05d-48d4-bd57-3f9e949f1693 and Tag  is disposed.'.
   at Microsoft.IO.RecyclableMemoryStream.ThrowDisposedException() in /_/src/RecyclableMemoryStream.cs:line 1453
   at Microsoft.IO.RecyclableMemoryStream.Write(Byte[] buffer, Int32 offset, Int32 count) in /_/src/RecyclableMemoryStream.cs:line 997
   at System.IO.MemoryStream.WriteAsync(ReadOnlyMemory`1 buffer, CancellationToken cancellationToken)
--- End of stack trace from previous location ---
   at System.IO.Pipelines.StreamPipeWriter.FlushAsyncInternal(Boolean writeToStream, ReadOnlyMemory`1 data, CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at System.Threading.Tasks.ValueTask`1.GetTaskForValueTaskSource(IValueTaskSource`1 t)
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.DisplayExceptionContent(ErrorContext errorContext)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2023-10-31 20:30:38.612 [ERR] Connection ID "18158513720643289108", Request ID "80000015-0005-fc00-b63f-84710c7967bb": An unhandled exception was thrown by the application.
System.ObjectDisposedException: Cannot access a disposed object.
Object name: 'The stream with Id 88c5914b-d05d-48d4-bd57-3f9e949f1693 and Tag  is disposed.'.
   at Microsoft.IO.RecyclableMemoryStream.ThrowDisposedException() in /_/src/RecyclableMemoryStream.cs:line 1453
   at Microsoft.IO.RecyclableMemoryStream.Write(Byte[] buffer, Int32 offset, Int32 count) in /_/src/RecyclableMemoryStream.cs:line 997
   at System.IO.MemoryStream.WriteAsync(ReadOnlyMemory`1 buffer, CancellationToken cancellationToken)
--- End of stack trace from previous location ---
   at System.IO.Pipelines.StreamPipeWriter.FlushAsyncInternal(Boolean writeToStream, ReadOnlyMemory`1 data, CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at System.Threading.Tasks.ValueTask`1.GetTaskForValueTaskSource(IValueTaskSource`1 t)
--- End of stack trace from previous location ---
   at VkApi.Middleware.ErrorHandlerMiddleware.Invoke(HttpContext context) in C:\Vakifbank_Bootcamp\FinalCase\VkApi\Middleware\ErrorHandlerMiddleware.cs:line 33
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware.InvokeAsync(HttpContext context)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContextOfT`1.ProcessRequestAsync()
2023-10-31 20:31:07.719 [INF] LogErrorHandlerMiddleware.Invoke
2023-10-31 20:31:07.721 [INF] HeartBeat
2023-10-31 20:31:07.721 [INF] LogRequestLoggingMiddleware.Invoke
2023-10-31 20:31:11.656 [FTL] Path=/finalCase/Addresses/ByUserId/1 || Method=GET || Exception=The method or operation is not implemented.
2023-10-31 20:31:11.701 [ERR] An unhandled exception has occurred while executing the request.
System.ObjectDisposedException: Cannot access a disposed object.
Object name: 'The stream with Id 55319445-791c-46c2-ab31-f68187e455a7 and Tag  is disposed.'.
   at Microsoft.IO.RecyclableMemoryStream.ThrowDisposedException() in /_/src/RecyclableMemoryStream.cs:line 1453
   at Microsoft.IO.RecyclableMemoryStream.Write(Byte[] buffer, Int32 offset, Int32 count) in /_/src/RecyclableMemoryStream.cs:line 997
   at System.IO.MemoryStream.WriteAsync(ReadOnlyMemory`1 buffer, CancellationToken cancellationToken)
--- End of stack trace from previous location ---
   at System.IO.Pipelines.StreamPipeWriter.FlushAsyncInternal(Boolean writeToStream, ReadOnlyMemory`1 data, CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at System.Threading.Tasks.ValueTask`1.GetTaskForValueTaskSource(IValueTaskSource`1 t)
--- End of stack trace from previous location ---
   at VkApi.Middleware.ErrorHandlerMiddleware.Invoke(HttpContext context) in C:\Vakifbank_Bootcamp\FinalCase\VkApi\Middleware\ErrorHandlerMiddleware.cs:line 33
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2023-10-31 20:31:11.704 [ERR] An exception was thrown attempting to display the error page.
System.ObjectDisposedException: Cannot access a disposed object.
Object name: 'The stream with Id 55319445-791c-46c2-ab31-f68187e455a7 and Tag  is disposed.'.
   at Microsoft.IO.RecyclableMemoryStream.ThrowDisposedException() in /_/src/RecyclableMemoryStream.cs:line 1453
   at Microsoft.IO.RecyclableMemoryStream.Write(Byte[] buffer, Int32 offset, Int32 count) in /_/src/RecyclableMemoryStream.cs:line 997
   at System.IO.MemoryStream.WriteAsync(ReadOnlyMemory`1 buffer, CancellationToken cancellationToken)
--- End of stack trace from previous location ---
   at System.IO.Pipelines.StreamPipeWriter.FlushAsyncInternal(Boolean writeToStream, ReadOnlyMemory`1 data, CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at System.Threading.Tasks.ValueTask`1.GetTaskForValueTaskSource(IValueTaskSource`1 t)
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.DisplayExceptionContent(ErrorContext errorContext)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2023-10-31 20:31:11.706 [ERR] Connection ID "18374686507052040276", Request ID "80000055-0006-ff00-b63f-84710c7967bb": An unhandled exception was thrown by the application.
System.ObjectDisposedException: Cannot access a disposed object.
Object name: 'The stream with Id 55319445-791c-46c2-ab31-f68187e455a7 and Tag  is disposed.'.
   at Microsoft.IO.RecyclableMemoryStream.ThrowDisposedException() in /_/src/RecyclableMemoryStream.cs:line 1453
   at Microsoft.IO.RecyclableMemoryStream.Write(Byte[] buffer, Int32 offset, Int32 count) in /_/src/RecyclableMemoryStream.cs:line 997
   at System.IO.MemoryStream.WriteAsync(ReadOnlyMemory`1 buffer, CancellationToken cancellationToken)
--- End of stack trace from previous location ---
   at System.IO.Pipelines.StreamPipeWriter.FlushAsyncInternal(Boolean writeToStream, ReadOnlyMemory`1 data, CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at System.Threading.Tasks.ValueTask`1.GetTaskForValueTaskSource(IValueTaskSource`1 t)
--- End of stack trace from previous location ---
   at VkApi.Middleware.ErrorHandlerMiddleware.Invoke(HttpContext context) in C:\Vakifbank_Bootcamp\FinalCase\VkApi\Middleware\ErrorHandlerMiddleware.cs:line 33
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware.InvokeAsync(HttpContext context)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContextOfT`1.ProcessRequestAsync()
2023-10-31 20:31:19.283 [INF] LogErrorHandlerMiddleware.Invoke
2023-10-31 20:31:19.283 [INF] HeartBeat
2023-10-31 20:31:19.283 [INF] LogRequestLoggingMiddleware.Invoke
2023-10-31 20:31:19.305 [INF] -------------Request-Begin------------
2023-10-31 20:31:19.305 [INF] Http Request Information: 
Schema:https 
Host: localhost:44346 
Path: /finalCase/Addresses/1 
QueryString:  
Request Body: 
2023-10-31 20:31:19.306 [INF] 

2023-10-31 20:31:19.306 [INF] Http Response Information: 
Schema:https 
Host: localhost:44346 
Path: /finalCase/Addresses/1 
QueryString:  
StatusCode: 200 
Response Body: {"success":true,"message":null}
2023-10-31 20:31:19.306 [INF] -------------Request-End------------
2023-10-31 20:31:24.422 [INF] LogErrorHandlerMiddleware.Invoke
2023-10-31 20:31:24.422 [INF] HeartBeat
2023-10-31 20:31:24.423 [INF] LogRequestLoggingMiddleware.Invoke
2023-10-31 20:31:24.590 [FTL] Path=/finalCase/Addresses/1 || Method=DELETE || Exception=Value cannot be null. (Parameter 'entity')
2023-10-31 20:31:24.613 [ERR] An unhandled exception has occurred while executing the request.
System.ObjectDisposedException: Cannot access a disposed object.
Object name: 'The stream with Id fb344ba8-5cae-4fc3-a710-85dae80af4d4 and Tag  is disposed.'.
   at Microsoft.IO.RecyclableMemoryStream.ThrowDisposedException() in /_/src/RecyclableMemoryStream.cs:line 1453
   at Microsoft.IO.RecyclableMemoryStream.Write(Byte[] buffer, Int32 offset, Int32 count) in /_/src/RecyclableMemoryStream.cs:line 997
   at System.IO.MemoryStream.WriteAsync(ReadOnlyMemory`1 buffer, CancellationToken cancellationToken)
--- End of stack trace from previous location ---
   at System.IO.Pipelines.StreamPipeWriter.FlushAsyncInternal(Boolean writeToStream, ReadOnlyMemory`1 data, CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at System.Threading.Tasks.ValueTask`1.GetTaskForValueTaskSource(IValueTaskSource`1 t)
--- End of stack trace from previous location ---
   at VkApi.Middleware.ErrorHandlerMiddleware.Invoke(HttpContext context) in C:\Vakifbank_Bootcamp\FinalCase\VkApi\Middleware\ErrorHandlerMiddleware.cs:line 33
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2023-10-31 20:31:24.616 [ERR] An exception was thrown attempting to display the error page.
System.ObjectDisposedException: Cannot access a disposed object.
Object name: 'The stream with Id fb344ba8-5cae-4fc3-a710-85dae80af4d4 and Tag  is disposed.'.
   at Microsoft.IO.RecyclableMemoryStream.ThrowDisposedException() in /_/src/RecyclableMemoryStream.cs:line 1453
   at Microsoft.IO.RecyclableMemoryStream.Write(Byte[] buffer, Int32 offset, Int32 count) in /_/src/RecyclableMemoryStream.cs:line 997
   at System.IO.MemoryStream.WriteAsync(ReadOnlyMemory`1 buffer, CancellationToken cancellationToken)
--- End of stack trace from previous location ---
   at System.IO.Pipelines.StreamPipeWriter.FlushAsyncInternal(Boolean writeToStream, ReadOnlyMemory`1 data, CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at System.Threading.Tasks.ValueTask`1.GetTaskForValueTaskSource(IValueTaskSource`1 t)
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.DisplayExceptionContent(ErrorContext errorContext)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2023-10-31 20:31:24.618 [ERR] Connection ID "18086456122310393928", Request ID "80000049-0004-fb00-b63f-84710c7967bb": An unhandled exception was thrown by the application.
System.ObjectDisposedException: Cannot access a disposed object.
Object name: 'The stream with Id fb344ba8-5cae-4fc3-a710-85dae80af4d4 and Tag  is disposed.'.
   at Microsoft.IO.RecyclableMemoryStream.ThrowDisposedException() in /_/src/RecyclableMemoryStream.cs:line 1453
   at Microsoft.IO.RecyclableMemoryStream.Write(Byte[] buffer, Int32 offset, Int32 count) in /_/src/RecyclableMemoryStream.cs:line 997
   at System.IO.MemoryStream.WriteAsync(ReadOnlyMemory`1 buffer, CancellationToken cancellationToken)
--- End of stack trace from previous location ---
   at System.IO.Pipelines.StreamPipeWriter.FlushAsyncInternal(Boolean writeToStream, ReadOnlyMemory`1 data, CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at System.Threading.Tasks.ValueTask`1.GetTaskForValueTaskSource(IValueTaskSource`1 t)
--- End of stack trace from previous location ---
   at VkApi.Middleware.ErrorHandlerMiddleware.Invoke(HttpContext context) in C:\Vakifbank_Bootcamp\FinalCase\VkApi\Middleware\ErrorHandlerMiddleware.cs:line 33
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware.InvokeAsync(HttpContext context)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContextOfT`1.ProcessRequestAsync()
2023-10-31 20:35:39.638 [INF] App server is starting.
2023-10-31 20:36:00.180 [INF] LogErrorHandlerMiddleware.Invoke
2023-10-31 20:36:00.185 [INF] HeartBeat
2023-10-31 20:36:00.187 [INF] LogRequestLoggingMiddleware.Invoke
2023-10-31 20:36:02.771 [FTL] Path=/finalCase/Products/2 || Method=PUT || Exception=Missing type map configuration or unsupported mapping.

Mapping types:
ProductUpdatedRequest -> Product
Vk.Schema.ProductUpdatedRequest -> Vk.Data.Domain.Product
2023-10-31 20:36:02.878 [ERR] An unhandled exception has occurred while executing the request.
System.ObjectDisposedException: Cannot access a disposed object.
Object name: 'The stream with Id 835a45bd-7c5c-46e0-bea6-b9e0f114da62 and Tag  is disposed.'.
   at Microsoft.IO.RecyclableMemoryStream.ThrowDisposedException() in /_/src/RecyclableMemoryStream.cs:line 1453
   at Microsoft.IO.RecyclableMemoryStream.Write(Byte[] buffer, Int32 offset, Int32 count) in /_/src/RecyclableMemoryStream.cs:line 997
   at System.IO.MemoryStream.WriteAsync(ReadOnlyMemory`1 buffer, CancellationToken cancellationToken)
--- End of stack trace from previous location ---
   at System.IO.Pipelines.StreamPipeWriter.FlushAsyncInternal(Boolean writeToStream, ReadOnlyMemory`1 data, CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at System.Threading.Tasks.ValueTask`1.GetTaskForValueTaskSource(IValueTaskSource`1 t)
--- End of stack trace from previous location ---
   at VkApi.Middleware.ErrorHandlerMiddleware.Invoke(HttpContext context) in C:\Vakifbank_Bootcamp\FinalCase\VkApi\Middleware\ErrorHandlerMiddleware.cs:line 33
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2023-10-31 20:36:02.930 [ERR] An exception was thrown attempting to display the error page.
System.ObjectDisposedException: Cannot access a disposed object.
Object name: 'The stream with Id 835a45bd-7c5c-46e0-bea6-b9e0f114da62 and Tag  is disposed.'.
   at Microsoft.IO.RecyclableMemoryStream.ThrowDisposedException() in /_/src/RecyclableMemoryStream.cs:line 1453
   at Microsoft.IO.RecyclableMemoryStream.Write(Byte[] buffer, Int32 offset, Int32 count) in /_/src/RecyclableMemoryStream.cs:line 997
   at System.IO.MemoryStream.WriteAsync(ReadOnlyMemory`1 buffer, CancellationToken cancellationToken)
--- End of stack trace from previous location ---
   at System.IO.Pipelines.StreamPipeWriter.FlushAsyncInternal(Boolean writeToStream, ReadOnlyMemory`1 data, CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at System.Threading.Tasks.ValueTask`1.GetTaskForValueTaskSource(IValueTaskSource`1 t)
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.DisplayExceptionContent(ErrorContext errorContext)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2023-10-31 20:36:02.936 [ERR] Connection ID "18374686507052040280", Request ID "80000059-0006-ff00-b63f-84710c7967bb": An unhandled exception was thrown by the application.
System.ObjectDisposedException: Cannot access a disposed object.
Object name: 'The stream with Id 835a45bd-7c5c-46e0-bea6-b9e0f114da62 and Tag  is disposed.'.
   at Microsoft.IO.RecyclableMemoryStream.ThrowDisposedException() in /_/src/RecyclableMemoryStream.cs:line 1453
   at Microsoft.IO.RecyclableMemoryStream.Write(Byte[] buffer, Int32 offset, Int32 count) in /_/src/RecyclableMemoryStream.cs:line 997
   at System.IO.MemoryStream.WriteAsync(ReadOnlyMemory`1 buffer, CancellationToken cancellationToken)
--- End of stack trace from previous location ---
   at System.IO.Pipelines.StreamPipeWriter.FlushAsyncInternal(Boolean writeToStream, ReadOnlyMemory`1 data, CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at System.Threading.Tasks.ValueTask`1.GetTaskForValueTaskSource(IValueTaskSource`1 t)
--- End of stack trace from previous location ---
   at VkApi.Middleware.ErrorHandlerMiddleware.Invoke(HttpContext context) in C:\Vakifbank_Bootcamp\FinalCase\VkApi\Middleware\ErrorHandlerMiddleware.cs:line 33
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware.InvokeAsync(HttpContext context)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContextOfT`1.ProcessRequestAsync()
2023-10-31 20:39:46.022 [INF] App server is starting.
2023-10-31 20:40:45.847 [INF] LogErrorHandlerMiddleware.Invoke
2023-10-31 20:40:45.852 [INF] HeartBeat
2023-10-31 20:40:45.855 [INF] LogRequestLoggingMiddleware.Invoke
2023-10-31 20:40:48.498 [FTL] Path=/finalCase/Products/2 || Method=PUT || Exception=Missing type map configuration or unsupported mapping.

Mapping types:
ProductUpdatedRequest -> Product
Vk.Schema.ProductUpdatedRequest -> Vk.Data.Domain.Product
2023-10-31 20:40:48.604 [ERR] An unhandled exception has occurred while executing the request.
System.ObjectDisposedException: Cannot access a disposed object.
Object name: 'The stream with Id 707a0503-e753-445a-a9d2-61109004190d and Tag  is disposed.'.
   at Microsoft.IO.RecyclableMemoryStream.ThrowDisposedException() in /_/src/RecyclableMemoryStream.cs:line 1453
   at Microsoft.IO.RecyclableMemoryStream.Write(Byte[] buffer, Int32 offset, Int32 count) in /_/src/RecyclableMemoryStream.cs:line 997
   at System.IO.MemoryStream.WriteAsync(ReadOnlyMemory`1 buffer, CancellationToken cancellationToken)
--- End of stack trace from previous location ---
   at System.IO.Pipelines.StreamPipeWriter.FlushAsyncInternal(Boolean writeToStream, ReadOnlyMemory`1 data, CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at System.Threading.Tasks.ValueTask`1.GetTaskForValueTaskSource(IValueTaskSource`1 t)
--- End of stack trace from previous location ---
   at VkApi.Middleware.ErrorHandlerMiddleware.Invoke(HttpContext context) in C:\Vakifbank_Bootcamp\FinalCase\VkApi\Middleware\ErrorHandlerMiddleware.cs:line 33
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2023-10-31 20:40:48.655 [ERR] An exception was thrown attempting to display the error page.
System.ObjectDisposedException: Cannot access a disposed object.
Object name: 'The stream with Id 707a0503-e753-445a-a9d2-61109004190d and Tag  is disposed.'.
   at Microsoft.IO.RecyclableMemoryStream.ThrowDisposedException() in /_/src/RecyclableMemoryStream.cs:line 1453
   at Microsoft.IO.RecyclableMemoryStream.Write(Byte[] buffer, Int32 offset, Int32 count) in /_/src/RecyclableMemoryStream.cs:line 997
   at System.IO.MemoryStream.WriteAsync(ReadOnlyMemory`1 buffer, CancellationToken cancellationToken)
--- End of stack trace from previous location ---
   at System.IO.Pipelines.StreamPipeWriter.FlushAsyncInternal(Boolean writeToStream, ReadOnlyMemory`1 data, CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at System.Threading.Tasks.ValueTask`1.GetTaskForValueTaskSource(IValueTaskSource`1 t)
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.DisplayExceptionContent(ErrorContext errorContext)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2023-10-31 20:40:48.661 [ERR] Connection ID "18374686498462105665", Request ID "80000042-0004-ff00-b63f-84710c7967bb": An unhandled exception was thrown by the application.
System.ObjectDisposedException: Cannot access a disposed object.
Object name: 'The stream with Id 707a0503-e753-445a-a9d2-61109004190d and Tag  is disposed.'.
   at Microsoft.IO.RecyclableMemoryStream.ThrowDisposedException() in /_/src/RecyclableMemoryStream.cs:line 1453
   at Microsoft.IO.RecyclableMemoryStream.Write(Byte[] buffer, Int32 offset, Int32 count) in /_/src/RecyclableMemoryStream.cs:line 997
   at System.IO.MemoryStream.WriteAsync(ReadOnlyMemory`1 buffer, CancellationToken cancellationToken)
--- End of stack trace from previous location ---
   at System.IO.Pipelines.StreamPipeWriter.FlushAsyncInternal(Boolean writeToStream, ReadOnlyMemory`1 data, CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at System.Threading.Tasks.ValueTask`1.GetTaskForValueTaskSource(IValueTaskSource`1 t)
--- End of stack trace from previous location ---
   at VkApi.Middleware.ErrorHandlerMiddleware.Invoke(HttpContext context) in C:\Vakifbank_Bootcamp\FinalCase\VkApi\Middleware\ErrorHandlerMiddleware.cs:line 33
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware.InvokeAsync(HttpContext context)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContextOfT`1.ProcessRequestAsync()
2023-10-31 20:41:16.118 [INF] LogErrorHandlerMiddleware.Invoke
2023-10-31 20:41:16.123 [INF] HeartBeat
2023-10-31 20:41:16.124 [INF] LogRequestLoggingMiddleware.Invoke
2023-10-31 20:41:24.429 [FTL] Path=/finalCase/Products/2 || Method=PUT || Exception=Missing type map configuration or unsupported mapping.

Mapping types:
ProductUpdatedRequest -> Product
Vk.Schema.ProductUpdatedRequest -> Vk.Data.Domain.Product
2023-10-31 20:41:24.526 [ERR] An unhandled exception has occurred while executing the request.
System.ObjectDisposedException: Cannot access a disposed object.
Object name: 'The stream with Id 7980c3fe-74df-4e26-a529-8db15324d48b and Tag  is disposed.'.
   at Microsoft.IO.RecyclableMemoryStream.ThrowDisposedException() in /_/src/RecyclableMemoryStream.cs:line 1453
   at Microsoft.IO.RecyclableMemoryStream.Write(Byte[] buffer, Int32 offset, Int32 count) in /_/src/RecyclableMemoryStream.cs:line 997
   at System.IO.MemoryStream.WriteAsync(ReadOnlyMemory`1 buffer, CancellationToken cancellationToken)
--- End of stack trace from previous location ---
   at System.IO.Pipelines.StreamPipeWriter.FlushAsyncInternal(Boolean writeToStream, ReadOnlyMemory`1 data, CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at System.Threading.Tasks.ValueTask`1.GetTaskForValueTaskSource(IValueTaskSource`1 t)
--- End of stack trace from previous location ---
   at VkApi.Middleware.ErrorHandlerMiddleware.Invoke(HttpContext context) in C:\Vakifbank_Bootcamp\FinalCase\VkApi\Middleware\ErrorHandlerMiddleware.cs:line 33
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2023-10-31 20:41:24.531 [ERR] An exception was thrown attempting to display the error page.
System.ObjectDisposedException: Cannot access a disposed object.
Object name: 'The stream with Id 7980c3fe-74df-4e26-a529-8db15324d48b and Tag  is disposed.'.
   at Microsoft.IO.RecyclableMemoryStream.ThrowDisposedException() in /_/src/RecyclableMemoryStream.cs:line 1453
   at Microsoft.IO.RecyclableMemoryStream.Write(Byte[] buffer, Int32 offset, Int32 count) in /_/src/RecyclableMemoryStream.cs:line 997
   at System.IO.MemoryStream.WriteAsync(ReadOnlyMemory`1 buffer, CancellationToken cancellationToken)
--- End of stack trace from previous location ---
   at System.IO.Pipelines.StreamPipeWriter.FlushAsyncInternal(Boolean writeToStream, ReadOnlyMemory`1 data, CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at System.Threading.Tasks.ValueTask`1.GetTaskForValueTaskSource(IValueTaskSource`1 t)
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.DisplayExceptionContent(ErrorContext errorContext)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2023-10-31 20:41:24.533 [ERR] Connection ID "18230571318976184353", Request ID "80000022-0006-fd00-b63f-84710c7967bb": An unhandled exception was thrown by the application.
System.ObjectDisposedException: Cannot access a disposed object.
Object name: 'The stream with Id 7980c3fe-74df-4e26-a529-8db15324d48b and Tag  is disposed.'.
   at Microsoft.IO.RecyclableMemoryStream.ThrowDisposedException() in /_/src/RecyclableMemoryStream.cs:line 1453
   at Microsoft.IO.RecyclableMemoryStream.Write(Byte[] buffer, Int32 offset, Int32 count) in /_/src/RecyclableMemoryStream.cs:line 997
   at System.IO.MemoryStream.WriteAsync(ReadOnlyMemory`1 buffer, CancellationToken cancellationToken)
--- End of stack trace from previous location ---
   at System.IO.Pipelines.StreamPipeWriter.FlushAsyncInternal(Boolean writeToStream, ReadOnlyMemory`1 data, CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at System.Threading.Tasks.ValueTask`1.GetTaskForValueTaskSource(IValueTaskSource`1 t)
--- End of stack trace from previous location ---
   at VkApi.Middleware.ErrorHandlerMiddleware.Invoke(HttpContext context) in C:\Vakifbank_Bootcamp\FinalCase\VkApi\Middleware\ErrorHandlerMiddleware.cs:line 33
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware.InvokeAsync(HttpContext context)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContextOfT`1.ProcessRequestAsync()
2023-10-31 20:42:37.203 [INF] App server is starting.
2023-10-31 20:43:10.837 [INF] LogErrorHandlerMiddleware.Invoke
2023-10-31 20:43:10.841 [INF] HeartBeat
2023-10-31 20:43:10.844 [INF] LogRequestLoggingMiddleware.Invoke
2023-10-31 20:43:20.148 [INF] -------------Request-Begin------------
2023-10-31 20:43:20.149 [INF] Http Request Information: 
Schema:https 
Host: localhost:44346 
Path: /finalCase/Products/2 
QueryString:  
Request Body: {
  "productName": "murat",
  "productImage": "string",
  "productQuantity": 0,
  "productPrice": 0,
  "productInformation": "string"
}
2023-10-31 20:43:20.149 [INF] 

2023-10-31 20:43:20.149 [INF] Http Response Information: 
Schema:https 
Host: localhost:44346 
Path: /finalCase/Products/2 
QueryString:  
StatusCode: 200 
Response Body: {"success":true,"message":null}
2023-10-31 20:43:20.149 [INF] -------------Request-End------------
2023-10-31 20:43:34.474 [INF] LogErrorHandlerMiddleware.Invoke
2023-10-31 20:43:34.474 [INF] HeartBeat
2023-10-31 20:43:34.474 [INF] LogRequestLoggingMiddleware.Invoke
2023-10-31 20:43:34.599 [INF] -------------Request-Begin------------
2023-10-31 20:43:34.599 [INF] Http Request Information: 
Schema:https 
Host: localhost:44346 
Path: /finalCase/Products/2 
QueryString:  
Request Body: {
  "productName": "string",
  "productImage": "string",
  "productQuantity": 0,
  "productPrice": 1453,
  "productInformation": "string"
}
2023-10-31 20:43:34.599 [INF] 

2023-10-31 20:43:34.599 [INF] Http Response Information: 
Schema:https 
Host: localhost:44346 
Path: /finalCase/Products/2 
QueryString:  
StatusCode: 200 
Response Body: {"success":true,"message":null}
2023-10-31 20:43:34.599 [INF] -------------Request-End------------
2023-10-31 20:44:13.159 [INF] LogErrorHandlerMiddleware.Invoke
2023-10-31 20:44:13.160 [INF] HeartBeat
2023-10-31 20:44:13.160 [INF] LogRequestLoggingMiddleware.Invoke
2023-10-31 20:44:13.338 [INF] -------------Request-Begin------------
2023-10-31 20:44:13.338 [INF] Http Request Information: 
Schema:https 
Host: localhost:44346 
Path: /finalCase/Orders 
QueryString:  
Request Body: {
  "userId": 1,
  "orderStatus": "Waiting",
  "orderPaymentMethod": "Credit Card",
  "orderAmount": 145
}
2023-10-31 20:44:13.339 [INF] 

2023-10-31 20:44:13.339 [INF] Http Response Information: 
Schema:https 
Host: localhost:44346 
Path: /finalCase/Orders 
QueryString:  
StatusCode: 200 
Response Body: {"success":true,"message":"Success","response":{"userId":1,"orderStatus":"Waiting","orderPaymentMethod":"Credit Card","orderAmount":145}}
2023-10-31 20:44:13.339 [INF] -------------Request-End------------
2023-10-31 20:44:21.938 [INF] LogErrorHandlerMiddleware.Invoke
2023-10-31 20:44:21.938 [INF] HeartBeat
2023-10-31 20:44:21.938 [INF] LogRequestLoggingMiddleware.Invoke
2023-10-31 20:44:21.951 [INF] -------------Request-Begin------------
2023-10-31 20:44:21.952 [INF] Http Request Information: 
Schema:https 
Host: localhost:44346 
Path: /finalCase/Orders 
QueryString:  
Request Body: {
  "userId": 1,
  "orderStatus": "Waiting",
  "orderPaymentMethod": "Credit Card",
  "orderAmount": 144
}
2023-10-31 20:44:21.952 [INF] 

2023-10-31 20:44:21.952 [INF] Http Response Information: 
Schema:https 
Host: localhost:44346 
Path: /finalCase/Orders 
QueryString:  
StatusCode: 200 
Response Body: {"success":true,"message":"Success","response":{"userId":1,"orderStatus":"Waiting","orderPaymentMethod":"Credit Card","orderAmount":144}}
2023-10-31 20:44:21.952 [INF] -------------Request-End------------
2023-10-31 20:44:39.016 [INF] LogErrorHandlerMiddleware.Invoke
2023-10-31 20:44:39.017 [INF] HeartBeat
2023-10-31 20:44:39.017 [INF] LogRequestLoggingMiddleware.Invoke
2023-10-31 20:44:39.028 [INF] -------------Request-Begin------------
2023-10-31 20:44:39.028 [INF] Http Request Information: 
Schema:https 
Host: localhost:44346 
Path: /finalCase/Orders 
QueryString:  
Request Body: {
  "userId": 1,
  "orderStatus": "Waiting",
  "orderPaymentMethod": "Credit Card",
  "orderAmount": 147
}
2023-10-31 20:44:39.028 [INF] 

2023-10-31 20:44:39.028 [INF] Http Response Information: 
Schema:https 
Host: localhost:44346 
Path: /finalCase/Orders 
QueryString:  
StatusCode: 200 
Response Body: {"success":true,"message":"Success","response":{"userId":1,"orderStatus":"Waiting","orderPaymentMethod":"Credit Card","orderAmount":147}}
2023-10-31 20:44:39.028 [INF] -------------Request-End------------
2023-10-31 20:44:52.303 [INF] LogErrorHandlerMiddleware.Invoke
2023-10-31 20:44:52.303 [INF] HeartBeat
2023-10-31 20:44:52.303 [INF] LogRequestLoggingMiddleware.Invoke
2023-10-31 20:44:52.336 [INF] -------------Request-Begin------------
2023-10-31 20:44:52.336 [INF] Http Request Information: 
Schema:https 
Host: localhost:44346 
Path: /finalCase/Orders 
QueryString:  
Request Body: {
  "userId": 1,
  "orderStatus": "Waiting",
  "orderPaymentMethod": "EFT",
  "orderAmount": 15
}
2023-10-31 20:44:52.336 [INF] 

2023-10-31 20:44:52.336 [INF] Http Response Information: 
Schema:https 
Host: localhost:44346 
Path: /finalCase/Orders 
QueryString:  
StatusCode: 200 
Response Body: {"success":true,"message":"Success","response":{"userId":1,"orderStatus":"Waiting","orderPaymentMethod":"EFT","orderAmount":15}}
2023-10-31 20:44:52.336 [INF] -------------Request-End------------
2023-10-31 20:45:09.902 [INF] LogErrorHandlerMiddleware.Invoke
2023-10-31 20:45:09.902 [INF] HeartBeat
2023-10-31 20:45:09.902 [INF] LogRequestLoggingMiddleware.Invoke
2023-10-31 20:45:09.945 [INF] -------------Request-Begin------------
2023-10-31 20:45:09.945 [INF] Http Request Information: 
Schema:https 
Host: localhost:44346 
Path: /finalCase/Orders/8 
QueryString:  
Request Body: {
  "userId": 0,
  "orderStatus": "DFSDFDS",
  "orderPaymentMethod": "string",
  "orderAmount": 0
}
2023-10-31 20:45:09.945 [INF] 

2023-10-31 20:45:09.945 [INF] Http Response Information: 
Schema:https 
Host: localhost:44346 
Path: /finalCase/Orders/8 
QueryString:  
StatusCode: 200 
Response Body: {"success":true,"message":null}
2023-10-31 20:45:09.945 [INF] -------------Request-End------------
2023-10-31 20:45:24.751 [INF] LogErrorHandlerMiddleware.Invoke
2023-10-31 20:45:24.751 [INF] HeartBeat
2023-10-31 20:45:24.751 [INF] LogRequestLoggingMiddleware.Invoke
2023-10-31 20:45:24.764 [INF] -------------Request-Begin------------
2023-10-31 20:45:24.764 [INF] Http Request Information: 
Schema:https 
Host: localhost:44346 
Path: /finalCase/Orders/8 
QueryString:  
Request Body: {
  "userId": 0,
  "orderStatus": "string",
  "orderPaymentMethod": "string",
  "orderAmount": 45752
}
2023-10-31 20:45:24.764 [INF] 

2023-10-31 20:45:24.764 [INF] Http Response Information: 
Schema:https 
Host: localhost:44346 
Path: /finalCase/Orders/8 
QueryString:  
StatusCode: 200 
Response Body: {"success":true,"message":null}
2023-10-31 20:45:24.764 [INF] -------------Request-End------------
2023-10-31 20:46:03.095 [INF] LogErrorHandlerMiddleware.Invoke
2023-10-31 20:46:03.098 [INF] HeartBeat
2023-10-31 20:46:03.115 [INF] LogRequestLoggingMiddleware.Invoke
2023-10-31 20:46:03.173 [INF] -------------Request-Begin------------
2023-10-31 20:46:03.173 [INF] Http Request Information: 
Schema:https 
Host: localhost:44346 
Path: /finalCase/Addresses 
QueryString:  
Request Body: {
  "userId": 1,
  "addressLine1": "test",
  "addressLine2": "test",
  "city": "test",
  "county": "test",
  "postalCode": 34
}
2023-10-31 20:46:03.173 [INF] 

2023-10-31 20:46:03.173 [INF] Http Response Information: 
Schema:https 
Host: localhost:44346 
Path: /finalCase/Addresses 
QueryString:  
StatusCode: 200 
Response Body: {"success":true,"message":"Success","response":{"userId":1,"addressLine1":"test","addressLine2":"test","city":"test","county":"test","postalCode":34}}
2023-10-31 20:46:03.173 [INF] -------------Request-End------------
2023-10-31 20:46:13.651 [INF] LogErrorHandlerMiddleware.Invoke
2023-10-31 20:46:13.651 [INF] HeartBeat
2023-10-31 20:46:13.651 [INF] LogRequestLoggingMiddleware.Invoke
2023-10-31 20:46:13.699 [ERR] An exception occurred in the database while saving changes for context type 'Vk.Data.Context.VkDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Address_User_UserId". The conflict occurred in database "finalCase", table "dbo.User", column 'Id'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.Read()
   at Microsoft.EntityFrameworkCore.Storage.RelationalDataReader.Read()
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSet(Int32 startCommandIndex, RelationalDataReader reader)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.Consume(RelationalDataReader reader)
ClientConnectionId:25ded82b-caf6-4ebd-a5ca-69217695f8cd
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.Consume(RelationalDataReader reader)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(IEnumerable`1 commandBatches, IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChanges(IList`1 entries)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(IList`1 entriesToSave)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(StateManager stateManager, Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.<>c.<SaveChanges>b__107_0(DbContext _, ValueTuple`2 t)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Address_User_UserId". The conflict occurred in database "finalCase", table "dbo.User", column 'Id'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.Read()
   at Microsoft.EntityFrameworkCore.Storage.RelationalDataReader.Read()
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSet(Int32 startCommandIndex, RelationalDataReader reader)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.Consume(RelationalDataReader reader)
ClientConnectionId:25ded82b-caf6-4ebd-a5ca-69217695f8cd
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.Consume(RelationalDataReader reader)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(IEnumerable`1 commandBatches, IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChanges(IList`1 entries)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(IList`1 entriesToSave)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(StateManager stateManager, Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.<>c.<SaveChanges>b__107_0(DbContext _, ValueTuple`2 t)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)
2023-10-31 20:46:13.809 [ERR] CompleteTransaction
2023-10-31 20:46:13.810 [INF] -------------Request-Begin------------
2023-10-31 20:46:13.810 [INF] Http Request Information: 
Schema:https 
Host: localhost:44346 
Path: /finalCase/Addresses 
QueryString:  
Request Body: {
  "userId": 2,
  "addressLine1": "test2",
  "addressLine2": "test2",
  "city": "test2",
  "county": "test2",
  "postalCode": 34
}
2023-10-31 20:46:13.810 [INF] 

2023-10-31 20:46:13.810 [INF] Http Response Information: 
Schema:https 
Host: localhost:44346 
Path: /finalCase/Addresses 
QueryString:  
StatusCode: 200 
Response Body: {"success":true,"message":"Success","response":{"userId":2,"addressLine1":"test2","addressLine2":"test2","city":"test2","county":"test2","postalCode":34}}
2023-10-31 20:46:13.810 [INF] -------------Request-End------------
2023-10-31 20:46:23.540 [INF] LogErrorHandlerMiddleware.Invoke
2023-10-31 20:46:23.540 [INF] HeartBeat
2023-10-31 20:46:23.540 [INF] LogRequestLoggingMiddleware.Invoke
2023-10-31 20:46:23.549 [ERR] An exception occurred in the database while saving changes for context type 'Vk.Data.Context.VkDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Address_User_UserId". The conflict occurred in database "finalCase", table "dbo.User", column 'Id'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.Read()
   at Microsoft.EntityFrameworkCore.Storage.RelationalDataReader.Read()
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSet(Int32 startCommandIndex, RelationalDataReader reader)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.Consume(RelationalDataReader reader)
ClientConnectionId:25ded82b-caf6-4ebd-a5ca-69217695f8cd
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.Consume(RelationalDataReader reader)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(IEnumerable`1 commandBatches, IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChanges(IList`1 entries)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(IList`1 entriesToSave)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(StateManager stateManager, Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.<>c.<SaveChanges>b__107_0(DbContext _, ValueTuple`2 t)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Address_User_UserId". The conflict occurred in database "finalCase", table "dbo.User", column 'Id'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.Read()
   at Microsoft.EntityFrameworkCore.Storage.RelationalDataReader.Read()
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSet(Int32 startCommandIndex, RelationalDataReader reader)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.Consume(RelationalDataReader reader)
ClientConnectionId:25ded82b-caf6-4ebd-a5ca-69217695f8cd
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.Consume(RelationalDataReader reader)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(IEnumerable`1 commandBatches, IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChanges(IList`1 entries)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(IList`1 entriesToSave)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(StateManager stateManager, Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.<>c.<SaveChanges>b__107_0(DbContext _, ValueTuple`2 t)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)
2023-10-31 20:46:23.597 [ERR] CompleteTransaction
2023-10-31 20:46:23.599 [INF] -------------Request-Begin------------
2023-10-31 20:46:23.599 [INF] Http Request Information: 
Schema:https 
Host: localhost:44346 
Path: /finalCase/Addresses 
QueryString:  
Request Body: {
  "userId": 2,
  "addressLine1": "test2",
  "addressLine2": "test2",
  "city": "test2",
  "county": "test2",
  "postalCode": 34
}
2023-10-31 20:46:23.599 [INF] 

2023-10-31 20:46:23.599 [INF] Http Response Information: 
Schema:https 
Host: localhost:44346 
Path: /finalCase/Addresses 
QueryString:  
StatusCode: 200 
Response Body: {"success":true,"message":"Success","response":{"userId":2,"addressLine1":"test2","addressLine2":"test2","city":"test2","county":"test2","postalCode":34}}
2023-10-31 20:46:23.599 [INF] -------------Request-End------------
2023-10-31 20:46:36.563 [INF] LogErrorHandlerMiddleware.Invoke
2023-10-31 20:46:36.563 [INF] HeartBeat
2023-10-31 20:46:36.563 [INF] LogRequestLoggingMiddleware.Invoke
2023-10-31 20:46:36.654 [INF] -------------Request-Begin------------
2023-10-31 20:46:36.654 [INF] Http Request Information: 
Schema:https 
Host: localhost:44346 
Path: /finalCase/Addresses/3 
QueryString:  
Request Body: {
  "userId": 0,
  "addressLine1": "string",
  "addressLine2": "string",
  "city": "string",
  "county": "string",
  "postalCode":44
}
2023-10-31 20:46:36.654 [INF] 

2023-10-31 20:46:36.654 [INF] Http Response Information: 
Schema:https 
Host: localhost:44346 
Path: /finalCase/Addresses/3 
QueryString:  
StatusCode: 200 
Response Body: {"success":true,"message":null}
2023-10-31 20:46:36.654 [INF] -------------Request-End------------
2023-10-31 20:46:45.709 [INF] LogErrorHandlerMiddleware.Invoke
2023-10-31 20:46:45.709 [INF] HeartBeat
2023-10-31 20:46:45.709 [INF] LogRequestLoggingMiddleware.Invoke
2023-10-31 20:46:45.721 [INF] -------------Request-Begin------------
2023-10-31 20:46:45.721 [INF] Http Request Information: 
Schema:https 
Host: localhost:44346 
Path: /finalCase/Addresses/3 
QueryString:  
Request Body: {
  "userId": 0,
  "addressLine1": "sdfsdf",
  "addressLine2": "string",
  "city": "string",
  "county": "string",
  "postalCode": 0
}
2023-10-31 20:46:45.721 [INF] 

2023-10-31 20:46:45.721 [INF] Http Response Information: 
Schema:https 
Host: localhost:44346 
Path: /finalCase/Addresses/3 
QueryString:  
StatusCode: 200 
Response Body: {"success":true,"message":null}
2023-10-31 20:46:45.721 [INF] -------------Request-End------------
2023-10-31 20:49:41.850 [INF] App server is starting.
2023-10-31 20:51:55.755 [INF] LogErrorHandlerMiddleware.Invoke
2023-10-31 20:51:55.759 [INF] HeartBeat
2023-10-31 20:51:55.762 [INF] LogRequestLoggingMiddleware.Invoke
2023-10-31 20:51:57.675 [INF] -------------Request-Begin------------
2023-10-31 20:51:57.675 [INF] Http Request Information: 
Schema:https 
Host: localhost:44346 
Path: /finalCase/Addresses 
QueryString:  
Request Body: {
  "userId": 1,
  "addressLine1": "test2",
  "addressLine2": "test2",
  "city": "test2",
  "county": "test2",
  "postalCode": 45
}
2023-10-31 20:51:57.675 [INF] 

2023-10-31 20:51:57.675 [INF] Http Response Information: 
Schema:https 
Host: localhost:44346 
Path: /finalCase/Addresses 
QueryString:  
StatusCode: 200 
Response Body: {"success":true,"message":"Success","response":{"userId":1,"addressLine1":"test2","addressLine2":"test2","city":"test2","county":"test2","postalCode":45}}
2023-10-31 20:51:57.675 [INF] -------------Request-End------------
2023-10-31 20:53:10.327 [INF] LogErrorHandlerMiddleware.Invoke
2023-10-31 20:53:10.327 [INF] HeartBeat
2023-10-31 20:53:10.328 [INF] LogRequestLoggingMiddleware.Invoke
2023-10-31 20:53:10.471 [INF] -------------Request-Begin------------
2023-10-31 20:53:10.472 [INF] Http Request Information: 
Schema:https 
Host: localhost:44346 
Path: /finalCase/Addresses 
QueryString:  
Request Body: {
  "userId": 1,
  "addressLine1": "test3",
  "addressLine2": "test3",
  "city": "test3",
  "county": "test3",
  "postalCode": 45
}
2023-10-31 20:53:10.472 [INF] 

2023-10-31 20:53:10.472 [INF] Http Response Information: 
Schema:https 
Host: localhost:44346 
Path: /finalCase/Addresses 
QueryString:  
StatusCode: 200 
Response Body: {"success":true,"message":"Success","response":{"userId":1,"addressLine1":"test3","addressLine2":"test3","city":"test3","county":"test3","postalCode":45}}
2023-10-31 20:53:10.472 [INF] -------------Request-End------------
2023-10-31 20:53:22.424 [INF] LogErrorHandlerMiddleware.Invoke
2023-10-31 20:53:22.425 [INF] HeartBeat
2023-10-31 20:53:22.425 [INF] LogRequestLoggingMiddleware.Invoke
2023-10-31 20:53:22.462 [INF] -------------Request-Begin------------
2023-10-31 20:53:22.462 [INF] Http Request Information: 
Schema:https 
Host: localhost:44346 
Path: /finalCase/Addresses 
QueryString:  
Request Body: {
  "userId": 1,
  "addressLine1": "test3",
  "addressLine2": "test3",
  "city": "test3",
  "county": "test3",
  "postalCode": 45
}
2023-10-31 20:53:22.462 [INF] 

2023-10-31 20:53:22.462 [INF] Http Response Information: 
Schema:https 
Host: localhost:44346 
Path: /finalCase/Addresses 
QueryString:  
StatusCode: 200 
Response Body: {"success":true,"message":"Success","response":{"userId":1,"addressLine1":"test3","addressLine2":"test3","city":"test3","county":"test3","postalCode":45}}
2023-10-31 20:53:22.462 [INF] -------------Request-End------------
2023-10-31 20:53:39.377 [INF] LogErrorHandlerMiddleware.Invoke
2023-10-31 20:53:39.377 [INF] HeartBeat
2023-10-31 20:53:39.377 [INF] LogRequestLoggingMiddleware.Invoke
2023-10-31 20:53:39.436 [INF] -------------Request-Begin------------
2023-10-31 20:53:39.436 [INF] Http Request Information: 
Schema:https 
Host: localhost:44346 
Path: /finalCase/Orders 
QueryString:  
Request Body: {
  "userId": 0,
  "orderStatus": "string",
  "orderPaymentMethod": "string",
  "orderAmount": 0
}
2023-10-31 20:53:39.436 [INF] 

2023-10-31 20:53:39.436 [INF] Http Response Information: 
Schema:https 
Host: localhost:44346 
Path: /finalCase/Orders 
QueryString:  
StatusCode: 400 
Response Body: {"type":"https://tools.ietf.org/html/rfc7231#section-6.5.1","title":"One or more validation errors occurred.","status":400,"traceId":"00-4aa8ac5ea2630a98ca04870beee49894-d02667d315d6cd28-00","errors":{"OrderAmount":["OrderAmount is required.","OrderAmount must be greater than 0."],"OrderStatus":["OrderStatus must be 'Waiting', 'Processing', or 'Completed'."],"OrderPaymentMethod":["OrderStatus must be 'EFT', 'Money Transfer', 'Credit Card' or 'Open Account'."]}}
2023-10-31 20:53:39.436 [INF] -------------Request-End------------
2023-10-31 20:54:10.781 [INF] LogErrorHandlerMiddleware.Invoke
2023-10-31 20:54:10.784 [INF] HeartBeat
2023-10-31 20:54:10.785 [INF] LogRequestLoggingMiddleware.Invoke
2023-10-31 20:54:10.839 [INF] -------------Request-Begin------------
2023-10-31 20:54:10.839 [INF] Http Request Information: 
Schema:https 
Host: localhost:44346 
Path: /finalCase/Orders 
QueryString:  
Request Body: {
  "userId": 1,
  "orderStatus": "Waiting",
  "orderPaymentMethod": "EFT",
  "orderAmount": 14
}
2023-10-31 20:54:10.839 [INF] 

2023-10-31 20:54:10.839 [INF] Http Response Information: 
Schema:https 
Host: localhost:44346 
Path: /finalCase/Orders 
QueryString:  
StatusCode: 200 
Response Body: {"success":true,"message":"Success","response":{"userId":1,"orderStatus":"Waiting","orderPaymentMethod":"EFT","orderAmount":14}}
2023-10-31 20:54:10.839 [INF] -------------Request-End------------
2023-10-31 20:54:18.078 [INF] LogErrorHandlerMiddleware.Invoke
2023-10-31 20:54:18.079 [INF] HeartBeat
2023-10-31 20:54:18.079 [INF] LogRequestLoggingMiddleware.Invoke
2023-10-31 20:54:18.088 [INF] -------------Request-Begin------------
2023-10-31 20:54:18.088 [INF] Http Request Information: 
Schema:https 
Host: localhost:44346 
Path: /finalCase/Orders 
QueryString:  
Request Body: {
  "userId": 1,
  "orderStatus": "Waiting",
  "orderPaymentMethod": "EFT",
  "orderAmount": 14
}
2023-10-31 20:54:18.088 [INF] 

2023-10-31 20:54:18.088 [INF] Http Response Information: 
Schema:https 
Host: localhost:44346 
Path: /finalCase/Orders 
QueryString:  
StatusCode: 200 
Response Body: {"success":true,"message":"Success","response":{"userId":1,"orderStatus":"Waiting","orderPaymentMethod":"EFT","orderAmount":14}}
2023-10-31 20:54:18.088 [INF] -------------Request-End------------
2023-10-31 20:54:18.571 [INF] LogErrorHandlerMiddleware.Invoke
2023-10-31 20:54:18.572 [INF] HeartBeat
2023-10-31 20:54:18.572 [INF] LogRequestLoggingMiddleware.Invoke
2023-10-31 20:54:18.578 [INF] -------------Request-Begin------------
2023-10-31 20:54:18.578 [INF] Http Request Information: 
Schema:https 
Host: localhost:44346 
Path: /finalCase/Orders 
QueryString:  
Request Body: {
  "userId": 1,
  "orderStatus": "Waiting",
  "orderPaymentMethod": "EFT",
  "orderAmount": 14
}
2023-10-31 20:54:18.578 [INF] 

2023-10-31 20:54:18.578 [INF] Http Response Information: 
Schema:https 
Host: localhost:44346 
Path: /finalCase/Orders 
QueryString:  
StatusCode: 200 
Response Body: {"success":true,"message":"Success","response":{"userId":1,"orderStatus":"Waiting","orderPaymentMethod":"EFT","orderAmount":14}}
2023-10-31 20:54:18.578 [INF] -------------Request-End------------
2023-10-31 20:54:18.931 [INF] LogErrorHandlerMiddleware.Invoke
2023-10-31 20:54:18.931 [INF] HeartBeat
2023-10-31 20:54:18.931 [INF] LogRequestLoggingMiddleware.Invoke
2023-10-31 20:54:18.936 [INF] -------------Request-Begin------------
2023-10-31 20:54:18.936 [INF] Http Request Information: 
Schema:https 
Host: localhost:44346 
Path: /finalCase/Orders 
QueryString:  
Request Body: {
  "userId": 1,
  "orderStatus": "Waiting",
  "orderPaymentMethod": "EFT",
  "orderAmount": 14
}
2023-10-31 20:54:18.936 [INF] 

2023-10-31 20:54:18.936 [INF] Http Response Information: 
Schema:https 
Host: localhost:44346 
Path: /finalCase/Orders 
QueryString:  
StatusCode: 200 
Response Body: {"success":true,"message":"Success","response":{"userId":1,"orderStatus":"Waiting","orderPaymentMethod":"EFT","orderAmount":14}}
2023-10-31 20:54:18.936 [INF] -------------Request-End------------
2023-10-31 20:54:19.120 [INF] LogErrorHandlerMiddleware.Invoke
2023-10-31 20:54:19.120 [INF] HeartBeat
2023-10-31 20:54:19.120 [INF] LogRequestLoggingMiddleware.Invoke
2023-10-31 20:54:19.133 [INF] -------------Request-Begin------------
2023-10-31 20:54:19.133 [INF] Http Request Information: 
Schema:https 
Host: localhost:44346 
Path: /finalCase/Orders 
QueryString:  
Request Body: {
  "userId": 1,
  "orderStatus": "Waiting",
  "orderPaymentMethod": "EFT",
  "orderAmount": 14
}
2023-10-31 20:54:19.133 [INF] 

2023-10-31 20:54:19.133 [INF] Http Response Information: 
Schema:https 
Host: localhost:44346 
Path: /finalCase/Orders 
QueryString:  
StatusCode: 200 
Response Body: {"success":true,"message":"Success","response":{"userId":1,"orderStatus":"Waiting","orderPaymentMethod":"EFT","orderAmount":14}}
2023-10-31 20:54:19.133 [INF] -------------Request-End------------
2023-10-31 20:54:19.288 [INF] LogErrorHandlerMiddleware.Invoke
2023-10-31 20:54:19.289 [INF] HeartBeat
2023-10-31 20:54:19.289 [INF] LogRequestLoggingMiddleware.Invoke
2023-10-31 20:54:19.294 [INF] -------------Request-Begin------------
2023-10-31 20:54:19.294 [INF] Http Request Information: 
Schema:https 
Host: localhost:44346 
Path: /finalCase/Orders 
QueryString:  
Request Body: {
  "userId": 1,
  "orderStatus": "Waiting",
  "orderPaymentMethod": "EFT",
  "orderAmount": 14
}
2023-10-31 20:54:19.294 [INF] 

2023-10-31 20:54:19.294 [INF] Http Response Information: 
Schema:https 
Host: localhost:44346 
Path: /finalCase/Orders 
QueryString:  
StatusCode: 200 
Response Body: {"success":true,"message":"Success","response":{"userId":1,"orderStatus":"Waiting","orderPaymentMethod":"EFT","orderAmount":14}}
2023-10-31 20:54:19.294 [INF] -------------Request-End------------
2023-10-31 20:54:19.426 [INF] LogErrorHandlerMiddleware.Invoke
2023-10-31 20:54:19.426 [INF] HeartBeat
2023-10-31 20:54:19.426 [INF] LogRequestLoggingMiddleware.Invoke
2023-10-31 20:54:19.430 [INF] -------------Request-Begin------------
2023-10-31 20:54:19.430 [INF] Http Request Information: 
Schema:https 
Host: localhost:44346 
Path: /finalCase/Orders 
QueryString:  
Request Body: {
  "userId": 1,
  "orderStatus": "Waiting",
  "orderPaymentMethod": "EFT",
  "orderAmount": 14
}
2023-10-31 20:54:19.430 [INF] 

2023-10-31 20:54:19.431 [INF] Http Response Information: 
Schema:https 
Host: localhost:44346 
Path: /finalCase/Orders 
QueryString:  
StatusCode: 200 
Response Body: {"success":true,"message":"Success","response":{"userId":1,"orderStatus":"Waiting","orderPaymentMethod":"EFT","orderAmount":14}}
2023-10-31 20:54:19.431 [INF] -------------Request-End------------
2023-10-31 21:01:48.774 [INF] App server is starting.
2023-10-31 21:02:20.387 [INF] LogErrorHandlerMiddleware.Invoke
2023-10-31 21:02:20.392 [INF] HeartBeat
2023-10-31 21:02:20.394 [INF] LogRequestLoggingMiddleware.Invoke
2023-10-31 21:02:20.684 [INF] -------------Request-Begin------------
2023-10-31 21:02:20.685 [INF] Http Request Information: 
Schema:https 
Host: localhost:44346 
Path: /finalCase/Users 
QueryString:  
Request Body: {
  "userNumber": 104174,
  "userName": "dfgd",
  "userEmail": "dfgdg",
  "userPassword": "dfgdg",
  "userRole": "Admin",
  "userBalance": 4412,
  "userProfitMargin": 0
}
2023-10-31 21:02:20.685 [INF] 

2023-10-31 21:02:20.685 [INF] Http Response Information: 
Schema:https 
Host: localhost:44346 
Path: /finalCase/Users 
QueryString:  
StatusCode: 400 
Response Body: {"type":"https://tools.ietf.org/html/rfc7231#section-6.5.1","title":"One or more validation errors occurred.","status":400,"traceId":"00-b80dde2ea10aff149edeffd16f578b02-b49faa3c7505f1e3-00","errors":{"UserProfitMargin":["UserProfitMargin is required."]}}
2023-10-31 21:02:20.685 [INF] -------------Request-End------------
2023-10-31 21:02:27.544 [INF] LogErrorHandlerMiddleware.Invoke
2023-10-31 21:02:27.545 [INF] HeartBeat
2023-10-31 21:02:27.545 [INF] LogRequestLoggingMiddleware.Invoke
2023-10-31 21:02:29.301 [INF] -------------Request-Begin------------
2023-10-31 21:02:29.301 [INF] Http Request Information: 
Schema:https 
Host: localhost:44346 
Path: /finalCase/Users 
QueryString:  
Request Body: {
  "userNumber": 104174,
  "userName": "dfgd",
  "userEmail": "dfgdg",
  "userPassword": "dfgdg",
  "userRole": "Admin",
  "userBalance": 4412,
  "userProfitMargin": 41
}
2023-10-31 21:02:29.301 [INF] 

2023-10-31 21:02:29.301 [INF] Http Response Information: 
Schema:https 
Host: localhost:44346 
Path: /finalCase/Users 
QueryString:  
StatusCode: 200 
Response Body: {"success":true,"message":"Success","response":{"userNumber":104174,"userName":"dfgd","userEmail":"dfgdg","userPassword":"29c37d6f631beeadb5fd63b63e7c4acd","userPasswordRetryCount":0,"userRole":"Admin","userBalance":4412,"userProfitMargin":0,"addresses":[],"orders":[]}}
2023-10-31 21:02:29.301 [INF] -------------Request-End------------
2023-10-31 21:03:29.788 [INF] App server is starting.
2023-10-31 21:04:43.053 [INF] LogErrorHandlerMiddleware.Invoke
2023-10-31 21:04:43.057 [INF] HeartBeat
2023-10-31 21:04:43.059 [INF] LogRequestLoggingMiddleware.Invoke
2023-10-31 21:04:45.114 [INF] -------------Request-Begin------------
2023-10-31 21:04:45.115 [INF] Http Request Information: 
Schema:https 
Host: localhost:44346 
Path: /finalCase/Users 
QueryString:  
Request Body: {
  "userNumber": 478586,
  "userName": "gdfg",
  "userEmail": "strdfgdfging",
  "userPassword": "dgdg",
  "userRole": "Admin",
  "userBalance": 745,
  "userProfitMargin": 0
}
2023-10-31 21:04:45.115 [INF] 

2023-10-31 21:04:45.116 [INF] Http Response Information: 
Schema:https 
Host: localhost:44346 
Path: /finalCase/Users 
QueryString:  
StatusCode: 200 
Response Body: {"success":true,"message":"Success","response":{"userNumber":478586,"userName":"gdfg","userEmail":"strdfgdfging","userPassword":"45427346a3dea51c7a10fe6e3584f267","userPasswordRetryCount":0,"userRole":"Admin","userBalance":745,"userProfitMargin":0,"addresses":[],"orders":[]}}
2023-10-31 21:04:45.116 [INF] -------------Request-End------------
2023-10-31 21:05:11.678 [INF] LogErrorHandlerMiddleware.Invoke
2023-10-31 21:05:11.679 [INF] HeartBeat
2023-10-31 21:05:11.679 [INF] LogRequestLoggingMiddleware.Invoke
2023-10-31 21:05:11.808 [ERR] An exception occurred in the database while saving changes for context type 'Vk.Data.Context.VkDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert duplicate key row in object 'dbo.User' with unique index 'IX_User_UserEmail'. The duplicate key value is (strdfgdfging).
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.Read()
   at Microsoft.EntityFrameworkCore.Storage.RelationalDataReader.Read()
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSet(Int32 startCommandIndex, RelationalDataReader reader)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.Consume(RelationalDataReader reader)
ClientConnectionId:1f570829-b4a7-443a-b6ac-ff55624a743c
Error Number:2601,State:1,Class:14
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.Consume(RelationalDataReader reader)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(IEnumerable`1 commandBatches, IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChanges(IList`1 entries)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(IList`1 entriesToSave)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(StateManager stateManager, Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.<>c.<SaveChanges>b__107_0(DbContext _, ValueTuple`2 t)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert duplicate key row in object 'dbo.User' with unique index 'IX_User_UserEmail'. The duplicate key value is (strdfgdfging).
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.Read()
   at Microsoft.EntityFrameworkCore.Storage.RelationalDataReader.Read()
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSet(Int32 startCommandIndex, RelationalDataReader reader)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.Consume(RelationalDataReader reader)
ClientConnectionId:1f570829-b4a7-443a-b6ac-ff55624a743c
Error Number:2601,State:1,Class:14
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.Consume(RelationalDataReader reader)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(IEnumerable`1 commandBatches, IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChanges(IList`1 entries)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(IList`1 entriesToSave)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(StateManager stateManager, Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.<>c.<SaveChanges>b__107_0(DbContext _, ValueTuple`2 t)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)
2023-10-31 21:05:11.922 [ERR] CompleteTransaction
2023-10-31 21:05:11.925 [INF] -------------Request-Begin------------
2023-10-31 21:05:11.925 [INF] Http Request Information: 
Schema:https 
Host: localhost:44346 
Path: /finalCase/Users 
QueryString:  
Request Body: {
  "userNumber": 478586,
  "userName": "gdfg",
  "userEmail": "strdfgdfging",
  "userPassword": "dgdg",
  "userRole": "Dealer",
  "userBalance": 745,
  "userProfitMargin": 74
}
2023-10-31 21:05:11.925 [INF] 

2023-10-31 21:05:11.925 [INF] Http Response Information: 
Schema:https 
Host: localhost:44346 
Path: /finalCase/Users 
QueryString:  
StatusCode: 200 
Response Body: {"success":true,"message":"Success","response":{"userNumber":478586,"userName":"gdfg","userEmail":"strdfgdfging","userPassword":"45427346a3dea51c7a10fe6e3584f267","userPasswordRetryCount":0,"userRole":"Dealer","userBalance":745,"userProfitMargin":74,"addresses":[],"orders":[]}}
2023-10-31 21:05:11.925 [INF] -------------Request-End------------
2023-10-31 21:05:23.632 [INF] LogErrorHandlerMiddleware.Invoke
2023-10-31 21:05:23.632 [INF] HeartBeat
2023-10-31 21:05:23.632 [INF] LogRequestLoggingMiddleware.Invoke
2023-10-31 21:05:23.667 [ERR] An exception occurred in the database while saving changes for context type 'Vk.Data.Context.VkDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert duplicate key row in object 'dbo.User' with unique index 'IX_User_UserEmail'. The duplicate key value is (strdfgdfging).
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.Read()
   at Microsoft.EntityFrameworkCore.Storage.RelationalDataReader.Read()
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSet(Int32 startCommandIndex, RelationalDataReader reader)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.Consume(RelationalDataReader reader)
ClientConnectionId:1f570829-b4a7-443a-b6ac-ff55624a743c
Error Number:2601,State:1,Class:14
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.Consume(RelationalDataReader reader)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(IEnumerable`1 commandBatches, IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChanges(IList`1 entries)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(IList`1 entriesToSave)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(StateManager stateManager, Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.<>c.<SaveChanges>b__107_0(DbContext _, ValueTuple`2 t)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert duplicate key row in object 'dbo.User' with unique index 'IX_User_UserEmail'. The duplicate key value is (strdfgdfging).
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.Read()
   at Microsoft.EntityFrameworkCore.Storage.RelationalDataReader.Read()
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSet(Int32 startCommandIndex, RelationalDataReader reader)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.Consume(RelationalDataReader reader)
ClientConnectionId:1f570829-b4a7-443a-b6ac-ff55624a743c
Error Number:2601,State:1,Class:14
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.Consume(RelationalDataReader reader)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(IEnumerable`1 commandBatches, IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChanges(IList`1 entries)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(IList`1 entriesToSave)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(StateManager stateManager, Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.<>c.<SaveChanges>b__107_0(DbContext _, ValueTuple`2 t)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)
2023-10-31 21:05:23.717 [ERR] CompleteTransaction
2023-10-31 21:05:23.718 [INF] -------------Request-Begin------------
2023-10-31 21:05:23.718 [INF] Http Request Information: 
Schema:https 
Host: localhost:44346 
Path: /finalCase/Users 
QueryString:  
Request Body: {
  "userNumber": 478587,
  "userName": "gdfg",
  "userEmail": "strdfgdfging",
  "userPassword": "dgdg",
  "userRole": "Dealer",
  "userBalance": 745,
  "userProfitMargin": 74
}
2023-10-31 21:05:23.718 [INF] 

2023-10-31 21:05:23.718 [INF] Http Response Information: 
Schema:https 
Host: localhost:44346 
Path: /finalCase/Users 
QueryString:  
StatusCode: 200 
Response Body: {"success":true,"message":"Success","response":{"userNumber":478587,"userName":"gdfg","userEmail":"strdfgdfging","userPassword":"45427346a3dea51c7a10fe6e3584f267","userPasswordRetryCount":0,"userRole":"Dealer","userBalance":745,"userProfitMargin":74,"addresses":[],"orders":[]}}
2023-10-31 21:05:23.718 [INF] -------------Request-End------------
2023-10-31 21:05:36.821 [INF] LogErrorHandlerMiddleware.Invoke
2023-10-31 21:05:36.821 [INF] HeartBeat
2023-10-31 21:05:36.821 [INF] LogRequestLoggingMiddleware.Invoke
2023-10-31 21:05:36.839 [ERR] An exception occurred in the database while saving changes for context type 'Vk.Data.Context.VkDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert duplicate key row in object 'dbo.User' with unique index 'IX_User_UserEmail'. The duplicate key value is (strdfgdfging).
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.Read()
   at Microsoft.EntityFrameworkCore.Storage.RelationalDataReader.Read()
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSet(Int32 startCommandIndex, RelationalDataReader reader)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.Consume(RelationalDataReader reader)
ClientConnectionId:1f570829-b4a7-443a-b6ac-ff55624a743c
Error Number:2601,State:1,Class:14
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.Consume(RelationalDataReader reader)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(IEnumerable`1 commandBatches, IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChanges(IList`1 entries)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(IList`1 entriesToSave)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(StateManager stateManager, Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.<>c.<SaveChanges>b__107_0(DbContext _, ValueTuple`2 t)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert duplicate key row in object 'dbo.User' with unique index 'IX_User_UserEmail'. The duplicate key value is (strdfgdfging).
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.Read()
   at Microsoft.EntityFrameworkCore.Storage.RelationalDataReader.Read()
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSet(Int32 startCommandIndex, RelationalDataReader reader)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.Consume(RelationalDataReader reader)
ClientConnectionId:1f570829-b4a7-443a-b6ac-ff55624a743c
Error Number:2601,State:1,Class:14
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.Consume(RelationalDataReader reader)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(IEnumerable`1 commandBatches, IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChanges(IList`1 entries)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(IList`1 entriesToSave)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(StateManager stateManager, Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.<>c.<SaveChanges>b__107_0(DbContext _, ValueTuple`2 t)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)
2023-10-31 21:05:36.887 [ERR] CompleteTransaction
2023-10-31 21:05:36.888 [INF] -------------Request-Begin------------
2023-10-31 21:05:36.888 [INF] Http Request Information: 
Schema:https 
Host: localhost:44346 
Path: /finalCase/Users 
QueryString:  
Request Body: {
  "userNumber": 233423,
  "userName": "gdfg",
  "userEmail": "strdfgdfging",
  "userPassword": "dgdg",
  "userRole": "Dealer",
  "userBalance": 745,
  "userProfitMargin": 74
}
2023-10-31 21:05:36.888 [INF] 

2023-10-31 21:05:36.888 [INF] Http Response Information: 
Schema:https 
Host: localhost:44346 
Path: /finalCase/Users 
QueryString:  
StatusCode: 200 
Response Body: {"success":true,"message":"Success","response":{"userNumber":233423,"userName":"gdfg","userEmail":"strdfgdfging","userPassword":"45427346a3dea51c7a10fe6e3584f267","userPasswordRetryCount":0,"userRole":"Dealer","userBalance":745,"userProfitMargin":74,"addresses":[],"orders":[]}}
2023-10-31 21:05:36.888 [INF] -------------Request-End------------
2023-10-31 21:06:20.976 [INF] LogErrorHandlerMiddleware.Invoke
2023-10-31 21:06:20.979 [INF] HeartBeat
2023-10-31 21:06:20.981 [INF] LogRequestLoggingMiddleware.Invoke
2023-10-31 21:06:20.994 [INF] -------------Request-Begin------------
2023-10-31 21:06:20.994 [INF] Http Request Information: 
Schema:https 
Host: localhost:44346 
Path: /finalCase/Users 
QueryString:  
Request Body: {
  "userNumber": 785436,
  "userName": "sdfgfsd",
  "userEmail": "gdfgdf",
  "userPassword": "dfgdg",
  "userRole": "Dealer",
  "userBalance": 740,
  "userProfitMargin": 10
}
2023-10-31 21:06:20.994 [INF] 

2023-10-31 21:06:20.994 [INF] Http Response Information: 
Schema:https 
Host: localhost:44346 
Path: /finalCase/Users 
QueryString:  
StatusCode: 200 
Response Body: {"success":true,"message":"Success","response":{"userNumber":785436,"userName":"sdfgfsd","userEmail":"gdfgdf","userPassword":"29c37d6f631beeadb5fd63b63e7c4acd","userPasswordRetryCount":0,"userRole":"Dealer","userBalance":740,"userProfitMargin":10,"addresses":[],"orders":[]}}
2023-10-31 21:06:20.994 [INF] -------------Request-End------------
2023-10-31 21:15:23.922 [INF] App server is starting.
2023-10-31 21:15:33.693 [INF] LogErrorHandlerMiddleware.Invoke
2023-10-31 21:15:33.697 [INF] HeartBeat
2023-10-31 21:15:33.698 [INF] LogRequestLoggingMiddleware.Invoke
2023-10-31 21:15:35.798 [INF] -------------Request-Begin------------
2023-10-31 21:15:35.799 [INF] Http Request Information: 
Schema:https 
Host: localhost:44346 
Path: /finalCase/Addresses 
QueryString:  
Request Body: 
2023-10-31 21:15:35.799 [INF] 

2023-10-31 21:15:35.799 [INF] Http Response Information: 
Schema:https 
Host: localhost:44346 
Path: /finalCase/Addresses 
QueryString:  
StatusCode: 200 
Response Body: {"success":true,"message":"Success","response":[{"userId":1,"addressLine1":"sdfsdf","addressLine2":"test","city":"test","county":"test","postalCode":44},{"userId":1,"addressLine1":"test2","addressLine2":"test2","city":"test2","county":"test2","postalCode":45},{"userId":1,"addressLine1":"test3","addressLine2":"test3","city":"test3","county":"test3","postalCode":45},{"userId":1,"addressLine1":"test3","addressLine2":"test3","city":"test3","county":"test3","postalCode":45}]}
2023-10-31 21:15:35.800 [INF] -------------Request-End------------
2023-10-31 22:38:03.724 [INF] App server is starting.
